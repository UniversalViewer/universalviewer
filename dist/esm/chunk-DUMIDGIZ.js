import{a as Mr,g as Ds}from"./chunk-3VPLN4HO.js";import{a as ks,c as Kf,d as Mn}from"./chunk-JVQXRAW4.js";import{b as rt,g as Rr,n as io,p as B}from"./chunk-4W27INWC.js";import{e as Ps}from"./chunk-EQPD2MMQ.js";import{b as tt,c as nt}from"./chunk-YAXTLTJC.js";var Ws=tt(G=>{"use strict";var xn=Symbol.for("react.element"),Xf=Symbol.for("react.portal"),Jf=Symbol.for("react.fragment"),qf=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),ep=Symbol.for("react.provider"),tp=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),ip=Symbol.for("react.memo"),op=Symbol.for("react.lazy"),Vs=Symbol.iterator;function lp(e){return e===null||typeof e!="object"?null:(e=Vs&&e[Vs]||e["@@iterator"],typeof e=="function"?e:null)}var Us={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gs=Object.assign,Fs={};function qt(e,t,n){this.props=e,this.context=t,this.refs=Fs,this.updater=n||Us}qt.prototype.isReactComponent={};qt.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qt.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function js(){}js.prototype=qt.prototype;function oo(e,t,n){this.props=e,this.context=t,this.refs=Fs,this.updater=n||Us}var lo=oo.prototype=new js;lo.constructor=oo;Gs(lo,qt.prototype);lo.isPureReactComponent=!0;var Hs=Array.isArray,bs=Object.prototype.hasOwnProperty,so={current:null},Bs={key:!0,ref:!0,__self:!0,__source:!0};function $s(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)bs.call(t,r)&&!Bs.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var f=Array(u),c=0;c<u;c++)f[c]=arguments[c+2];i.children=f}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:xn,type:e,key:o,ref:l,props:i,_owner:so.current}}function sp(e,t){return{$$typeof:xn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ao(e){return typeof e=="object"&&e!==null&&e.$$typeof===xn}function ap(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zs=/\/+/g;function uo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ap(""+e.key):t.toString(36)}function xr(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case xn:case Xf:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+uo(l,0):r,Hs(i)?(n="",e!=null&&(n=e.replace(zs,"$&/")+"/"),xr(i,t,n,"",function(c){return c})):i!=null&&(ao(i)&&(i=sp(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(zs,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",Hs(e))for(var u=0;u<e.length;u++){o=e[u];var f=r+uo(o,u);l+=xr(o,t,n,f,i)}else if(f=lp(e),typeof f=="function")for(e=f.call(e),u=0;!(o=e.next()).done;)o=o.value,f=r+uo(o,u++),l+=xr(o,t,n,f,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Pr(e,t,n){if(e==null)return e;var r=[],i=0;return xr(e,r,"","",function(o){return t.call(n,o,i++)}),r}function up(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ge={current:null},kr={transition:null},cp={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:kr,ReactCurrentOwner:so};G.Children={map:Pr,forEach:function(e,t,n){Pr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pr(e,function(){t++}),t},toArray:function(e){return Pr(e,function(t){return t})||[]},only:function(e){if(!ao(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=qt;G.Fragment=Jf;G.Profiler=Zf;G.PureComponent=oo;G.StrictMode=qf;G.Suspense=rp;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gs({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=so.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(f in t)bs.call(t,f)&&!Bs.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&u!==void 0?u[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){u=Array(f);for(var c=0;c<f;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:xn,type:e.type,key:i,ref:o,props:r,_owner:l}};G.createContext=function(e){return e={$$typeof:tp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ep,_context:e},e.Consumer=e};G.createElement=$s;G.createFactory=function(e){var t=$s.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:np,render:e}};G.isValidElement=ao;G.lazy=function(e){return{$$typeof:op,_payload:{_status:-1,_result:e},_init:up}};G.memo=function(e,t){return{$$typeof:ip,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=kr.transition;kr.transition={};try{e()}finally{kr.transition=t}};G.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};G.useCallback=function(e,t){return ge.current.useCallback(e,t)};G.useContext=function(e){return ge.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return ge.current.useDeferredValue(e)};G.useEffect=function(e,t){return ge.current.useEffect(e,t)};G.useId=function(){return ge.current.useId()};G.useImperativeHandle=function(e,t,n){return ge.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return ge.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return ge.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return ge.current.useMemo(e,t)};G.useReducer=function(e,t,n){return ge.current.useReducer(e,t,n)};G.useRef=function(e){return ge.current.useRef(e)};G.useState=function(e){return ge.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return ge.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return ge.current.useTransition()};G.version="18.2.0"});var Zt=tt((wh,Qs)=>{"use strict";Qs.exports=Ws()});var ra=tt(H=>{"use strict";function co(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(0<Vr(i,t))e[r]=t,e[n]=i,n=r;else break e}}function Fe(e){return e.length===0?null:e[0]}function Dr(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var l=2*(r+1)-1,u=e[l],f=l+1,c=e[f];if(0>Vr(u,n))f<i&&0>Vr(c,u)?(e[r]=c,e[f]=n,r=f):(e[r]=u,e[l]=n,r=l);else if(f<i&&0>Vr(c,n))e[r]=c,e[f]=n,r=f;else break e}}return t}function Vr(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(Ys=performance,H.unstable_now=function(){return Ys.now()}):(fo=Date,Ks=fo.now(),H.unstable_now=function(){return fo.now()-Ks});var Ys,fo,Ks,Ye=[],ht=[],fp=1,xe=null,ue=3,Ur=!1,Vt=!1,Pn=!1,Xs=typeof setTimeout=="function"?setTimeout:null,Js=typeof clearTimeout=="function"?clearTimeout:null,qs=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function po(e){for(var t=Fe(ht);t!==null;){if(t.callback===null)Dr(ht);else if(t.startTime<=e)Dr(ht),t.sortIndex=t.expirationTime,co(Ye,t);else break;t=Fe(ht)}}function ho(e){if(Pn=!1,po(e),!Vt)if(Fe(Ye)!==null)Vt=!0,_o(go);else{var t=Fe(ht);t!==null&&yo(ho,t.startTime-e)}}function go(e,t){Vt=!1,Pn&&(Pn=!1,Js(kn),kn=-1),Ur=!0;var n=ue;try{for(po(t),xe=Fe(Ye);xe!==null&&(!(xe.expirationTime>t)||e&&!ta());){var r=xe.callback;if(typeof r=="function"){xe.callback=null,ue=xe.priorityLevel;var i=r(xe.expirationTime<=t);t=H.unstable_now(),typeof i=="function"?xe.callback=i:xe===Fe(Ye)&&Dr(Ye),po(t)}else Dr(Ye);xe=Fe(Ye)}if(xe!==null)var o=!0;else{var l=Fe(ht);l!==null&&yo(ho,l.startTime-t),o=!1}return o}finally{xe=null,ue=n,Ur=!1}}var Gr=!1,Fr=null,kn=-1,Zs=5,ea=-1;function ta(){return!(H.unstable_now()-ea<Zs)}function vo(){if(Fr!==null){var e=H.unstable_now();ea=e;var t=!0;try{t=Fr(!0,e)}finally{t?Dn():(Gr=!1,Fr=null)}}else Gr=!1}var Dn;typeof qs=="function"?Dn=function(){qs(vo)}:typeof MessageChannel!="undefined"?(mo=new MessageChannel,na=mo.port2,mo.port1.onmessage=vo,Dn=function(){na.postMessage(null)}):Dn=function(){Xs(vo,0)};var mo,na;function _o(e){Fr=e,Gr||(Gr=!0,Dn())}function yo(e,t){kn=Xs(function(){e(H.unstable_now())},t)}H.unstable_IdlePriority=5;H.unstable_ImmediatePriority=1;H.unstable_LowPriority=4;H.unstable_NormalPriority=3;H.unstable_Profiling=null;H.unstable_UserBlockingPriority=2;H.unstable_cancelCallback=function(e){e.callback=null};H.unstable_continueExecution=function(){Vt||Ur||(Vt=!0,_o(go))};H.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Zs=0<e?Math.floor(1e3/e):5};H.unstable_getCurrentPriorityLevel=function(){return ue};H.unstable_getFirstCallbackNode=function(){return Fe(Ye)};H.unstable_next=function(e){switch(ue){case 1:case 2:case 3:var t=3;break;default:t=ue}var n=ue;ue=t;try{return e()}finally{ue=n}};H.unstable_pauseExecution=function(){};H.unstable_requestPaint=function(){};H.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=ue;ue=e;try{return t()}finally{ue=n}};H.unstable_scheduleCallback=function(e,t,n){var r=H.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=n+i,e={id:fp++,callback:t,priorityLevel:e,startTime:n,expirationTime:i,sortIndex:-1},n>r?(e.sortIndex=n,co(ht,e),Fe(Ye)===null&&e===Fe(ht)&&(Pn?(Js(kn),kn=-1):Pn=!0,yo(ho,n-r))):(e.sortIndex=i,co(Ye,e),Vt||Ur||(Vt=!0,_o(go))),e};H.unstable_shouldYield=ta;H.unstable_wrapCallback=function(e){var t=ue;return function(){var n=ue;ue=t;try{return e.apply(this,arguments)}finally{ue=n}}}});var oa=tt((Ah,ia)=>{"use strict";ia.exports=ra()});var pf=tt(Me=>{"use strict";var la=Zt(),Ce=oa();function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sa=new Set,Vn={};function Ut(e,t){en(e,t),en(e+"Capture",t)}function en(e,t){for(Vn[e]=t,e=0;e<t.length;e++)sa.add(t[e])}var it=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Eo=Object.prototype.hasOwnProperty,pp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aa={},ua={};function dp(e){return Eo.call(ua,e)?!0:Eo.call(aa,e)?!1:pp.test(e)?ua[e]=!0:(aa[e]=!0,!1)}function hp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gp(e,t,n,r){if(t===null||typeof t=="undefined"||hp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ve(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){le[e]=new ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];le[t]=new ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){le[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){le[e]=new ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){le[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){le[e]=new ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){le[e]=new ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){le[e]=new ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){le[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var To=/[\-:]([a-z])/g;function So(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(To,So);le[t]=new ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(To,So);le[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(To,So);le[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){le[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)});le.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){le[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function No(e,t,n,r){var i=le.hasOwnProperty(t)?le[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gp(t,n,i,r)&&(n=null),r||i===null?dp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ot=la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jr=Symbol.for("react.element"),tn=Symbol.for("react.portal"),nn=Symbol.for("react.fragment"),Io=Symbol.for("react.strict_mode"),Oo=Symbol.for("react.profiler"),ca=Symbol.for("react.provider"),fa=Symbol.for("react.context"),Co=Symbol.for("react.forward_ref"),wo=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),Ao=Symbol.for("react.memo"),gt=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var pa=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var da=Symbol.iterator;function Un(e){return e===null||typeof e!="object"?null:(e=da&&e[da]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,Ro;function Gn(e){if(Ro===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ro=t&&t[1]||""}return`
`+Ro+e}var Mo=!1;function xo(e,t){if(!e||Mo)return"";Mo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,u=o.length-1;1<=l&&0<=u&&i[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==o[u]){var f=`
`+i[l].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=l&&0<=u);break}}}finally{Mo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gn(e):""}function vp(e){switch(e.tag){case 5:return Gn(e.type);case 16:return Gn("Lazy");case 13:return Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 2:case 15:return e=xo(e.type,!1),e;case 11:return e=xo(e.type.render,!1),e;case 1:return e=xo(e.type,!0),e;default:return""}}function Po(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nn:return"Fragment";case tn:return"Portal";case Oo:return"Profiler";case Io:return"StrictMode";case wo:return"Suspense";case Lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fa:return(e.displayName||"Context")+".Consumer";case ca:return(e._context.displayName||"Context")+".Provider";case Co:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ao:return t=e.displayName||null,t!==null?t:Po(e.type)||"Memo";case gt:t=e._payload,e=e._init;try{return Po(e(t))}catch{}}return null}function mp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Po(t);case 8:return t===Io?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ha(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _p(e){var t=ha(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hr(e){e._valueTracker||(e._valueTracker=_p(e))}function ga(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ha(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function br(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function ko(e,t){var n=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function va(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ma(e,t){t=t.checked,t!=null&&No(e,"checked",t,!1)}function Do(e,t){ma(e,t);var n=vt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vo(e,t.type,vt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _a(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vo(e,t,n){(t!=="number"||br(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fn=Array.isArray;function rn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Uo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ya(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Fn(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vt(n)}}function Ea(e,t){var n=vt(t.value),r=vt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ta(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Go(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Br,Na=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Br.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yp=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(e){yp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hn[t]=Hn[e]})});function Ia(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hn.hasOwnProperty(e)&&Hn[e]?(""+t).trim():t+"px"}function Oa(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ia(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ep=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fo(e,t){if(t){if(Ep[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function jo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=null;function bo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bo=null,on=null,ln=null;function Ca(e){if(e=ar(e)){if(typeof Bo!="function")throw Error(L(280));var t=e.stateNode;t&&(t=vi(t),Bo(e.stateNode,e.type,t))}}function wa(e){on?ln?ln.push(e):ln=[e]:on=e}function La(){if(on){var e=on,t=ln;if(ln=on=null,Ca(e),t)for(e=0;e<t.length;e++)Ca(t[e])}}function Aa(e,t){return e(t)}function Ra(){}var $o=!1;function Ma(e,t,n){if($o)return e(t,n);$o=!0;try{return Aa(e,t,n)}finally{$o=!1,(on!==null||ln!==null)&&(Ra(),La())}}function bn(e,t){var n=e.stateNode;if(n===null)return null;var r=vi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var zo=!1;if(it)try{sn={},Object.defineProperty(sn,"passive",{get:function(){zo=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{zo=!1}var sn;function Tp(e,t,n,r,i,o,l,u,f){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var Bn=!1,$r=null,zr=!1,Wo=null,Sp={onError:function(e){Bn=!0,$r=e}};function Np(e,t,n,r,i,o,l,u,f){Bn=!1,$r=null,Tp.apply(Sp,arguments)}function Ip(e,t,n,r,i,o,l,u,f){if(Np.apply(this,arguments),Bn){if(Bn){var c=$r;Bn=!1,$r=null}else throw Error(L(198));zr||(zr=!0,Wo=c)}}function Gt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!=0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xa(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pa(e){if(Gt(e)!==e)throw Error(L(188))}function Op(e){var t=e.alternate;if(!t){if(t=Gt(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Pa(i),e;if(o===r)return Pa(i),t;o=o.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=o;break}if(u===r){l=!0,r=i,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,r=i;break}if(u===r){l=!0,r=o,n=i;break}u=u.sibling}if(!l)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function ka(e){return e=Op(e),e!==null?Da(e):null}function Da(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Da(e);if(t!==null)return t;e=e.sibling}return null}var Va=Ce.unstable_scheduleCallback,Ua=Ce.unstable_cancelCallback,Cp=Ce.unstable_shouldYield,wp=Ce.unstable_requestPaint,q=Ce.unstable_now,Lp=Ce.unstable_getCurrentPriorityLevel,Qo=Ce.unstable_ImmediatePriority,Ga=Ce.unstable_UserBlockingPriority,Wr=Ce.unstable_NormalPriority,Ap=Ce.unstable_LowPriority,Fa=Ce.unstable_IdlePriority,Qr=null,Ke=null;function Rp(e){if(Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Qr,e,void 0,(e.current.flags&128)==128)}catch{}}var je=Math.clz32?Math.clz32:Pp,Mp=Math.log,xp=Math.LN2;function Pp(e){return e>>>=0,e===0?32:31-(Mp(e)/xp|0)|0}var Yr=64,Kr=4194304;function $n(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=$n(u):(o&=l,o!==0&&(r=$n(o)))}else l=n&~i,l!==0?r=$n(l):o!==0&&(r=$n(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)==0&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!=0))return t;if((r&4)!=0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-je(t),i=1<<n,r|=e[n],t&=~i;return r}function kp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-je(o),u=1<<l,f=i[l];f===-1?((u&n)==0||(u&r)!=0)&&(i[l]=kp(u,t)):f<=t&&(e.expiredLanes|=u),o&=~u}}function Yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ja(){var e=Yr;return Yr<<=1,(Yr&4194240)==0&&(Yr=64),e}function Ko(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-je(t),e[t]=n}function Vp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-je(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Xo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-je(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var j=0;function Ha(e){return e&=-e,1<e?4<e?(e&268435455)!=0?16:536870912:4:1}var ba,Jo,Ba,$a,za,qo=!1,Jr=[],mt=null,_t=null,yt=null,Wn=new Map,Qn=new Map,Et=[],Up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wa(e,t){switch(e){case"focusin":case"focusout":mt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":yt=null;break;case"pointerover":case"pointerout":Wn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qn.delete(t.pointerId)}}function Yn(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ar(t),t!==null&&Jo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Gp(e,t,n,r,i){switch(t){case"focusin":return mt=Yn(mt,e,t,n,r,i),!0;case"dragenter":return _t=Yn(_t,e,t,n,r,i),!0;case"mouseover":return yt=Yn(yt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wn.set(o,Yn(Wn.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Qn.set(o,Yn(Qn.get(o)||null,e,t,n,r,i)),!0}return!1}function Qa(e){var t=Ft(e.target);if(t!==null){var n=Gt(t);if(n!==null){if(t=n.tag,t===13){if(t=xa(n),t!==null){e.blockedOn=t,za(e.priority,function(){Ba(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=el(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ho=r,n.target.dispatchEvent(r),Ho=null}else return t=ar(n),t!==null&&Jo(t),e.blockedOn=n,!1;t.shift()}return!0}function Ya(e,t,n){qr(e)&&n.delete(t)}function Fp(){qo=!1,mt!==null&&qr(mt)&&(mt=null),_t!==null&&qr(_t)&&(_t=null),yt!==null&&qr(yt)&&(yt=null),Wn.forEach(Ya),Qn.forEach(Ya)}function Kn(e,t){e.blockedOn===t&&(e.blockedOn=null,qo||(qo=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,Fp)))}function Xn(e){function t(i){return Kn(i,e)}if(0<Jr.length){Kn(Jr[0],e);for(var n=1;n<Jr.length;n++){var r=Jr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mt!==null&&Kn(mt,e),_t!==null&&Kn(_t,e),yt!==null&&Kn(yt,e),Wn.forEach(t),Qn.forEach(t),n=0;n<Et.length;n++)r=Et[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Et.length&&(n=Et[0],n.blockedOn===null);)Qa(n),n.blockedOn===null&&Et.shift()}var an=ot.ReactCurrentBatchConfig,Zr=!0;function jp(e,t,n,r){var i=j,o=an.transition;an.transition=null;try{j=1,Zo(e,t,n,r)}finally{j=i,an.transition=o}}function Hp(e,t,n,r){var i=j,o=an.transition;an.transition=null;try{j=4,Zo(e,t,n,r)}finally{j=i,an.transition=o}}function Zo(e,t,n,r){if(Zr){var i=el(e,t,n,r);if(i===null)hl(e,t,r,ei,n),Wa(e,r);else if(Gp(i,e,t,n,r))r.stopPropagation();else if(Wa(e,r),t&4&&-1<Up.indexOf(e)){for(;i!==null;){var o=ar(i);if(o!==null&&ba(o),o=el(e,t,n,r),o===null&&hl(e,t,r,ei,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else hl(e,t,r,null,n)}}var ei=null;function el(e,t,n,r){if(ei=null,e=bo(r),e=Ft(e),e!==null)if(t=Gt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xa(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function Ka(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lp()){case Qo:return 1;case Ga:return 4;case Wr:case Ap:return 16;case Fa:return 536870912;default:return 16}default:return 16}}var Tt=null,tl=null,ti=null;function Xa(){if(ti)return ti;var e,t=tl,n=t.length,r,i="value"in Tt?Tt.value:Tt.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return ti=i.slice(e,1<r?1-r:void 0)}function ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function Ja(){return!1}function we(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ri:Ja,this.isPropagationStopped=Ja,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),t}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=we(un),Jn=Y({},un,{view:0,detail:0}),bp=we(Jn),rl,il,qn,ii=Y({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(rl=e.screenX-qn.screenX,il=e.screenY-qn.screenY):il=rl=0,qn=e),rl)},movementY:function(e){return"movementY"in e?e.movementY:il}}),qa=we(ii),Bp=Y({},ii,{dataTransfer:0}),$p=we(Bp),zp=Y({},Jn,{relatedTarget:0}),ol=we(zp),Wp=Y({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),Qp=we(Wp),Yp=Y({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kp=we(Yp),Xp=Y({},un,{data:0}),Za=we(Xp),Jp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ed(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zp[e])?!!t[e]:!1}function ll(){return ed}var td=Y({},Jn,{key:function(e){if(e.key){var t=Jp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nd=we(td),rd=Y({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=we(rd),id=Y({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),od=we(id),ld=Y({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),sd=we(ld),ad=Y({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ud=we(ad),cd=[9,13,27,32],sl=it&&"CompositionEvent"in window,Zn=null;it&&"documentMode"in document&&(Zn=document.documentMode);var fd=it&&"TextEvent"in window&&!Zn,tu=it&&(!sl||Zn&&8<Zn&&11>=Zn),nu=String.fromCharCode(32),ru=!1;function iu(e,t){switch(e){case"keyup":return cd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cn=!1;function pd(e,t){switch(e){case"compositionend":return ou(t);case"keypress":return t.which!==32?null:(ru=!0,nu);case"textInput":return e=t.data,e===nu&&ru?null:e;default:return null}}function dd(e,t){if(cn)return e==="compositionend"||!sl&&iu(e,t)?(e=Xa(),ti=tl=Tt=null,cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tu&&t.locale!=="ko"?null:t.data;default:return null}}var hd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hd[e.type]:t==="textarea"}function su(e,t,n,r){wa(r),t=di(t,"onChange"),0<t.length&&(n=new nl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var er=null,tr=null;function gd(e){Cu(e,0)}function oi(e){var t=gn(e);if(ga(t))return e}function vd(e,t){if(e==="change")return t}var au=!1;it&&(it?(si="oninput"in document,si||(al=document.createElement("div"),al.setAttribute("oninput","return;"),si=typeof al.oninput=="function"),li=si):li=!1,au=li&&(!document.documentMode||9<document.documentMode));var li,si,al;function uu(){er&&(er.detachEvent("onpropertychange",cu),tr=er=null)}function cu(e){if(e.propertyName==="value"&&oi(tr)){var t=[];su(t,tr,e,bo(e)),Ma(gd,t)}}function md(e,t,n){e==="focusin"?(uu(),er=t,tr=n,er.attachEvent("onpropertychange",cu)):e==="focusout"&&uu()}function _d(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oi(tr)}function yd(e,t){if(e==="click")return oi(t)}function Ed(e,t){if(e==="input"||e==="change")return oi(t)}function Td(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var He=typeof Object.is=="function"?Object.is:Td;function nr(e,t){if(He(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eo.call(t,i)||!He(e[i],t[i]))return!1}return!0}function fu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pu(e,t){var n=fu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fu(n)}}function du(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?du(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hu(){for(var e=window,t=br();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=br(e.document)}return t}function ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sd(e){var t=hu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&du(n.ownerDocument.documentElement,n)){if(r!==null&&ul(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=pu(n,o);var l=pu(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nd=it&&"documentMode"in document&&11>=document.documentMode,fn=null,cl=null,rr=null,fl=!1;function gu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fl||fn==null||fn!==br(r)||(r=fn,"selectionStart"in r&&ul(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rr&&nr(rr,r)||(rr=r,r=di(cl,"onSelect"),0<r.length&&(t=new nl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fn)))}function ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pn={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionend:ai("Transition","TransitionEnd")},pl={},vu={};it&&(vu=document.createElement("div").style,"AnimationEvent"in window||(delete pn.animationend.animation,delete pn.animationiteration.animation,delete pn.animationstart.animation),"TransitionEvent"in window||delete pn.transitionend.transition);function ui(e){if(pl[e])return pl[e];if(!pn[e])return e;var t=pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vu)return pl[e]=t[n];return e}var mu=ui("animationend"),_u=ui("animationiteration"),yu=ui("animationstart"),Eu=ui("transitionend"),Tu=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function St(e,t){Tu.set(e,t),Ut(t,[e])}for(ci=0;ci<Su.length;ci++)fi=Su[ci],Nu=fi.toLowerCase(),Iu=fi[0].toUpperCase()+fi.slice(1),St(Nu,"on"+Iu);var fi,Nu,Iu,ci;St(mu,"onAnimationEnd");St(_u,"onAnimationIteration");St(yu,"onAnimationStart");St("dblclick","onDoubleClick");St("focusin","onFocus");St("focusout","onBlur");St(Eu,"onTransitionEnd");en("onMouseEnter",["mouseout","mouseover"]);en("onMouseLeave",["mouseout","mouseover"]);en("onPointerEnter",["pointerout","pointerover"]);en("onPointerLeave",["pointerout","pointerover"]);Ut("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ut("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ut("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ut("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ut("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ut("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Id=new Set("cancel close invalid load scroll toggle".split(" ").concat(ir));function Ou(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ip(r,t,void 0,e),e.currentTarget=null}function Cu(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],f=u.instance,c=u.currentTarget;if(u=u.listener,f!==o&&i.isPropagationStopped())break e;Ou(i,u,c),o=f}else for(l=0;l<r.length;l++){if(u=r[l],f=u.instance,c=u.currentTarget,u=u.listener,f!==o&&i.isPropagationStopped())break e;Ou(i,u,c),o=f}}}if(zr)throw e=Wo,zr=!1,Wo=null,e}function z(e,t){var n=t[El];n===void 0&&(n=t[El]=new Set);var r=e+"__bubble";n.has(r)||(wu(t,e,2,!1),n.add(r))}function dl(e,t,n){var r=0;t&&(r|=4),wu(n,e,r,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function or(e){if(!e[pi]){e[pi]=!0,sa.forEach(function(n){n!=="selectionchange"&&(Id.has(n)||dl(n,!1,e),dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,dl("selectionchange",!1,t))}}function wu(e,t,n,r){switch(Ka(t)){case 1:var i=jp;break;case 4:i=Hp;break;default:i=Zo}n=i.bind(null,t,n,e),i=void 0,!zo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function hl(e,t,n,r,i){var o=r;if((t&1)==0&&(t&2)==0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var f=l.tag;if((f===3||f===4)&&(f=l.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;l=l.return}for(;u!==null;){if(l=Ft(u),l===null)return;if(f=l.tag,f===5||f===6){r=o=l;continue e}u=u.parentNode}}r=r.return}Ma(function(){var c=o,h=bo(n),p=[];e:{var a=Tu.get(e);if(a!==void 0){var s=nl,d=e;switch(e){case"keypress":if(ni(n)===0)break e;case"keydown":case"keyup":s=nd;break;case"focusin":d="focus",s=ol;break;case"focusout":d="blur",s=ol;break;case"beforeblur":case"afterblur":s=ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=$p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=od;break;case mu:case _u:case yu:s=Qp;break;case Eu:s=sd;break;case"scroll":s=bp;break;case"wheel":s=ud;break;case"copy":case"cut":case"paste":s=Kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=eu}var g=(t&4)!=0,E=!g&&e==="scroll",_=g?a!==null?a+"Capture":null:a;g=[];for(var v=c,T;v!==null;){T=v;var I=T.stateNode;if(T.tag===5&&I!==null&&(T=I,_!==null&&(I=bn(v,_),I!=null&&g.push(lr(v,I,T)))),E)break;v=v.return}0<g.length&&(a=new s(a,d,null,n,h),p.push({event:a,listeners:g}))}}if((t&7)==0){e:{if(a=e==="mouseover"||e==="pointerover",s=e==="mouseout"||e==="pointerout",a&&n!==Ho&&(d=n.relatedTarget||n.fromElement)&&(Ft(d)||d[lt]))break e;if((s||a)&&(a=h.window===h?h:(a=h.ownerDocument)?a.defaultView||a.parentWindow:window,s?(d=n.relatedTarget||n.toElement,s=c,d=d?Ft(d):null,d!==null&&(E=Gt(d),d!==E||d.tag!==5&&d.tag!==6)&&(d=null)):(s=null,d=c),s!==d)){if(g=qa,I="onMouseLeave",_="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=eu,I="onPointerLeave",_="onPointerEnter",v="pointer"),E=s==null?a:gn(s),T=d==null?a:gn(d),a=new g(I,v+"leave",s,n,h),a.target=E,a.relatedTarget=T,I=null,Ft(h)===c&&(g=new g(_,v+"enter",d,n,h),g.target=T,g.relatedTarget=E,I=g),E=I,s&&d)t:{for(g=s,_=d,v=0,T=g;T;T=dn(T))v++;for(T=0,I=_;I;I=dn(I))T++;for(;0<v-T;)g=dn(g),v--;for(;0<T-v;)_=dn(_),T--;for(;v--;){if(g===_||_!==null&&g===_.alternate)break t;g=dn(g),_=dn(_)}g=null}else g=null;s!==null&&Lu(p,a,s,g,!1),d!==null&&E!==null&&Lu(p,E,d,g,!0)}}e:{if(a=c?gn(c):window,s=a.nodeName&&a.nodeName.toLowerCase(),s==="select"||s==="input"&&a.type==="file")var C=vd;else if(lu(a))if(au)C=Ed;else{C=_d;var O=md}else(s=a.nodeName)&&s.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(C=yd);if(C&&(C=C(e,c))){su(p,C,n,h);break e}O&&O(e,a,c),e==="focusout"&&(O=a._wrapperState)&&O.controlled&&a.type==="number"&&Vo(a,"number",a.value)}switch(O=c?gn(c):window,e){case"focusin":(lu(O)||O.contentEditable==="true")&&(fn=O,cl=c,rr=null);break;case"focusout":rr=cl=fn=null;break;case"mousedown":fl=!0;break;case"contextmenu":case"mouseup":case"dragend":fl=!1,gu(p,n,h);break;case"selectionchange":if(Nd)break;case"keydown":case"keyup":gu(p,n,h)}var R;if(sl)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else cn?iu(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(tu&&n.locale!=="ko"&&(cn||M!=="onCompositionStart"?M==="onCompositionEnd"&&cn&&(R=Xa()):(Tt=h,tl="value"in Tt?Tt.value:Tt.textContent,cn=!0)),O=di(c,M),0<O.length&&(M=new Za(M,e,null,n,h),p.push({event:M,listeners:O}),R?M.data=R:(R=ou(n),R!==null&&(M.data=R)))),(R=fd?pd(e,n):dd(e,n))&&(c=di(c,"onBeforeInput"),0<c.length&&(h=new Za("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=R))}Cu(p,t)})}function lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function di(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bn(e,n),o!=null&&r.unshift(lr(e,o,i)),o=bn(e,t),o!=null&&r.push(lr(e,o,i))),e=e.return}return r}function dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lu(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var u=n,f=u.alternate,c=u.stateNode;if(f!==null&&f===r)break;u.tag===5&&c!==null&&(u=c,i?(f=bn(n,o),f!=null&&l.unshift(lr(n,f,u))):i||(f=bn(n,o),f!=null&&l.push(lr(n,f,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Od=/\r\n?/g,Cd=/\u0000|\uFFFD/g;function Au(e){return(typeof e=="string"?e:""+e).replace(Od,`
`).replace(Cd,"")}function hi(e,t,n){if(t=Au(t),Au(e)!==t&&n)throw Error(L(425))}function gi(){}var gl=null,vl=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _l=typeof setTimeout=="function"?setTimeout:void 0,wd=typeof clearTimeout=="function"?clearTimeout:void 0,Ru=typeof Promise=="function"?Promise:void 0,Ld=typeof queueMicrotask=="function"?queueMicrotask:typeof Ru!="undefined"?function(e){return Ru.resolve(null).then(e).catch(Ad)}:_l;function Ad(e){setTimeout(function(){throw e})}function yl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Xn(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xn(t)}function Nt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hn=Math.random().toString(36).slice(2),Xe="__reactFiber$"+hn,sr="__reactProps$"+hn,lt="__reactContainer$"+hn,El="__reactEvents$"+hn,Rd="__reactListeners$"+hn,Md="__reactHandles$"+hn;function Ft(e){var t=e[Xe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lt]||n[Xe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mu(e);e!==null;){if(n=e[Xe])return n;e=Mu(e)}return t}e=n,n=e.parentNode}return null}function ar(e){return e=e[Xe]||e[lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function vi(e){return e[sr]||null}var Tl=[],vn=-1;function It(e){return{current:e}}function W(e){0>vn||(e.current=Tl[vn],Tl[vn]=null,vn--)}function b(e,t){vn++,Tl[vn]=e.current,e.current=t}var Ot={},ce=It(Ot),Te=It(!1),jt=Ot;function mn(e,t){var n=e.type.contextTypes;if(!n)return Ot;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Se(e){return e=e.childContextTypes,e!=null}function mi(){W(Te),W(ce)}function xu(e,t,n){if(ce.current!==Ot)throw Error(L(168));b(ce,t),b(Te,n)}function Pu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(L(108,mp(e)||"Unknown",i));return Y({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ot,jt=ce.current,b(ce,e),b(Te,Te.current),!0}function ku(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=Pu(e,t,jt),r.__reactInternalMemoizedMergedChildContext=e,W(Te),W(ce),b(ce,e)):W(Te),b(Te,n)}var st=null,yi=!1,Sl=!1;function Du(e){st===null?st=[e]:st.push(e)}function xd(e){yi=!0,Du(e)}function Ct(){if(!Sl&&st!==null){Sl=!0;var e=0,t=j;try{var n=st;for(j=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}st=null,yi=!1}catch(i){throw st!==null&&(st=st.slice(e+1)),Va(Qo,Ct),i}finally{j=t,Sl=!1}}return null}var _n=[],yn=0,Ei=null,Ti=0,Pe=[],ke=0,Ht=null,at=1,ut="";function bt(e,t){_n[yn++]=Ti,_n[yn++]=Ei,Ei=e,Ti=t}function Vu(e,t,n){Pe[ke++]=at,Pe[ke++]=ut,Pe[ke++]=Ht,Ht=e;var r=at;e=ut;var i=32-je(r)-1;r&=~(1<<i),n+=1;var o=32-je(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,at=1<<32-je(t)+i|n<<i|r,ut=o+e}else at=1<<o|n<<i|r,ut=e}function Nl(e){e.return!==null&&(bt(e,1),Vu(e,1,0))}function Il(e){for(;e===Ei;)Ei=_n[--yn],_n[yn]=null,Ti=_n[--yn],_n[yn]=null;for(;e===Ht;)Ht=Pe[--ke],Pe[ke]=null,ut=Pe[--ke],Pe[ke]=null,at=Pe[--ke],Pe[ke]=null}var Le=null,Ae=null,Q=!1,be=null;function Uu(e,t){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Le=e,Ae=Nt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Le=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ht!==null?{id:at,overflow:ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Le=e,Ae=null,!0):!1;default:return!1}}function Ol(e){return(e.mode&1)!=0&&(e.flags&128)==0}function Cl(e){if(Q){var t=Ae;if(t){var n=t;if(!Gu(e,t)){if(Ol(e))throw Error(L(418));t=Nt(n.nextSibling);var r=Le;t&&Gu(e,t)?Uu(r,n):(e.flags=e.flags&-4097|2,Q=!1,Le=e)}}else{if(Ol(e))throw Error(L(418));e.flags=e.flags&-4097|2,Q=!1,Le=e}}}function Fu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Le=e}function Si(e){if(e!==Le)return!1;if(!Q)return Fu(e),Q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=Ae)){if(Ol(e))throw ju(),Error(L(418));for(;t;)Uu(e,t),t=Nt(t.nextSibling)}if(Fu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ae=Nt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Le?Nt(e.stateNode.nextSibling):null;return!0}function ju(){for(var e=Ae;e;)e=Nt(e.nextSibling)}function En(){Ae=Le=null,Q=!1}function wl(e){be===null?be=[e]:be.push(e)}var Pd=ot.ReactCurrentBatchConfig;function Be(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ni=It(null),Ii=null,Tn=null,Ll=null;function Al(){Ll=Tn=Ii=null}function Rl(e){var t=Ni.current;W(Ni),e._currentValue=t}function Ml(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sn(e,t){Ii=e,Ll=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!=0&&(Ne=!0),e.firstContext=null)}function De(e){var t=e._currentValue;if(Ll!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(Ii===null)throw Error(L(308));Tn=e,Ii.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var Bt=null;function xl(e){Bt===null?Bt=[e]:Bt.push(e)}function Hu(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,xl(t)):(n.next=i.next,i.next=n),t.interleaved=n,ct(e,r)}function ct(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wt=!1;function Pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(F&2)!=0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ct(e,n)}return i=r.interleaved,i===null?(t.next=t,xl(r)):(t.next=i.next,i.next=t),r.interleaved=t,ct(e,n)}function Oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!=0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xo(e,n)}}function Bu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ci(e,t,n,r){var i=e.updateQueue;wt=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var f=u,c=f.next;f.next=null,l===null?o=c:l.next=c,l=f;var h=e.alternate;h!==null&&(h=h.updateQueue,u=h.lastBaseUpdate,u!==l&&(u===null?h.firstBaseUpdate=c:u.next=c,h.lastBaseUpdate=f))}if(o!==null){var p=i.baseState;l=0,h=c=f=null,u=o;do{var a=u.lane,s=u.eventTime;if((r&a)===a){h!==null&&(h=h.next={eventTime:s,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var d=e,g=u;switch(a=t,s=n,g.tag){case 1:if(d=g.payload,typeof d=="function"){p=d.call(s,p,a);break e}p=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=g.payload,a=typeof d=="function"?d.call(s,p,a):d,a==null)break e;p=Y({},p,a);break e;case 2:wt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,a=i.effects,a===null?i.effects=[u]:a.push(u))}else s={eventTime:s,lane:a,tag:u.tag,payload:u.payload,callback:u.callback,next:null},h===null?(c=h=s,f=p):h=h.next=s,l|=a;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;a=u,u=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);if(h===null&&(f=p),i.baseState=f,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Wt|=l,e.lanes=l,e.memoizedState=p}}function $u(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var zu=new la.Component().refs;function kl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wi={isMounted:function(e){return(e=e._reactInternals)?Gt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_e(),i=xt(e),o=ft(r,i);o.payload=t,n!=null&&(o.callback=n),t=Lt(e,o,i),t!==null&&(We(t,e,i,r),Oi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_e(),i=xt(e),o=ft(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Lt(e,o,i),t!==null&&(We(t,e,i,r),Oi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_e(),r=xt(e),i=ft(n,r);i.tag=2,t!=null&&(i.callback=t),t=Lt(e,i,r),t!==null&&(We(t,e,r,n),Oi(t,e,r))}};function Wu(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!nr(n,r)||!nr(i,o):!0}function Qu(e,t,n){var r=!1,i=Ot,o=t.contextType;return typeof o=="object"&&o!==null?o=De(o):(i=Se(t)?jt:ce.current,r=t.contextTypes,o=(r=r!=null)?mn(e,i):Ot),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Yu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wi.enqueueReplaceState(t,t.state,null)}function Dl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zu,Pl(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=De(o):(o=Se(t)?jt:ce.current,i.context=mn(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(kl(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wi.enqueueReplaceState(i,i.state,null),Ci(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ur(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var u=i.refs;u===zu&&(u=i.refs={}),l===null?delete u[o]:u[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ku(e){var t=e._init;return t(e._payload)}function Xu(e){function t(_,v){if(e){var T=_.deletions;T===null?(_.deletions=[v],_.flags|=16):T.push(v)}}function n(_,v){if(!e)return null;for(;v!==null;)t(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=kt(_,v),_.index=0,_.sibling=null,_}function o(_,v,T){return _.index=T,e?(T=_.alternate,T!==null?(T=T.index,T<v?(_.flags|=2,v):T):(_.flags|=2,v)):(_.flags|=1048576,v)}function l(_){return e&&_.alternate===null&&(_.flags|=2),_}function u(_,v,T,I){return v===null||v.tag!==6?(v=_s(T,_.mode,I),v.return=_,v):(v=i(v,T),v.return=_,v)}function f(_,v,T,I){var C=T.type;return C===nn?h(_,v,T.props.children,I,T.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===gt&&Ku(C)===v.type)?(I=i(v,T.props),I.ref=ur(_,v,T),I.return=_,I):(I=Qi(T.type,T.key,T.props,null,_.mode,I),I.ref=ur(_,v,T),I.return=_,I)}function c(_,v,T,I){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=ys(T,_.mode,I),v.return=_,v):(v=i(v,T.children||[]),v.return=_,v)}function h(_,v,T,I,C){return v===null||v.tag!==7?(v=Xt(T,_.mode,I,C),v.return=_,v):(v=i(v,T),v.return=_,v)}function p(_,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=_s(""+v,_.mode,T),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jr:return T=Qi(v.type,v.key,v.props,null,_.mode,T),T.ref=ur(_,null,v),T.return=_,T;case tn:return v=ys(v,_.mode,T),v.return=_,v;case gt:var I=v._init;return p(_,I(v._payload),T)}if(Fn(v)||Un(v))return v=Xt(v,_.mode,T,null),v.return=_,v;Li(_,v)}return null}function a(_,v,T,I){var C=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return C!==null?null:u(_,v,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case jr:return T.key===C?f(_,v,T,I):null;case tn:return T.key===C?c(_,v,T,I):null;case gt:return C=T._init,a(_,v,C(T._payload),I)}if(Fn(T)||Un(T))return C!==null?null:h(_,v,T,I,null);Li(_,T)}return null}function s(_,v,T,I,C){if(typeof I=="string"&&I!==""||typeof I=="number")return _=_.get(T)||null,u(v,_,""+I,C);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case jr:return _=_.get(I.key===null?T:I.key)||null,f(v,_,I,C);case tn:return _=_.get(I.key===null?T:I.key)||null,c(v,_,I,C);case gt:var O=I._init;return s(_,v,T,O(I._payload),C)}if(Fn(I)||Un(I))return _=_.get(T)||null,h(v,_,I,C,null);Li(v,I)}return null}function d(_,v,T,I){for(var C=null,O=null,R=v,M=v=0,D=null;R!==null&&M<T.length;M++){R.index>M?(D=R,R=null):D=R.sibling;var V=a(_,R,T[M],I);if(V===null){R===null&&(R=D);break}e&&R&&V.alternate===null&&t(_,R),v=o(V,v,M),O===null?C=V:O.sibling=V,O=V,R=D}if(M===T.length)return n(_,R),Q&&bt(_,M),C;if(R===null){for(;M<T.length;M++)R=p(_,T[M],I),R!==null&&(v=o(R,v,M),O===null?C=R:O.sibling=R,O=R);return Q&&bt(_,M),C}for(R=r(_,R);M<T.length;M++)D=s(R,_,M,T[M],I),D!==null&&(e&&D.alternate!==null&&R.delete(D.key===null?M:D.key),v=o(D,v,M),O===null?C=D:O.sibling=D,O=D);return e&&R.forEach(function(he){return t(_,he)}),Q&&bt(_,M),C}function g(_,v,T,I){var C=Un(T);if(typeof C!="function")throw Error(L(150));if(T=C.call(T),T==null)throw Error(L(151));for(var O=C=null,R=v,M=v=0,D=null,V=T.next();R!==null&&!V.done;M++,V=T.next()){R.index>M?(D=R,R=null):D=R.sibling;var he=a(_,R,V.value,I);if(he===null){R===null&&(R=D);break}e&&R&&he.alternate===null&&t(_,R),v=o(he,v,M),O===null?C=he:O.sibling=he,O=he,R=D}if(V.done)return n(_,R),Q&&bt(_,M),C;if(R===null){for(;!V.done;M++,V=T.next())V=p(_,V.value,I),V!==null&&(v=o(V,v,M),O===null?C=V:O.sibling=V,O=V);return Q&&bt(_,M),C}for(R=r(_,R);!V.done;M++,V=T.next())V=s(R,_,M,V.value,I),V!==null&&(e&&V.alternate!==null&&R.delete(V.key===null?M:V.key),v=o(V,v,M),O===null?C=V:O.sibling=V,O=V);return e&&R.forEach(function(y){return t(_,y)}),Q&&bt(_,M),C}function E(_,v,T,I){if(typeof T=="object"&&T!==null&&T.type===nn&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case jr:e:{for(var C=T.key,O=v;O!==null;){if(O.key===C){if(C=T.type,C===nn){if(O.tag===7){n(_,O.sibling),v=i(O,T.props.children),v.return=_,_=v;break e}}else if(O.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===gt&&Ku(C)===O.type){n(_,O.sibling),v=i(O,T.props),v.ref=ur(_,O,T),v.return=_,_=v;break e}n(_,O);break}else t(_,O);O=O.sibling}T.type===nn?(v=Xt(T.props.children,_.mode,I,T.key),v.return=_,_=v):(I=Qi(T.type,T.key,T.props,null,_.mode,I),I.ref=ur(_,v,T),I.return=_,_=I)}return l(_);case tn:e:{for(O=T.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(_,v.sibling),v=i(v,T.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else t(_,v);v=v.sibling}v=ys(T,_.mode,I),v.return=_,_=v}return l(_);case gt:return O=T._init,E(_,v,O(T._payload),I)}if(Fn(T))return d(_,v,T,I);if(Un(T))return g(_,v,T,I);Li(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(_,v.sibling),v=i(v,T),v.return=_,_=v):(n(_,v),v=_s(T,_.mode,I),v.return=_,_=v),l(_)):n(_,v)}return E}var Nn=Xu(!0),Ju=Xu(!1),cr={},Je=It(cr),fr=It(cr),pr=It(cr);function $t(e){if(e===cr)throw Error(L(174));return e}function Vl(e,t){switch(b(pr,t),b(fr,e),b(Je,cr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Go(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Go(t,e)}W(Je),b(Je,t)}function In(){W(Je),W(fr),W(pr)}function qu(e){$t(pr.current);var t=$t(Je.current),n=Go(t,e.type);t!==n&&(b(fr,e),b(Je,n))}function Ul(e){fr.current===e&&(W(Je),W(fr))}var K=It(0);function Ai(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!=0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function Fl(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var Ri=ot.ReactCurrentDispatcher,jl=ot.ReactCurrentBatchConfig,zt=0,X=null,te=null,ie=null,Mi=!1,dr=!1,hr=0,kd=0;function fe(){throw Error(L(321))}function Hl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!He(e[n],t[n]))return!1;return!0}function bl(e,t,n,r,i,o){if(zt=o,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ri.current=e===null||e.memoizedState===null?Gd:Fd,e=n(r,i),dr){o=0;do{if(dr=!1,hr=0,25<=o)throw Error(L(301));o+=1,ie=te=null,t.updateQueue=null,Ri.current=jd,e=n(r,i)}while(dr)}if(Ri.current=ki,t=te!==null&&te.next!==null,zt=0,ie=te=X=null,Mi=!1,t)throw Error(L(300));return e}function Bl(){var e=hr!==0;return hr=0,e}function qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?X.memoizedState=ie=e:ie=ie.next=e,ie}function Ve(){if(te===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var t=ie===null?X.memoizedState:ie.next;if(t!==null)ie=t,te=e;else{if(e===null)throw Error(L(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},ie===null?X.memoizedState=ie=e:ie=ie.next=e}return ie}function gr(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=Ve(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=te,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=l=null,f=null,c=o;do{var h=c.lane;if((zt&h)===h)f!==null&&(f=f.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};f===null?(u=f=p,l=r):f=f.next=p,X.lanes|=h,Wt|=h}c=c.next}while(c!==null&&c!==o);f===null?l=r:f.next=u,He(r,t.memoizedState)||(Ne=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,X.lanes|=o,Wt|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zl(e){var t=Ve(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);He(o,t.memoizedState)||(Ne=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Zu(){}function ec(e,t){var n=X,r=Ve(),i=t(),o=!He(r.memoizedState,i);if(o&&(r.memoizedState=i,Ne=!0),r=r.queue,Wl(rc.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,vr(9,nc.bind(null,n,r,i,t),void 0,null),oe===null)throw Error(L(349));(zt&30)!=0||tc(n,t,i)}return i}function tc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nc(e,t,n,r){t.value=n,t.getSnapshot=r,ic(t)&&oc(e)}function rc(e,t,n){return n(function(){ic(t)&&oc(e)})}function ic(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!He(e,n)}catch{return!0}}function oc(e){var t=ct(e,1);t!==null&&We(t,e,1,-1)}function lc(e){var t=qe();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ud.bind(null,X,e),[t.memoizedState,e]}function vr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sc(){return Ve().memoizedState}function xi(e,t,n,r){var i=qe();X.flags|=e,i.memoizedState=vr(1|t,n,void 0,r===void 0?null:r)}function Pi(e,t,n,r){var i=Ve();r=r===void 0?null:r;var o=void 0;if(te!==null){var l=te.memoizedState;if(o=l.destroy,r!==null&&Hl(r,l.deps)){i.memoizedState=vr(t,n,o,r);return}}X.flags|=e,i.memoizedState=vr(1|t,n,o,r)}function ac(e,t){return xi(8390656,8,e,t)}function Wl(e,t){return Pi(2048,8,e,t)}function uc(e,t){return Pi(4,2,e,t)}function cc(e,t){return Pi(4,4,e,t)}function fc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pc(e,t,n){return n=n!=null?n.concat([e]):null,Pi(4,4,fc.bind(null,t,e),n)}function Ql(){}function dc(e,t){var n=Ve();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hc(e,t){var n=Ve();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gc(e,t,n){return(zt&21)==0?(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=n):(He(n,t)||(n=ja(),X.lanes|=n,Wt|=n,e.baseState=!0),t)}function Dd(e,t){var n=j;j=n!==0&&4>n?n:4,e(!0);var r=jl.transition;jl.transition={};try{e(!1),t()}finally{j=n,jl.transition=r}}function vc(){return Ve().memoizedState}function Vd(e,t,n){var r=xt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mc(e))_c(t,n);else if(n=Hu(e,t,n,r),n!==null){var i=_e();We(n,e,r,i),yc(n,t,r)}}function Ud(e,t,n){var r=xt(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mc(e))_c(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,u=o(l,n);if(i.hasEagerState=!0,i.eagerState=u,He(u,l)){var f=t.interleaved;f===null?(i.next=i,xl(t)):(i.next=f.next,f.next=i),t.interleaved=i;return}}catch{}finally{}n=Hu(e,t,i,r),n!==null&&(i=_e(),We(n,e,r,i),yc(n,t,r))}}function mc(e){var t=e.alternate;return e===X||t!==null&&t===X}function _c(e,t){dr=Mi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yc(e,t,n){if((n&4194240)!=0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xo(e,n)}}var ki={readContext:De,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},Gd={readContext:De,useCallback:function(e,t){return qe().memoizedState=[e,t===void 0?null:t],e},useContext:De,useEffect:ac,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xi(4194308,4,fc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xi(4194308,4,e,t)},useInsertionEffect:function(e,t){return xi(4,2,e,t)},useMemo:function(e,t){var n=qe();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qe();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vd.bind(null,X,e),[r.memoizedState,e]},useRef:function(e){var t=qe();return e={current:e},t.memoizedState=e},useState:lc,useDebugValue:Ql,useDeferredValue:function(e){return qe().memoizedState=e},useTransition:function(){var e=lc(!1),t=e[0];return e=Dd.bind(null,e[1]),qe().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=X,i=qe();if(Q){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),oe===null)throw Error(L(349));(zt&30)!=0||tc(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ac(rc.bind(null,r,o,e),[e]),r.flags|=2048,vr(9,nc.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=qe(),t=oe.identifierPrefix;if(Q){var n=ut,r=at;n=(r&~(1<<32-je(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fd={readContext:De,useCallback:dc,useContext:De,useEffect:Wl,useImperativeHandle:pc,useInsertionEffect:uc,useLayoutEffect:cc,useMemo:hc,useReducer:$l,useRef:sc,useState:function(){return $l(gr)},useDebugValue:Ql,useDeferredValue:function(e){var t=Ve();return gc(t,te.memoizedState,e)},useTransition:function(){var e=$l(gr)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Zu,useSyncExternalStore:ec,useId:vc,unstable_isNewReconciler:!1},jd={readContext:De,useCallback:dc,useContext:De,useEffect:Wl,useImperativeHandle:pc,useInsertionEffect:uc,useLayoutEffect:cc,useMemo:hc,useReducer:zl,useRef:sc,useState:function(){return zl(gr)},useDebugValue:Ql,useDeferredValue:function(e){var t=Ve();return te===null?t.memoizedState=e:gc(t,te.memoizedState,e)},useTransition:function(){var e=zl(gr)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Zu,useSyncExternalStore:ec,useId:vc,unstable_isNewReconciler:!1};function On(e,t){try{var n="",r=t;do n+=vp(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Yl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Hd=typeof WeakMap=="function"?WeakMap:Map;function Ec(e,t,n){n=ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hi||(Hi=!0,cs=r),Kl(e,t)},n}function Tc(e,t,n){n=ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Kl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Kl(e,t),typeof r!="function"&&(Rt===null?Rt=new Set([this]):Rt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Sc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hd;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=th.bind(null,e,t,n),t.then(e,e))}function Nc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ic(e,t,n,r,i){return(e.mode&1)==0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ft(-1,1),t.tag=2,Lt(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bd=ot.ReactCurrentOwner,Ne=!1;function me(e,t,n,r){t.child=e===null?Ju(t,null,n,r):Nn(t,e.child,n,r)}function Oc(e,t,n,r,i){n=n.render;var o=t.ref;return Sn(t,i),r=bl(e,t,n,r,o,i),n=Bl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pt(e,t,i)):(Q&&n&&Nl(t),t.flags|=1,me(e,t,r,i),t.child)}function Cc(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!ms(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,wc(e,t,o,r,i)):(e=Qi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&i)==0){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:nr,n(l,r)&&e.ref===t.ref)return pt(e,t,i)}return t.flags|=1,e=kt(o,r),e.ref=t.ref,e.return=t,t.child=e}function wc(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(nr(o,r)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=r=o,(e.lanes&i)!=0)(e.flags&131072)!=0&&(Ne=!0);else return t.lanes=e.lanes,pt(e,t,i)}return Xl(e,t,n,r,i)}function Lc(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)==0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},b(wn,Re),Re|=n;else{if((n&1073741824)==0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,b(wn,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,b(wn,Re),Re|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,b(wn,Re),Re|=r;return me(e,t,i,n),t.child}function Ac(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xl(e,t,n,r,i){var o=Se(n)?jt:ce.current;return o=mn(t,o),Sn(t,i),n=bl(e,t,n,r,o,i),r=Bl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pt(e,t,i)):(Q&&r&&Nl(t),t.flags|=1,me(e,t,n,i),t.child)}function Rc(e,t,n,r,i){if(Se(n)){var o=!0;_i(t)}else o=!1;if(Sn(t,i),t.stateNode===null)Vi(e,t),Qu(t,n,r),Dl(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var f=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=De(c):(c=Se(n)?jt:ce.current,c=mn(t,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||f!==c)&&Yu(t,l,r,c),wt=!1;var a=t.memoizedState;l.state=a,Ci(t,r,l,i),f=t.memoizedState,u!==r||a!==f||Te.current||wt?(typeof h=="function"&&(kl(t,n,h,r),f=t.memoizedState),(u=wt||Wu(t,n,u,r,a,f,c))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),l.props=r,l.state=f,l.context=c,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,bu(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Be(t.type,u),l.props=c,p=t.pendingProps,a=l.context,f=n.contextType,typeof f=="object"&&f!==null?f=De(f):(f=Se(n)?jt:ce.current,f=mn(t,f));var s=n.getDerivedStateFromProps;(h=typeof s=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==p||a!==f)&&Yu(t,l,r,f),wt=!1,a=t.memoizedState,l.state=a,Ci(t,r,l,i);var d=t.memoizedState;u!==p||a!==d||Te.current||wt?(typeof s=="function"&&(kl(t,n,s,r),d=t.memoizedState),(c=wt||Wu(t,n,c,r,a,d,f)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,d,f),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,d,f)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&a===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&a===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=f,r=c):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&a===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&a===e.memoizedState||(t.flags|=1024),r=!1)}return Jl(e,t,n,r,o,i)}function Jl(e,t,n,r,i,o){Ac(e,t);var l=(t.flags&128)!=0;if(!r&&!l)return i&&ku(t,n,!1),pt(e,t,o);r=t.stateNode,bd.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Nn(t,e.child,null,o),t.child=Nn(t,null,u,o)):me(e,t,u,o),t.memoizedState=r.state,i&&ku(t,n,!0),t.child}function Mc(e){var t=e.stateNode;t.pendingContext?xu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xu(e,t.context,!1),Vl(e,t.containerInfo)}function xc(e,t,n,r,i){return En(),wl(i),t.flags|=256,me(e,t,n,r),t.child}var ql={dehydrated:null,treeContext:null,retryLane:0};function Zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pc(e,t,n){var r=t.pendingProps,i=K.current,o=!1,l=(t.flags&128)!=0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!=0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),b(K,i&1),e===null)return Cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)==0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},(r&1)==0&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Yi(l,r,0,null),e=Xt(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Zl(n),t.memoizedState=ql,e):es(t,l));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Bd(e,t,l,r,u,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,u=i.sibling;var f={mode:"hidden",children:r.children};return(l&1)==0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=kt(i,f),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=kt(u,o):(o=Xt(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Zl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=ql,r}return o=e.child,e=o.sibling,r=kt(o,{mode:"visible",children:r.children}),(t.mode&1)==0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function es(e,t){return t=Yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Di(e,t,n,r){return r!==null&&wl(r),Nn(t,e.child,null,n),e=es(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bd(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=Yl(Error(L(422))),Di(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Yi({mode:"visible",children:r.children},i,0,null),o=Xt(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!=0&&Nn(t,e.child,null,l),t.child.memoizedState=Zl(l),t.memoizedState=ql,o);if((t.mode&1)==0)return Di(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(L(419)),r=Yl(o,r,void 0),Di(e,t,l,r)}if(u=(l&e.childLanes)!=0,Ne||u){if(r=oe,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|l))!=0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ct(e,i),We(r,e,i,-1))}return vs(),r=Yl(Error(L(421))),Di(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=nh.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ae=Nt(i.nextSibling),Le=t,Q=!0,be=null,e!==null&&(Pe[ke++]=at,Pe[ke++]=ut,Pe[ke++]=Ht,at=e.id,ut=e.overflow,Ht=t),t=es(t,r.children),t.flags|=4096,t)}function kc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ml(e.return,t,n)}function ts(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Dc(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(me(e,t,r.children,n),r=K.current,(r&2)!=0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!=0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,n,t);else if(e.tag===19)kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(b(K,r),(t.mode&1)==0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ai(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ts(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ai(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ts(t,!0,n,null,o);break;case"together":ts(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){(t.mode&1)==0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wt|=t.lanes,(n&t.childLanes)==0)return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $d(e,t,n){switch(t.tag){case 3:Mc(t),En();break;case 5:qu(t);break;case 1:Se(t.type)&&_i(t);break;case 4:Vl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;b(Ni,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(b(K,K.current&1),t.flags|=128,null):(n&t.child.childLanes)!=0?Pc(e,t,n):(b(K,K.current&1),e=pt(e,t,n),e!==null?e.sibling:null);b(K,K.current&1);break;case 19:if(r=(n&t.childLanes)!=0,(e.flags&128)!=0){if(r)return Dc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),b(K,K.current),r)break;return null;case 22:case 23:return t.lanes=0,Lc(e,t,n)}return pt(e,t,n)}var Vc,ns,Uc,Gc;Vc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ns=function(){};Uc=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$t(Je.current);var o=null;switch(n){case"input":i=ko(e,i),r=ko(e,r),o=[];break;case"select":i=Y({},i,{value:void 0}),r=Y({},r,{value:void 0}),o=[];break;case"textarea":i=Uo(e,i),r=Uo(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gi)}Fo(n,r);var l;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vn.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var f=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&f!==u&&(f!=null||u!=null))if(c==="style")if(u){for(l in u)!u.hasOwnProperty(l)||f&&f.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in f)f.hasOwnProperty(l)&&u[l]!==f[l]&&(n||(n={}),n[l]=f[l])}else n||(o||(o=[]),o.push(c,n)),n=f;else c==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,u=u?u.__html:void 0,f!=null&&u!==f&&(o=o||[]).push(c,f)):c==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(c,""+f):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vn.hasOwnProperty(c)?(f!=null&&c==="onScroll"&&z("scroll",e),o||u===f||(o=[])):(o=o||[]).push(c,f))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Gc=function(e,t,n,r){n!==r&&(t.flags|=4)};function mr(e,t){if(!Q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zd(e,t,n){var r=t.pendingProps;switch(Il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return Se(t.type)&&mi(),pe(t),null;case 3:return r=t.stateNode,In(),W(Te),W(ce),Fl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Si(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)==0||(t.flags|=1024,be!==null&&(ds(be),be=null))),ns(e,t),pe(t),null;case 5:Ul(t);var i=$t(pr.current);if(n=t.type,e!==null&&t.stateNode!=null)Uc(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return pe(t),null}if(e=$t(Je.current),Si(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Xe]=t,r[sr]=o,e=(t.mode&1)!=0,n){case"dialog":z("cancel",r),z("close",r);break;case"iframe":case"object":case"embed":z("load",r);break;case"video":case"audio":for(i=0;i<ir.length;i++)z(ir[i],r);break;case"source":z("error",r);break;case"img":case"image":case"link":z("error",r),z("load",r);break;case"details":z("toggle",r);break;case"input":va(r,o),z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},z("invalid",r);break;case"textarea":ya(r,o),z("invalid",r)}Fo(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&hi(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&hi(r.textContent,u,e),i=["children",""+u]):Vn.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&z("scroll",r)}switch(n){case"input":Hr(r),_a(r,o,!0);break;case"textarea":Hr(r),Ta(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=gi)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sa(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Xe]=t,e[sr]=r,Vc(e,t,!1,!1),t.stateNode=e;e:{switch(l=jo(n,r),n){case"dialog":z("cancel",e),z("close",e),i=r;break;case"iframe":case"object":case"embed":z("load",e),i=r;break;case"video":case"audio":for(i=0;i<ir.length;i++)z(ir[i],e);i=r;break;case"source":z("error",e),i=r;break;case"img":case"image":case"link":z("error",e),z("load",e),i=r;break;case"details":z("toggle",e),i=r;break;case"input":va(e,r),i=ko(e,r),z("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Y({},r,{value:void 0}),z("invalid",e);break;case"textarea":ya(e,r),i=Uo(e,r),z("invalid",e);break;default:i=r}Fo(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var f=u[o];o==="style"?Oa(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Na(e,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&jn(e,f):typeof f=="number"&&jn(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vn.hasOwnProperty(o)?f!=null&&o==="onScroll"&&z("scroll",e):f!=null&&No(e,o,f,l))}switch(n){case"input":Hr(e),_a(e,r,!1);break;case"textarea":Hr(e),Ta(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vt(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?rn(e,!!r.multiple,o,!1):r.defaultValue!=null&&rn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)Gc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=$t(pr.current),$t(Je.current),Si(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xe]=t,(o=r.nodeValue!==n)&&(e=Le,e!==null))switch(e.tag){case 3:hi(r.nodeValue,n,(e.mode&1)!=0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hi(r.nodeValue,n,(e.mode&1)!=0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xe]=t,t.stateNode=r}return pe(t),null;case 13:if(W(K),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Q&&Ae!==null&&(t.mode&1)!=0&&(t.flags&128)==0)ju(),En(),t.flags|=98560,o=!1;else if(o=Si(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Xe]=t}else En(),(t.flags&128)==0&&(t.memoizedState=null),t.flags|=4;pe(t),o=!1}else be!==null&&(ds(be),be=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!=0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!=0&&(e===null||(K.current&1)!=0?ne===0&&(ne=3):vs())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return In(),ns(e,t),e===null&&or(t.stateNode.containerInfo),pe(t),null;case 10:return Rl(t.type._context),pe(t),null;case 17:return Se(t.type)&&mi(),pe(t),null;case 19:if(W(K),o=t.memoizedState,o===null)return pe(t),null;if(r=(t.flags&128)!=0,l=o.rendering,l===null)if(r)mr(o,!1);else{if(ne!==0||e!==null&&(e.flags&128)!=0)for(e=t.child;e!==null;){if(l=Ai(e),l!==null){for(t.flags|=128,mr(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return b(K,K.current&1|2),t.child}e=e.sibling}o.tail!==null&&q()>Ln&&(t.flags|=128,r=!0,mr(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ai(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),mr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Q)return pe(t),null}else 2*q()-o.renderingStartTime>Ln&&n!==1073741824&&(t.flags|=128,r=!0,mr(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=q(),t.sibling=null,n=K.current,b(K,r?n&1|2:n&1),t):(pe(t),null);case 22:case 23:return gs(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!=0?(Re&1073741824)!=0&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Wd(e,t){switch(Il(t),t.tag){case 1:return Se(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return In(),W(Te),W(ce),Fl(),e=t.flags,(e&65536)!=0&&(e&128)==0?(t.flags=e&-65537|128,t):null;case 5:return Ul(t),null;case 13:if(W(K),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));En()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(K),null;case 4:return In(),null;case 10:return Rl(t.type._context),null;case 22:case 23:return gs(),null;case 24:return null;default:return null}}var Ui=!1,de=!1,Qd=typeof WeakSet=="function"?WeakSet:Set,x=null;function Cn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(e,t,r)}else n.current=null}function rs(e,t,n){try{n()}catch(r){J(e,t,r)}}var Fc=!1;function Yd(e,t){if(gl=Zr,e=hu(),ul(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,f=-1,c=0,h=0,p=e,a=null;t:for(;;){for(var s;p!==n||i!==0&&p.nodeType!==3||(u=l+i),p!==o||r!==0&&p.nodeType!==3||(f=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(s=p.firstChild)!==null;)a=p,p=s;for(;;){if(p===e)break t;if(a===n&&++c===i&&(u=l),a===o&&++h===r&&(f=l),(s=p.nextSibling)!==null)break;p=a,a=p.parentNode}p=s}n=u===-1||f===-1?null:{start:u,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(vl={focusedElem:e,selectionRange:n},Zr=!1,x=t;x!==null;)if(t=x,e=t.child,(t.subtreeFlags&1028)!=0&&e!==null)e.return=t,x=e;else for(;x!==null;){t=x;try{var d=t.alternate;if((t.flags&1024)!=0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var g=d.memoizedProps,E=d.memoizedState,_=t.stateNode,v=_.getSnapshotBeforeUpdate(t.elementType===t.type?g:Be(t.type,g),E);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(I){J(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,x=e;break}x=t.return}return d=Fc,Fc=!1,d}function _r(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&rs(t,n,o)}i=i.next}while(i!==r)}}function Gi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jc(e){var t=e.alternate;t!==null&&(e.alternate=null,jc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xe],delete t[sr],delete t[El],delete t[Rd],delete t[Md])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hc(e){return e.tag===5||e.tag===3||e.tag===4}function bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function os(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gi));else if(r!==4&&(e=e.child,e!==null))for(os(e,t,n),e=e.sibling;e!==null;)os(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ls(e,t,n),e=e.sibling;e!==null;)ls(e,t,n),e=e.sibling}var se=null,$e=!1;function At(e,t,n){for(n=n.child;n!==null;)Bc(e,t,n),n=n.sibling}function Bc(e,t,n){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Qr,n)}catch{}switch(n.tag){case 5:de||Cn(n,t);case 6:var r=se,i=$e;se=null,At(e,t,n),se=r,$e=i,se!==null&&($e?(e=se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):se.removeChild(n.stateNode));break;case 18:se!==null&&($e?(e=se,n=n.stateNode,e.nodeType===8?yl(e.parentNode,n):e.nodeType===1&&yl(e,n),Xn(e)):yl(se,n.stateNode));break;case 4:r=se,i=$e,se=n.stateNode.containerInfo,$e=!0,At(e,t,n),se=r,$e=i;break;case 0:case 11:case 14:case 15:if(!de&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&((o&2)!=0||(o&4)!=0)&&rs(n,t,l),i=i.next}while(i!==r)}At(e,t,n);break;case 1:if(!de&&(Cn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){J(n,t,u)}At(e,t,n);break;case 21:At(e,t,n);break;case 22:n.mode&1?(de=(r=de)||n.memoizedState!==null,At(e,t,n),de=r):At(e,t,n);break;default:At(e,t,n)}}function $c(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qd),t.forEach(function(r){var i=rh.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ze(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:se=u.stateNode,$e=!1;break e;case 3:se=u.stateNode.containerInfo,$e=!0;break e;case 4:se=u.stateNode.containerInfo,$e=!0;break e}u=u.return}if(se===null)throw Error(L(160));Bc(o,l,i),se=null,$e=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(c){J(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zc(t,e),t=t.sibling}function zc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ze(t,e),Ze(e),r&4){try{_r(3,e,e.return),Gi(3,e)}catch(g){J(e,e.return,g)}try{_r(5,e,e.return)}catch(g){J(e,e.return,g)}}break;case 1:ze(t,e),Ze(e),r&512&&n!==null&&Cn(n,n.return);break;case 5:if(ze(t,e),Ze(e),r&512&&n!==null&&Cn(n,n.return),e.flags&32){var i=e.stateNode;try{jn(i,"")}catch(g){J(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,u=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&ma(i,o),jo(u,l);var c=jo(u,o);for(l=0;l<f.length;l+=2){var h=f[l],p=f[l+1];h==="style"?Oa(i,p):h==="dangerouslySetInnerHTML"?Na(i,p):h==="children"?jn(i,p):No(i,h,p,c)}switch(u){case"input":Do(i,o);break;case"textarea":Ea(i,o);break;case"select":var a=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var s=o.value;s!=null?rn(i,!!o.multiple,s,!1):a!==!!o.multiple&&(o.defaultValue!=null?rn(i,!!o.multiple,o.defaultValue,!0):rn(i,!!o.multiple,o.multiple?[]:"",!1))}i[sr]=o}catch(g){J(e,e.return,g)}}break;case 6:if(ze(t,e),Ze(e),r&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){J(e,e.return,g)}}break;case 3:if(ze(t,e),Ze(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xn(t.containerInfo)}catch(g){J(e,e.return,g)}break;case 4:ze(t,e),Ze(e);break;case 13:ze(t,e),Ze(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(us=q())),r&4&&$c(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(de=(c=de)||h,ze(t,e),de=c):ze(t,e),Ze(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&(e.mode&1)!=0)for(x=e,h=e.child;h!==null;){for(p=x=h;x!==null;){switch(a=x,s=a.child,a.tag){case 0:case 11:case 14:case 15:_r(4,a,a.return);break;case 1:Cn(a,a.return);var d=a.stateNode;if(typeof d.componentWillUnmount=="function"){r=a,n=a.return;try{t=r,d.props=t.memoizedProps,d.state=t.memoizedState,d.componentWillUnmount()}catch(g){J(r,n,g)}}break;case 5:Cn(a,a.return);break;case 22:if(a.memoizedState!==null){Yc(p);continue}}s!==null?(s.return=a,x=s):Yc(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=p.stateNode,f=p.memoizedProps.style,l=f!=null&&f.hasOwnProperty("display")?f.display:null,u.style.display=Ia("display",l))}catch(g){J(e,e.return,g)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){J(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ze(t,e),Ze(e),r&4&&$c(e);break;case 21:break;default:ze(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Hc(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jn(i,""),r.flags&=-33);var o=bc(e);ls(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=bc(e);os(e,u,l);break;default:throw Error(L(161))}}catch(f){J(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kd(e,t,n){x=e,Wc(e,t,n)}function Wc(e,t,n){for(var r=(e.mode&1)!=0;x!==null;){var i=x,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Ui;if(!l){var u=i.alternate,f=u!==null&&u.memoizedState!==null||de;u=Ui;var c=de;if(Ui=l,(de=f)&&!c)for(x=i;x!==null;)l=x,f=l.child,l.tag===22&&l.memoizedState!==null?Kc(i):f!==null?(f.return=l,x=f):Kc(i);for(;o!==null;)x=o,Wc(o,t,n),o=o.sibling;x=i,Ui=u,de=c}Qc(e,t,n)}else(i.subtreeFlags&8772)!=0&&o!==null?(o.return=i,x=o):Qc(e,t,n)}}function Qc(e){for(;x!==null;){var t=x;if((t.flags&8772)!=0){var n=t.alternate;try{if((t.flags&8772)!=0)switch(t.tag){case 0:case 11:case 15:de||Gi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!de)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Be(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&$u(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$u(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Xn(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}de||t.flags&512&&is(t)}catch(a){J(t,t.return,a)}}if(t===e){x=null;break}if(n=t.sibling,n!==null){n.return=t.return,x=n;break}x=t.return}}function Yc(e){for(;x!==null;){var t=x;if(t===e){x=null;break}var n=t.sibling;if(n!==null){n.return=t.return,x=n;break}x=t.return}}function Kc(e){for(;x!==null;){var t=x;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gi(4,t)}catch(f){J(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(f){J(t,i,f)}}var o=t.return;try{is(t)}catch(f){J(t,o,f)}break;case 5:var l=t.return;try{is(t)}catch(f){J(t,l,f)}}}catch(f){J(t,t.return,f)}if(t===e){x=null;break}var u=t.sibling;if(u!==null){u.return=t.return,x=u;break}x=t.return}}var Xd=Math.ceil,Fi=ot.ReactCurrentDispatcher,ss=ot.ReactCurrentOwner,Ue=ot.ReactCurrentBatchConfig,F=0,oe=null,ee=null,ae=0,Re=0,wn=It(0),ne=0,yr=null,Wt=0,ji=0,as=0,Er=null,Ie=null,us=0,Ln=1/0,dt=null,Hi=!1,cs=null,Rt=null,bi=!1,Mt=null,Bi=0,Tr=0,fs=null,$i=-1,zi=0;function _e(){return(F&6)!=0?q():$i!==-1?$i:$i=q()}function xt(e){return(e.mode&1)==0?1:(F&2)!=0&&ae!==0?ae&-ae:Pd.transition!==null?(zi===0&&(zi=ja()),zi):(e=j,e!==0||(e=window.event,e=e===void 0?16:Ka(e.type)),e)}function We(e,t,n,r){if(50<Tr)throw Tr=0,fs=null,Error(L(185));zn(e,n,r),((F&2)==0||e!==oe)&&(e===oe&&((F&2)==0&&(ji|=n),ne===4&&Pt(e,ae)),Oe(e,r),n===1&&F===0&&(t.mode&1)==0&&(Ln=q()+500,yi&&Ct()))}function Oe(e,t){var n=e.callbackNode;Dp(e,t);var r=Xr(e,e===oe?ae:0);if(r===0)n!==null&&Ua(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ua(n),t===1)e.tag===0?xd(Jc.bind(null,e)):Du(Jc.bind(null,e)),Ld(function(){(F&6)==0&&Ct()}),n=null;else{switch(Ha(r)){case 1:n=Qo;break;case 4:n=Ga;break;case 16:n=Wr;break;case 536870912:n=Fa;break;default:n=Wr}n=lf(n,Xc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xc(e,t){if($i=-1,zi=0,(F&6)!=0)throw Error(L(327));var n=e.callbackNode;if(An()&&e.callbackNode!==n)return null;var r=Xr(e,e===oe?ae:0);if(r===0)return null;if((r&30)!=0||(r&e.expiredLanes)!=0||t)t=Wi(e,r);else{t=r;var i=F;F|=2;var o=Zc();(oe!==e||ae!==t)&&(dt=null,Ln=q()+500,Yt(e,t));do try{Zd();break}catch(u){qc(e,u)}while(1);Al(),Fi.current=o,F=i,ee!==null?t=0:(oe=null,ae=0,t=ne)}if(t!==0){if(t===2&&(i=Yo(e),i!==0&&(r=i,t=ps(e,i))),t===1)throw n=yr,Yt(e,0),Pt(e,r),Oe(e,q()),n;if(t===6)Pt(e,r);else{if(i=e.current.alternate,(r&30)==0&&!Jd(i)&&(t=Wi(e,r),t===2&&(o=Yo(e),o!==0&&(r=o,t=ps(e,o))),t===1))throw n=yr,Yt(e,0),Pt(e,r),Oe(e,q()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:Kt(e,Ie,dt);break;case 3:if(Pt(e,r),(r&130023424)===r&&(t=us+500-q(),10<t)){if(Xr(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){_e(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_l(Kt.bind(null,e,Ie,dt),t);break}Kt(e,Ie,dt);break;case 4:if(Pt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-je(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=q()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xd(r/1960))-r,10<r){e.timeoutHandle=_l(Kt.bind(null,e,Ie,dt),r);break}Kt(e,Ie,dt);break;case 5:Kt(e,Ie,dt);break;default:throw Error(L(329))}}}return Oe(e,q()),e.callbackNode===n?Xc.bind(null,e):null}function ps(e,t){var n=Er;return e.current.memoizedState.isDehydrated&&(Yt(e,t).flags|=256),e=Wi(e,t),e!==2&&(t=Ie,Ie=n,t!==null&&ds(t)),e}function ds(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function Jd(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!He(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pt(e,t){for(t&=~as,t&=~ji,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-je(t),r=1<<n;e[n]=-1,t&=~r}}function Jc(e){if((F&6)!=0)throw Error(L(327));An();var t=Xr(e,0);if((t&1)==0)return Oe(e,q()),null;var n=Wi(e,t);if(e.tag!==0&&n===2){var r=Yo(e);r!==0&&(t=r,n=ps(e,r))}if(n===1)throw n=yr,Yt(e,0),Pt(e,t),Oe(e,q()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kt(e,Ie,dt),Oe(e,q()),null}function hs(e,t){var n=F;F|=1;try{return e(t)}finally{F=n,F===0&&(Ln=q()+500,yi&&Ct())}}function Qt(e){Mt!==null&&Mt.tag===0&&(F&6)==0&&An();var t=F;F|=1;var n=Ue.transition,r=j;try{if(Ue.transition=null,j=1,e)return e()}finally{j=r,Ue.transition=n,F=t,(F&6)==0&&Ct()}}function gs(){Re=wn.current,W(wn)}function Yt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wd(n)),ee!==null)for(n=ee.return;n!==null;){var r=n;switch(Il(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mi();break;case 3:In(),W(Te),W(ce),Fl();break;case 5:Ul(r);break;case 4:In();break;case 13:W(K);break;case 19:W(K);break;case 10:Rl(r.type._context);break;case 22:case 23:gs()}n=n.return}if(oe=e,ee=e=kt(e.current,null),ae=Re=t,ne=0,yr=null,as=ji=Wt=0,Ie=Er=null,Bt!==null){for(t=0;t<Bt.length;t++)if(n=Bt[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}Bt=null}return e}function qc(e,t){do{var n=ee;try{if(Al(),Ri.current=ki,Mi){for(var r=X.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mi=!1}if(zt=0,ie=te=X=null,dr=!1,hr=0,ss.current=null,n===null||n.return===null){ne=1,yr=t,ee=null;break}e:{var o=e,l=n.return,u=n,f=t;if(t=ae,u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var c=f,h=u,p=h.tag;if((h.mode&1)==0&&(p===0||p===11||p===15)){var a=h.alternate;a?(h.updateQueue=a.updateQueue,h.memoizedState=a.memoizedState,h.lanes=a.lanes):(h.updateQueue=null,h.memoizedState=null)}var s=Nc(l);if(s!==null){s.flags&=-257,Ic(s,l,u,o,t),s.mode&1&&Sc(o,c,t),t=s,f=c;var d=t.updateQueue;if(d===null){var g=new Set;g.add(f),t.updateQueue=g}else d.add(f);break e}else{if((t&1)==0){Sc(o,c,t),vs();break e}f=Error(L(426))}}else if(Q&&u.mode&1){var E=Nc(l);if(E!==null){(E.flags&65536)==0&&(E.flags|=256),Ic(E,l,u,o,t),wl(On(f,u));break e}}o=f=On(f,u),ne!==4&&(ne=2),Er===null?Er=[o]:Er.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var _=Ec(o,f,t);Bu(o,_);break e;case 1:u=f;var v=o.type,T=o.stateNode;if((o.flags&128)==0&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Rt===null||!Rt.has(T)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=Tc(o,u,t);Bu(o,I);break e}}o=o.return}while(o!==null)}tf(n)}catch(C){t=C,ee===n&&n!==null&&(ee=n=n.return);continue}break}while(1)}function Zc(){var e=Fi.current;return Fi.current=ki,e===null?ki:e}function vs(){(ne===0||ne===3||ne===2)&&(ne=4),oe===null||(Wt&268435455)==0&&(ji&268435455)==0||Pt(oe,ae)}function Wi(e,t){var n=F;F|=2;var r=Zc();(oe!==e||ae!==t)&&(dt=null,Yt(e,t));do try{qd();break}catch(i){qc(e,i)}while(1);if(Al(),F=n,Fi.current=r,ee!==null)throw Error(L(261));return oe=null,ae=0,ne}function qd(){for(;ee!==null;)ef(ee)}function Zd(){for(;ee!==null&&!Cp();)ef(ee)}function ef(e){var t=of(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?tf(e):ee=t,ss.current=null}function tf(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)==0){if(n=zd(n,t,Re),n!==null){ee=n;return}}else{if(n=Wd(n,t),n!==null){n.flags&=32767,ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ne=6,ee=null;return}}if(t=t.sibling,t!==null){ee=t;return}ee=t=e}while(t!==null);ne===0&&(ne=5)}function Kt(e,t,n){var r=j,i=Ue.transition;try{Ue.transition=null,j=1,eh(e,t,n,r)}finally{Ue.transition=i,j=r}return null}function eh(e,t,n,r){do An();while(Mt!==null);if((F&6)!=0)throw Error(L(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Vp(e,o),e===oe&&(ee=oe=null,ae=0),(n.subtreeFlags&2064)==0&&(n.flags&2064)==0||bi||(bi=!0,lf(Wr,function(){return An(),null})),o=(n.flags&15990)!=0,(n.subtreeFlags&15990)!=0||o){o=Ue.transition,Ue.transition=null;var l=j;j=1;var u=F;F|=4,ss.current=null,Yd(e,n),zc(n,e),Sd(vl),Zr=!!gl,vl=gl=null,e.current=n,Kd(n,e,i),wp(),F=u,j=l,Ue.transition=o}else e.current=n;if(bi&&(bi=!1,Mt=e,Bi=i),o=e.pendingLanes,o===0&&(Rt=null),Rp(n.stateNode,r),Oe(e,q()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hi)throw Hi=!1,e=cs,cs=null,e;return(Bi&1)!=0&&e.tag!==0&&An(),o=e.pendingLanes,(o&1)!=0?e===fs?Tr++:(Tr=0,fs=e):Tr=0,Ct(),null}function An(){if(Mt!==null){var e=Ha(Bi),t=Ue.transition,n=j;try{if(Ue.transition=null,j=16>e?16:e,Mt===null)var r=!1;else{if(e=Mt,Mt=null,Bi=0,(F&6)!=0)throw Error(L(331));var i=F;for(F|=4,x=e.current;x!==null;){var o=x,l=o.child;if((x.flags&16)!=0){var u=o.deletions;if(u!==null){for(var f=0;f<u.length;f++){var c=u[f];for(x=c;x!==null;){var h=x;switch(h.tag){case 0:case 11:case 15:_r(8,h,o)}var p=h.child;if(p!==null)p.return=h,x=p;else for(;x!==null;){h=x;var a=h.sibling,s=h.return;if(jc(h),h===c){x=null;break}if(a!==null){a.return=s,x=a;break}x=s}}}var d=o.alternate;if(d!==null){var g=d.child;if(g!==null){d.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}x=o}}if((o.subtreeFlags&2064)!=0&&l!==null)l.return=o,x=l;else e:for(;x!==null;){if(o=x,(o.flags&2048)!=0)switch(o.tag){case 0:case 11:case 15:_r(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,x=_;break e}x=o.return}}var v=e.current;for(x=v;x!==null;){l=x;var T=l.child;if((l.subtreeFlags&2064)!=0&&T!==null)T.return=l,x=T;else e:for(l=v;x!==null;){if(u=x,(u.flags&2048)!=0)try{switch(u.tag){case 0:case 11:case 15:Gi(9,u)}}catch(C){J(u,u.return,C)}if(u===l){x=null;break e}var I=u.sibling;if(I!==null){I.return=u.return,x=I;break e}x=u.return}}if(F=i,Ct(),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Qr,e)}catch{}r=!0}return r}finally{j=n,Ue.transition=t}}return!1}function nf(e,t,n){t=On(n,t),t=Ec(e,t,1),e=Lt(e,t,1),t=_e(),e!==null&&(zn(e,1,t),Oe(e,t))}function J(e,t,n){if(e.tag===3)nf(e,e,n);else for(;t!==null;){if(t.tag===3){nf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rt===null||!Rt.has(r))){e=On(n,e),e=Tc(t,e,1),t=Lt(t,e,1),e=_e(),t!==null&&(zn(t,1,e),Oe(t,e));break}}t=t.return}}function th(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&n,oe===e&&(ae&n)===n&&(ne===4||ne===3&&(ae&130023424)===ae&&500>q()-us?Yt(e,0):as|=n),Oe(e,t)}function rf(e,t){t===0&&((e.mode&1)==0?t=1:(t=Kr,Kr<<=1,(Kr&130023424)==0&&(Kr=4194304)));var n=_e();e=ct(e,t),e!==null&&(zn(e,t,n),Oe(e,n))}function nh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rf(e,n)}function rh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),rf(e,n)}var of;of=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Ne=!0;else{if((e.lanes&n)==0&&(t.flags&128)==0)return Ne=!1,$d(e,t,n);Ne=(e.flags&131072)!=0}else Ne=!1,Q&&(t.flags&1048576)!=0&&Vu(t,Ti,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vi(e,t),e=t.pendingProps;var i=mn(t,ce.current);Sn(t,n),i=bl(null,t,r,e,i,n);var o=Bl();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Se(r)?(o=!0,_i(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pl(t),i.updater=wi,t.stateNode=i,i._reactInternals=t,Dl(t,r,e,n),t=Jl(null,t,r,!0,o,n)):(t.tag=0,Q&&o&&Nl(t),me(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=oh(r),e=Be(r,e),i){case 0:t=Xl(null,t,r,e,n);break e;case 1:t=Rc(null,t,r,e,n);break e;case 11:t=Oc(null,t,r,e,n);break e;case 14:t=Cc(null,t,r,Be(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Be(r,i),Xl(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Be(r,i),Rc(e,t,r,i,n);case 3:e:{if(Mc(t),e===null)throw Error(L(387));r=t.pendingProps,o=t.memoizedState,i=o.element,bu(e,t),Ci(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=On(Error(L(423)),t),t=xc(e,t,r,n,i);break e}else if(r!==i){i=On(Error(L(424)),t),t=xc(e,t,r,n,i);break e}else for(Ae=Nt(t.stateNode.containerInfo.firstChild),Le=t,Q=!0,be=null,n=Ju(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(En(),r===i){t=pt(e,t,n);break e}me(e,t,r,n)}t=t.child}return t;case 5:return qu(t),e===null&&Cl(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,ml(r,i)?l=null:o!==null&&ml(r,o)&&(t.flags|=32),Ac(e,t),me(e,t,l,n),t.child;case 6:return e===null&&Cl(t),null;case 13:return Pc(e,t,n);case 4:return Vl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Nn(t,null,r,n):me(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Be(r,i),Oc(e,t,r,i,n);case 7:return me(e,t,t.pendingProps,n),t.child;case 8:return me(e,t,t.pendingProps.children,n),t.child;case 12:return me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,b(Ni,r._currentValue),r._currentValue=l,o!==null)if(He(o.value,l)){if(o.children===i.children&&!Te.current){t=pt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var f=u.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=ft(-1,n&-n),f.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?f.next=f:(f.next=h.next,h.next=f),c.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),Ml(o.return,n,t),u.lanes|=n;break}f=f.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(L(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Ml(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}me(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sn(t,n),i=De(i),r=r(i),t.flags|=1,me(e,t,r,n),t.child;case 14:return r=t.type,i=Be(r,t.pendingProps),i=Be(r.type,i),Cc(e,t,r,i,n);case 15:return wc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Be(r,i),Vi(e,t),t.tag=1,Se(r)?(e=!0,_i(t)):e=!1,Sn(t,n),Qu(t,r,i),Dl(t,r,i,n),Jl(null,t,r,!0,e,n);case 19:return Dc(e,t,n);case 22:return Lc(e,t,n)}throw Error(L(156,t.tag))};function lf(e,t){return Va(e,t)}function ih(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,n,r){return new ih(e,t,n,r)}function ms(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oh(e){if(typeof e=="function")return ms(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Co)return 11;if(e===Ao)return 14}return 2}function kt(e,t){var n=e.alternate;return n===null?(n=Ge(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qi(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")ms(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case nn:return Xt(n.children,i,o,t);case Io:l=8,i|=8;break;case Oo:return e=Ge(12,n,t,i|2),e.elementType=Oo,e.lanes=o,e;case wo:return e=Ge(13,n,t,i),e.elementType=wo,e.lanes=o,e;case Lo:return e=Ge(19,n,t,i),e.elementType=Lo,e.lanes=o,e;case pa:return Yi(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ca:l=10;break e;case fa:l=9;break e;case Co:l=11;break e;case Ao:l=14;break e;case gt:l=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Ge(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Xt(e,t,n,r){return e=Ge(7,e,r,t),e.lanes=n,e}function Yi(e,t,n,r){return e=Ge(22,e,r,t),e.elementType=pa,e.lanes=n,e.stateNode={isHidden:!1},e}function _s(e,t,n){return e=Ge(6,e,null,t),e.lanes=n,e}function ys(e,t,n){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lh(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ko(0),this.expirationTimes=Ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Es(e,t,n,r,i,o,l,u,f){return e=new lh(e,t,n,u,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ge(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pl(o),e}function sh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sf(e){if(!e)return Ot;e=e._reactInternals;e:{if(Gt(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Se(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Se(n))return Pu(e,n,t)}return t}function af(e,t,n,r,i,o,l,u,f){return e=Es(n,r,!0,e,i,o,l,u,f),e.context=sf(null),n=e.current,r=_e(),i=xt(n),o=ft(r,i),o.callback=t??null,Lt(n,o,i),e.current.lanes=i,zn(e,i,r),Oe(e,r),e}function Ki(e,t,n,r){var i=t.current,o=_e(),l=xt(i);return n=sf(n),t.context===null?t.context=n:t.pendingContext=n,t=ft(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Lt(i,t,l),e!==null&&(We(e,i,l,o),Oi(e,i,l)),l}function Xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ts(e,t){uf(e,t),(e=e.alternate)&&uf(e,t)}function ah(){return null}var cf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ss(e){this._internalRoot=e}Ji.prototype.render=Ss.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Ki(e,t,null,null)};Ji.prototype.unmount=Ss.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qt(function(){Ki(null,e,null,null)}),t[lt]=null}};function Ji(e){this._internalRoot=e}Ji.prototype.unstable_scheduleHydration=function(e){if(e){var t=$a();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Et.length&&t!==0&&t<Et[n].priority;n++);Et.splice(n,0,e),n===0&&Qa(e)}};function Ns(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ff(){}function uh(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Xi(l);o.call(c)}}var l=af(t,r,e,0,null,!1,!1,"",ff);return e._reactRootContainer=l,e[lt]=l.current,or(e.nodeType===8?e.parentNode:e),Qt(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var c=Xi(f);u.call(c)}}var f=Es(e,0,!1,null,null,!1,!1,"",ff);return e._reactRootContainer=f,e[lt]=f.current,or(e.nodeType===8?e.parentNode:e),Qt(function(){Ki(t,f,n,r)}),f}function Zi(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var u=i;i=function(){var f=Xi(l);u.call(f)}}Ki(t,l,e,i)}else l=uh(n,t,e,i,r);return Xi(l)}ba=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$n(t.pendingLanes);n!==0&&(Xo(t,n|1),Oe(t,q()),(F&6)==0&&(Ln=q()+500,Ct()))}break;case 13:Qt(function(){var r=ct(e,1);if(r!==null){var i=_e();We(r,e,1,i)}}),Ts(e,1)}};Jo=function(e){if(e.tag===13){var t=ct(e,134217728);if(t!==null){var n=_e();We(t,e,134217728,n)}Ts(e,134217728)}};Ba=function(e){if(e.tag===13){var t=xt(e),n=ct(e,t);if(n!==null){var r=_e();We(n,e,t,r)}Ts(e,t)}};$a=function(){return j};za=function(e,t){var n=j;try{return j=e,t()}finally{j=n}};Bo=function(e,t,n){switch(t){case"input":if(Do(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vi(r);if(!i)throw Error(L(90));ga(r),Do(r,i)}}}break;case"textarea":Ea(e,n);break;case"select":t=n.value,t!=null&&rn(e,!!n.multiple,t,!1)}};Aa=hs;Ra=Qt;var ch={usingClientEntryPoint:!1,Events:[ar,gn,vi,wa,La,hs]},Sr={findFiberByHostInstance:Ft,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fh={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ka(e),e===null?null:e.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||ah,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Nr=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Nr.isDisabled&&Nr.supportsFiber))try{Qr=Nr.inject(fh),Ke=Nr}catch{}var Nr;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ch;Me.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ns(t))throw Error(L(200));return sh(e,t,null,n)};Me.createRoot=function(e,t){if(!Ns(e))throw Error(L(299));var n=!1,r="",i=cf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Es(e,1,!1,null,null,n,!1,r,i),e[lt]=t.current,or(e.nodeType===8?e.parentNode:e),new Ss(t)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=ka(t),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return Qt(e)};Me.hydrate=function(e,t,n){if(!qi(t))throw Error(L(200));return Zi(null,e,t,!0,n)};Me.hydrateRoot=function(e,t,n){if(!Ns(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=cf;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=af(t,null,e,1,n??null,i,!1,o,l),e[lt]=t.current,or(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ji(t)};Me.render=function(e,t,n){if(!qi(t))throw Error(L(200));return Zi(null,e,t,!1,n)};Me.unmountComponentAtNode=function(e){if(!qi(e))throw Error(L(40));return e._reactRootContainer?(Qt(function(){Zi(null,null,e,!1,function(){e._reactRootContainer=null,e[lt]=null})}),!0):!1};Me.unstable_batchedUpdates=hs;Me.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qi(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Zi(e,t,n,!1,r)};Me.version="18.2.0-next-9e3b772b8-20220608"});var gf=tt((Mh,hf)=>{"use strict";function df(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(df)}catch(e){console.error(e)}}df(),hf.exports=pf()});var mf=tt(Is=>{"use strict";var vf=gf();Is.createRoot=vf.createRoot,Is.hydrateRoot=vf.hydrateRoot;var xh});var xf=tt((Uh,no)=>{(function(){"use strict";var e={}.hasOwnProperty,t="[native code]";function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(!!o){var l=typeof o;if(l==="string"||l==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var u=n.apply(null,o);u&&r.push(u)}}else if(l==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var f in o)e.call(o,f)&&o[f]&&r.push(f)}}}return r.join(" ")}typeof no!="undefined"&&no.exports?(n.default=n,no.exports=n):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return n}):window.classNames=n})()});var $f=tt((Lr,Rs)=>{(function(e,t){typeof Lr=="object"&&typeof Rs=="object"?Rs.exports=t():typeof define=="function"&&define.amd?define("IIIFTreeComponent",[],t):typeof Lr=="object"?Lr.IIIFTreeComponent=t():e.IIIFTreeComponent=t()})(typeof self!="undefined"?self:Lr,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var l in r)n.d(o,l,function(u){return r[u]}.bind(null,l));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=2)}([function(e,t,n){e.exports=function(r){var i={};function o(l){if(i[l])return i[l].exports;var u=i[l]={i:l,l:!1,exports:{}};return r[l].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=r,o.c=i,o.d=function(l,u,f){o.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:f})},o.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.t=function(l,u){if(1&u&&(l=o(l)),8&u||4&u&&typeof l=="object"&&l&&l.__esModule)return l;var f=Object.create(null);if(o.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:l}),2&u&&typeof l!="string")for(var c in l)o.d(f,c,function(h){return l[h]}.bind(null,c));return f},o.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(u,"a",u),u},o.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},o.p="",o(o.s=4)}([function(r,i,o){"use strict";function l(u){for(var f in u)i.hasOwnProperty(f)||(i[f]=u[f])}Object.defineProperty(i,"__esModule",{value:!0}),l(o(6)),l(o(7)),l(o(8)),l(o(9)),l(o(10)),l(o(11)),l(o(12)),l(o(13)),l(o(14)),l(o(15)),l(o(16)),l(o(17)),l(o(18)),l(o(19)),l(o(20)),l(o(21)),l(o(22)),l(o(23)),l(o(24)),l(o(25)),l(o(26)),l(o(27)),l(o(28)),l(o(29)),l(o(30)),l(o(31)),l(o(32)),l(o(2))},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(l){l.BOOKMARKING="oa:bookmarking",l.CLASSIFYING="oa:classifying",l.COMMENTING="oa:commenting",l.DESCRIBING="oa:describing",l.EDITING="oa:editing",l.HIGHLIGHTING="oa:highlighting",l.IDENTIFYING="oa:identifying",l.LINKING="oa:linking",l.MODERATING="oa:moderating",l.PAINTING="sc:painting",l.QUESTIONING="oa:questioning",l.REPLYING="oa:replying",l.TAGGING="oa:tagging",l.TRANSCRIBING="oad:transcribing"}(i.AnnotationMotivation||(i.AnnotationMotivation={})),function(l){l.AUTO_ADVANCE="auto-advance",l.CONTINUOUS="continuous",l.FACING_PAGES="facing-pages",l.HIDDEN="hidden",l.INDIVIDUALS="individuals",l.MULTI_PART="multi-part",l.NO_NAV="no-nav",l.NON_PAGED="non-paged",l.PAGED="paged",l.REPEAT="repeat",l.SEQUENCE="sequence",l.THUMBNAIL_NAV="thumbnail-nav",l.TOGETHER="together",l.UNORDERED="unordered"}(i.Behavior||(i.Behavior={})),function(l){l.CANVAS="canvas",l.CHOICE="choice",l.CONTENT_AS_TEXT="contentastext",l.DOCUMENT="document",l.IMAGE="image",l.MOVING_IMAGE="movingimage",l.PDF="pdf",l.PHYSICAL_OBJECT="physicalobject",l.SOUND="sound",l.TEXTUALBODY="textualbody",l.VIDEO="video"}(i.ExternalResourceType||(i.ExternalResourceType={})),function(l){l.ANNOTATION="annotation",l.CANVAS="canvas",l.COLLECTION="collection",l.MANIFEST="manifest",l.RANGE="range",l.SEQUENCE="sequence"}(i.IIIFResourceType||(i.IIIFResourceType={})),function(l){l.AUDIO_MP4="audio/mp4",l.CORTO="application/corto",l.DRACO="application/draco",l.GLTF="model/gltf+json",l.JPG="image/jpeg",l.M3U8="application/vnd.apple.mpegurl",l.MP3="audio/mp3",l.MPEG_DASH="application/dash+xml",l.OBJ="text/plain",l.PDF="application/pdf",l.PLY="application/ply",l.THREEJS="application/vnd.threejs+json",l.VIDEO_MP4="video/mp4",l.WEBM="video/webm"}(i.MediaType||(i.MediaType={})),function(l){l.DOC="application/msword",l.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",l.PDF="application/pdf"}(i.RenderingFormat||(i.RenderingFormat={})),function(l){l.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",l.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",l.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",l.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",l.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",l.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",l.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",l.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",l.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",l.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",l.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",l.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",l.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",l.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",l.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",l.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",l.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",l.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",l.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",l.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",l.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",l.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",l.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",l.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",l.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",l.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",l.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",l.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",l.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",l.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",l.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",l.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",l.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",l.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",l.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",l.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",l.SEARCH_0="http://iiif.io/api/search/0/search",l.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",l.SEARCH_1="http://iiif.io/api/search/1/search",l.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",l.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",l.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",l.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",l.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",l.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",l.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(i.ServiceProfile||(i.ServiceProfile={})),function(l){l.BOTTOM_TO_TOP="bottom-to-top",l.LEFT_TO_RIGHT="left-to-right",l.RIGHT_TO_LEFT="right-to-left",l.TOP_TO_BOTTOM="top-to-bottom"}(i.ViewingDirection||(i.ViewingDirection={})),function(l){l.CONTINUOUS="continuous",l.INDIVIDUALS="individuals",l.NON_PAGED="non-paged",l.PAGED="paged",l.TOP="top"}(i.ViewingHint||(i.ViewingHint={}))},function(r,i,o){"use strict";var l=this&&this.__awaiter||function(a,s,d,g){return new(d||(d=Promise))(function(E,_){function v(C){try{I(g.next(C))}catch(O){_(O)}}function T(C){try{I(g.throw(C))}catch(O){_(O)}}function I(C){var O;C.done?E(C.value):(O=C.value,O instanceof d?O:new d(function(R){R(O)})).then(v,T)}I((g=g.apply(a,s||[])).next())})},u=this&&this.__generator||function(a,s){var d,g,E,_,v={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return _={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function T(I){return function(C){return function(O){if(d)throw new TypeError("Generator is already executing.");for(;v;)try{if(d=1,g&&(E=2&O[0]?g.return:O[0]?g.throw||((E=g.return)&&E.call(g),0):g.next)&&!(E=E.call(g,O[1])).done)return E;switch(g=0,E&&(O=[2&O[0],E.value]),O[0]){case 0:case 1:E=O;break;case 4:return v.label++,{value:O[1],done:!1};case 5:v.label++,g=O[1],O=[0];continue;case 7:O=v.ops.pop(),v.trys.pop();continue;default:if(!(E=(E=v.trys).length>0&&E[E.length-1])&&(O[0]===6||O[0]===2)){v=0;continue}if(O[0]===3&&(!E||O[1]>E[0]&&O[1]<E[3])){v.label=O[1];break}if(O[0]===6&&v.label<E[1]){v.label=E[1],E=O;break}if(E&&v.label<E[2]){v.label=E[2],v.ops.push(O);break}E[2]&&v.ops.pop(),v.trys.pop();continue}O=s.call(a,v)}catch(R){O=[6,R],g=0}finally{d=E=0}if(5&O[0])throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}([I,C])}}};Object.defineProperty(i,"__esModule",{value:!0});var f=o(0),c=o(1),h=o(33);o(34);var p=function(){function a(){}return a.getMediaType=function(s){return(s=(s=s.toLowerCase()).split(";")[0]).trim()},a.getImageQuality=function(s){return s===c.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||s===c.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||s===c.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||s===c.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||s===c.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||s===c.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||s===c.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||s===c.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||s===c.ServiceProfile.IMAGE_1_LEVEL_1||s===c.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||s===c.ServiceProfile.IMAGE_1_LEVEL_2||s===c.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},a.getInexactLocale=function(s){return s.indexOf("-")!==-1?s.substr(0,s.indexOf("-")):s},a.getLocalisedValue=function(s,d){if(!Array.isArray(s))return s;for(var g=0;g<s.length;g++){var E=s[g];if(d===E["@language"])return E["@value"]}var _=d.substr(0,d.indexOf("-"));for(g=0;g<s.length;g++){var v=s[g];if(v["@language"]===_)return v["@value"]}return null},a.generateTreeNodeIds=function(s,d){var g;d===void 0&&(d=0),g=s.parentNode?s.parentNode.id+"-"+d:"0",s.id=g;for(var E=0;E<s.nodes.length;E++){var _=s.nodes[E];a.generateTreeNodeIds(_,E)}},a.normaliseType=function(s){return(s=s.toLowerCase()).indexOf(":")!==-1?s.split(":")[1]:s},a.normaliseUrl=function(s){return(s=s.substr(s.indexOf("://"))).indexOf("#")!==-1&&(s=s.split("#")[0]),s},a.normalisedUrlsMatch=function(s,d){return a.normaliseUrl(s)===a.normaliseUrl(d)},a.isImageProfile=function(s){return!!(a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},a.isLevel0ImageProfile=function(s){return!!(a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_LEVEL_0)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},a.isLevel1ImageProfile=function(s){return!!(a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_LEVEL_1)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},a.isLevel2ImageProfile=function(s){return!!(a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_LEVEL_2)||a.normalisedUrlsMatch(s,c.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},a.parseManifest=function(s,d){return f.Deserialiser.parse(s,d)},a.checkStatus=function(s){if(s.ok)return s;var d=new Error(s.statusText);return d.response=s,Promise.reject(d)},a.loadManifest=function(s){return new Promise(function(d){fetch(s).then(a.checkStatus).then(function(g){return g.json()}).then(function(g){d(g)})})},a.loadExternalResourcesAuth1=function(s,d,g,E,_,v,T,I){return new Promise(function(C,O){var R=s.map(function(M){return a.loadExternalResourceAuth1(M,d,g,E,_,v,T,I)});Promise.all(R).then(function(){C(s)}).catch(function(M){O(M)})})},a.loadExternalResourceAuth1=function(s,d,g,E,_,v,T,I){return l(this,void 0,void 0,function(){var C;return u(this,function(O){switch(O.label){case 0:return[4,E(s)];case 1:return(C=O.sent())?[4,s.getData(C)]:[3,6];case 2:return O.sent(),s.status!==h.OK?[3,3]:[2,s];case 3:return[4,a.doAuthChain(s,d,g,_,v,T,I)];case 4:O.sent(),O.label=5;case 5:if(s.status===h.OK||s.status===h.MOVED_TEMPORARILY)return[2,s];throw a.createAuthorizationFailedError();case 6:return[4,s.getData()];case 7:return O.sent(),s.status!==h.MOVED_TEMPORARILY&&s.status!==h.UNAUTHORIZED?[3,9]:[4,a.doAuthChain(s,d,g,_,v,T,I)];case 8:O.sent(),O.label=9;case 9:if(s.status===h.OK||s.status===h.MOVED_TEMPORARILY)return[2,s];throw a.createAuthorizationFailedError()}})})},a.doAuthChain=function(s,d,g,E,_,v,T){return l(this,void 0,void 0,function(){var I,C,O,R,M,D,V,he;return u(this,function(y){switch(y.label){case 0:return s.isAccessControlled()?((I=s.externalService)&&(I.options=s.options),(C=s.kioskService)&&(C.options=s.options),(O=s.clickThroughService)&&(O.options=s.options),(R=s.loginService)&&(R.options=s.options),s.isResponseHandled||s.status!==h.MOVED_TEMPORARILY?[3,2]:[4,v(s)]):[2,s];case 1:return y.sent(),[2,s];case 2:return M=null,D=null,(M=I)?(D=M,[4,a.attemptResourceWithToken(s,g,M)]):[3,4];case 3:return y.sent(),[2,s];case 4:return(M=C)?(D=M,(V=d(M))?[4,E(V)]:[3,7]):[3,7];case 5:return y.sent(),[4,a.attemptResourceWithToken(s,g,M)];case 6:return y.sent(),[2,s];case 7:return(M=O)?(D=M,[4,_(s,M)]):[3,11];case 8:return(he=y.sent())?[4,E(he)]:[3,11];case 9:return y.sent(),[4,a.attemptResourceWithToken(s,g,M)];case 10:return y.sent(),[2,s];case 11:return(M=R)?(D=M,[4,_(s,M)]):[3,15];case 12:return(he=y.sent())?[4,E(he)]:[3,15];case 13:return y.sent(),[4,a.attemptResourceWithToken(s,g,M)];case 14:return y.sent(),[2,s];case 15:return D&&T(s,D),[2]}})})},a.attemptResourceWithToken=function(s,d,g){return l(this,void 0,void 0,function(){var E,_;return u(this,function(v){switch(v.label){case 0:return(E=g.getService(c.ServiceProfile.AUTH_1_TOKEN))?[4,d(s,E)]:[3,3];case 1:return(_=v.sent())&&_.accessToken?[4,s.getData(_)]:[3,3];case 2:return v.sent(),[2,s];case 3:return[2]}})})},a.loadExternalResourcesAuth09=function(s,d,g,E,_,v,T,I,C,O){return new Promise(function(R,M){var D=s.map(function(V){return a.loadExternalResourceAuth09(V,d,g,E,_,v,T,I,C,O)});Promise.all(D).then(function(){R(s)}).catch(function(V){M(V)})})},a.loadExternalResourceAuth09=function(s,d,g,E,_,v,T,I,C,O){return new Promise(function(R,M){O&&O.pessimisticAccessControl?s.getData().then(function(){s.isAccessControlled()?s.clickThroughService?(R(g(s)),R(E(s))):_(s).then(function(){v(s,!0).then(function(D){s.getData(D).then(function(){R(C(s))}).catch(function(V){M(a.createInternalServerError(V))})}).catch(function(D){M(a.createInternalServerError(D))})}).catch(function(D){M(a.createInternalServerError(D))}):R(s)}).catch(function(D){M(a.createInternalServerError(D))}):I(s,d).then(function(D){D?s.getData(D).then(function(){s.status===h.OK?R(C(s)):a.authorize(s,d,g,E,_,v,T,I).then(function(){R(C(s))}).catch(function(V){M(a.createAuthorizationFailedError())})}).catch(function(V){M(a.createAuthorizationFailedError())}):a.authorize(s,d,g,E,_,v,T,I).then(function(){R(C(s))}).catch(function(V){M(a.createAuthorizationFailedError())})}).catch(function(D){M(a.createAuthorizationFailedError())})})},a.createError=function(s,d){var g=new Error;return g.message=d,g.name=String(s),g},a.createAuthorizationFailedError=function(){return a.createError(f.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},a.createRestrictedError=function(){return a.createError(f.StatusCode.RESTRICTED,"Restricted")},a.createInternalServerError=function(s){return a.createError(f.StatusCode.INTERNAL_SERVER_ERROR,s)},a.authorize=function(s,d,g,E,_,v,T,I){return new Promise(function(C,O){s.getData().then(function(){s.isAccessControlled()?I(s,d).then(function(R){R?s.getData(R).then(function(){s.status===h.OK?C(s):a.showAuthInteraction(s,d,g,E,_,v,T,C,O)}).catch(function(M){O(a.createInternalServerError(M))}):v(s,!1).then(function(M){M?T(s,M,d).then(function(){s.getData(M).then(function(){s.status===h.OK?C(s):a.showAuthInteraction(s,d,g,E,_,v,T,C,O)}).catch(function(D){O(a.createInternalServerError(D))})}).catch(function(D){O(a.createInternalServerError(D))}):a.showAuthInteraction(s,d,g,E,_,v,T,C,O)})}).catch(function(R){O(a.createInternalServerError(R))}):C(s)})})},a.showAuthInteraction=function(s,d,g,E,_,v,T,I,C){s.status!==h.MOVED_TEMPORARILY||s.isResponseHandled?s.clickThroughService&&!s.isResponseHandled?g(s).then(function(){v(s,!0).then(function(O){T(s,O,d).then(function(){s.getData(O).then(function(){I(s)}).catch(function(R){C(a.createInternalServerError(R))})}).catch(function(R){C(a.createInternalServerError(R))})}).catch(function(O){C(a.createInternalServerError(O))})}):_(s).then(function(){v(s,!0).then(function(O){T(s,O,d).then(function(){s.getData(O).then(function(){I(s)}).catch(function(R){C(a.createInternalServerError(R))})}).catch(function(R){C(a.createInternalServerError(R))})}).catch(function(O){C(a.createInternalServerError(O))})}):I(s)},a.getService=function(s,d){for(var g=this.getServices(s),E=0;E<g.length;E++){var _=g[E];if(_.getProfile()===d)return _}return null},a.getResourceById=function(s,d){return a.traverseAndFind(s.__jsonld,"@id",d)},a.traverseAndFind=function(s,d,g){if(s.hasOwnProperty(d)&&s[d]===g)return s;for(var E=0;E<Object.keys(s).length;E++)if(typeof s[Object.keys(s)[E]]=="object"){var _=a.traverseAndFind(s[Object.keys(s)[E]],d,g);if(_!=null)return _}},a.getServices=function(s){var d,g=[];if(!(d=s.__jsonld?s.__jsonld.service:s.service))return g;Array.isArray(d)||(d=[d]);for(var E=0;E<d.length;E++){var _=d[E];if(typeof _=="string"){var v=this.getResourceById(s.options.resource,_);v&&g.push(new f.Service(v.__jsonld||v,s.options))}else g.push(new f.Service(_,s.options))}return g},a.getTemporalComponent=function(s){var d=/t=([^&]+)/g.exec(s),g=null;return d&&d[1]&&(g=d[1].split(",")),g},a}();i.Utils=p},function(r,i,o){"use strict";o.r(i),i.default=function(l,u){return u=u||{},new Promise(function(f,c){var h=new XMLHttpRequest,p=[],a=[],s={},d=function(){return{ok:(h.status/100|0)==2,statusText:h.statusText,status:h.status,url:h.responseURL,text:function(){return Promise.resolve(h.responseText)},json:function(){return Promise.resolve(JSON.parse(h.responseText))},blob:function(){return Promise.resolve(new Blob([h.response]))},clone:d,headers:{keys:function(){return p},entries:function(){return a},get:function(E){return s[E.toLowerCase()]},has:function(E){return E.toLowerCase()in s}}}};for(var g in h.open(u.method||"get",l,!0),h.onload=function(){h.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(E,_,v){p.push(_=_.toLowerCase()),a.push([_,v]),s[_]=s[_]?s[_]+","+v:v}),f(d())},h.onerror=c,h.withCredentials=u.credentials=="include",u.headers)h.setRequestHeader(g,u.headers[g]);h.send(u.body||null)})}},function(r,i,o){r.exports=o(5)},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(u){for(var f in u)i.hasOwnProperty(f)||(i[f]=u[f])}(o(0));var l=o(2);i.loadManifest=function(u){return l.Utils.loadManifest(u)},i.parseManifest=function(u,f){return l.Utils.parseManifest(u,f)}},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function u(f){this.__jsonld=f,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return u.prototype.getProperty=function(f){var c=null;return this.__jsonld&&((c=this.__jsonld[f])||(c=this.__jsonld["@"+f])),c},u}();i.JSONLDResource=l},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(p,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var g in d)d.hasOwnProperty(g)&&(s[g]=d[g])})(p,a)},function(p,a){function s(){this.constructor=p}l(p,a),p.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(0),c=o(1),h=function(p){function a(s,d){var g=p.call(this,s)||this;return g.options=d,g}return u(a,p),a.prototype.getIIIFResourceType=function(){return f.Utils.normaliseType(this.getProperty("type"))},a.prototype.getLabel=function(){var s=this.getProperty("label");return s?f.LanguageMap.parse(s,this.options.locale):[]},a.prototype.getDefaultLabel=function(){return f.LanguageMap.getValue(this.getLabel())},a.prototype.getMetadata=function(){var s=this.getProperty("metadata"),d=[];if(!s)return d;for(var g=0;g<s.length;g++){var E=s[g],_=new f.LabelValuePair(this.options.locale);_.parse(E),d.push(_)}return d},a.prototype.getRendering=function(s){for(var d=this.getRenderings(),g=0;g<d.length;g++){var E=d[g];if(E.getFormat()===s)return E}return null},a.prototype.getRenderings=function(){var s,d=[];if(!(s=this.__jsonld?this.__jsonld.rendering:this.rendering))return d;Array.isArray(s)||(s=[s]);for(var g=0;g<s.length;g++){var E=s[g];d.push(new f.Rendering(E,this.options))}return d},a.prototype.getService=function(s){return f.Utils.getService(this,s)},a.prototype.getServices=function(){return f.Utils.getServices(this)},a.prototype.getThumbnail=function(){var s=this.getProperty("thumbnail");return Array.isArray(s)&&(s=s[0]),s?new f.Thumbnail(s,this.options):null},a.prototype.isAnnotation=function(){return this.getIIIFResourceType()===c.IIIFResourceType.ANNOTATION},a.prototype.isCanvas=function(){return this.getIIIFResourceType()===c.IIIFResourceType.CANVAS},a.prototype.isCollection=function(){return this.getIIIFResourceType()===c.IIIFResourceType.COLLECTION},a.prototype.isManifest=function(){return this.getIIIFResourceType()===c.IIIFResourceType.MANIFEST},a.prototype.isRange=function(){return this.getIIIFResourceType()===c.IIIFResourceType.RANGE},a.prototype.isSequence=function(){return this.getIIIFResourceType()===c.IIIFResourceType.SEQUENCE},a}(f.JSONLDResource);i.ManifestResource=h},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(h,p){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var d in s)s.hasOwnProperty(d)&&(a[d]=s[d])})(h,p)},function(h,p){function a(){this.constructor=h}l(h,p),h.prototype=p===null?Object.create(p):(a.prototype=p.prototype,new a)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(0),c=function(h){function p(a,s){return h.call(this,a,s)||this}return u(p,h),p.prototype.getFormat=function(){var a=this.getProperty("format");return a?a.toLowerCase():null},p.prototype.getResources=function(){var a=[];if(!this.__jsonld.resources)return a;for(var s=0;s<this.__jsonld.resources.length;s++){var d=this.__jsonld.resources[s],g=new f.Annotation(d,this.options);a.push(g)}return a},p.prototype.getType=function(){var a=this.getProperty("type");return a?f.Utils.normaliseType(a):null},p.prototype.getWidth=function(){return this.getProperty("width")},p.prototype.getHeight=function(){return this.getProperty("height")},p.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},p.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},p}(f.ManifestResource);i.Resource=c},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(p,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var g in d)d.hasOwnProperty(g)&&(s[g]=d[g])})(p,a)},function(p,a){function s(){this.constructor=p}l(p,a),p.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(0),c=o(1),h=function(p){function a(s,d){var g=p.call(this,s,d)||this;g.index=-1,g.isLoaded=!1;var E={defaultLabel:"-",locale:"en-GB",resource:g,pessimisticAccessControl:!1};return g.options=Object.assign(E,d),g}return u(a,p),a.prototype.getAttribution=function(){var s=this.getProperty("attribution");return s?f.LanguageMap.parse(s,this.options.locale):[]},a.prototype.getDescription=function(){var s=this.getProperty("description");return s?f.LanguageMap.parse(s,this.options.locale):[]},a.prototype.getIIIFResourceType=function(){return f.Utils.normaliseType(this.getProperty("type"))},a.prototype.getLogo=function(){var s=this.getProperty("logo");return s?typeof s=="string"?s:(Array.isArray(s)&&s.length&&(s=s[0]),s["@id"]||s.id):null},a.prototype.getLicense=function(){return f.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},a.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},a.prototype.getRelated=function(){return this.getProperty("related")},a.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},a.prototype.getTrackingLabel=function(){var s=this.getService(c.ServiceProfile.TRACKING_EXTENSIONS);return s?s.getProperty("trackingLabel"):""},a.prototype.getDefaultTree=function(){return this.defaultTree=new f.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},a.prototype.getRequiredStatement=function(){var s=null,d=this.getProperty("requiredStatement");if(d)(s=new f.LabelValuePair(this.options.locale)).parse(d);else{var g=this.getAttribution();g&&((s=new f.LabelValuePair(this.options.locale)).value=g)}return s},a.prototype.isCollection=function(){return this.getIIIFResourceType()===c.IIIFResourceType.COLLECTION},a.prototype.isManifest=function(){return this.getIIIFResourceType()===c.IIIFResourceType.MANIFEST},a.prototype.load=function(){var s=this;return new Promise(function(d){if(s.isLoaded)d(s);else{var g=s.options;g.navDate=s.getNavDate();var E=s.__jsonld.id;E||(E=s.__jsonld["@id"]),f.Utils.loadManifest(E).then(function(_){s.parentLabel=f.LanguageMap.getValue(s.getLabel(),g.locale);var v=f.Deserialiser.parse(_,g);(s=Object.assign(s,v)).index=g.index,d(s)})}})},a}(f.ManifestResource);i.IIIFResource=h},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(h,p){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var d in s)s.hasOwnProperty(d)&&(a[d]=s[d])})(h,p)},function(h,p){function a(){this.constructor=h}l(h,p),h.prototype=p===null?Object.create(p):(a.prototype=p.prototype,new a)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(0),c=function(h){function p(a,s){return h.call(this,a,s)||this}return u(p,h),p.prototype.getBody=function(){var a=[],s=this.getProperty("body");if(s)if(Array.isArray(s))for(var d=0;d<s.length;d++)if((_=s[d]).items)for(var g=0;g<_.items.length;g++){var E=_.items[g];a.push(new f.AnnotationBody(E,this.options))}else a.push(new f.AnnotationBody(_,this.options));else if(s.items)for(d=0;d<s.items.length;d++){var _=s.items[d];a.push(new f.AnnotationBody(_,this.options))}else a.push(new f.AnnotationBody(s,this.options));return a},p.prototype.getMotivation=function(){return this.getProperty("motivation")||null},p.prototype.getOn=function(){return this.getProperty("on")},p.prototype.getTarget=function(){return this.getProperty("target")},p.prototype.getResource=function(){return new f.Resource(this.getProperty("resource"),this.options)},p}(f.ManifestResource);i.Annotation=c},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(h,p){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var d in s)s.hasOwnProperty(d)&&(a[d]=s[d])})(h,p)},function(h,p){function a(){this.constructor=h}l(h,p),h.prototype=p===null?Object.create(p):(a.prototype=p.prototype,new a)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(0),c=function(h){function p(a,s){return h.call(this,a,s)||this}return u(p,h),p.prototype.getFormat=function(){var a=this.getProperty("format");return a?f.Utils.getMediaType(a):null},p.prototype.getType=function(){return this.getProperty("type")?f.Utils.normaliseType(this.getProperty("type")):null},p.prototype.getWidth=function(){return this.getProperty("width")},p.prototype.getHeight=function(){return this.getProperty("height")},p}(f.ManifestResource);i.AnnotationBody=c},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(h,p){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var d in s)s.hasOwnProperty(d)&&(a[d]=s[d])})(h,p)},function(h,p){function a(){this.constructor=h}l(h,p),h.prototype=p===null?Object.create(p):(a.prototype=p.prototype,new a)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(0),c=function(h){function p(a,s,d){var g=h.call(this,s)||this;return g.label=a,g.options=d,g}return u(p,h),p.prototype.getIIIFResourceType=function(){return f.Utils.normaliseType(this.getProperty("type"))},p.prototype.getLabel=function(){return this.label},p.prototype.getResources=function(){var a=this;return this.getProperty("resources").map(function(s){return new f.Annotation(s,a.options)})},p.prototype.load=function(){var a=this;return new Promise(function(s,d){if(a.isLoaded)s(a);else{var g=a.__jsonld.id;g||(g=a.__jsonld["@id"]),f.Utils.loadManifest(g).then(function(E){a.__jsonld=E,a.context=a.getProperty("context"),a.id=a.getProperty("id"),a.isLoaded=!0,s(a)}).catch(d)}})},p}(f.JSONLDResource);i.AnnotationList=c},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(c,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var s in a)a.hasOwnProperty(s)&&(p[s]=a[s])})(c,h)},function(c,h){function p(){this.constructor=c}l(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(i,"__esModule",{value:!0});var f=function(c){function h(p,a){return c.call(this,p,a)||this}return u(h,c),h.prototype.getItems=function(){return this.getProperty("items")},h}(o(0).ManifestResource);i.AnnotationPage=f},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(h,p){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var d in s)s.hasOwnProperty(d)&&(a[d]=s[d])})(h,p)},function(h,p){function a(){this.constructor=h}l(h,p),h.prototype=p===null?Object.create(p):(a.prototype=p.prototype,new a)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(0),c=function(h){function p(a,s){return h.call(this,a,s)||this}return u(p,h),p.prototype.getCanonicalImageUri=function(a){var s,d=null,g="default",E=a;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])d=this.externalResource.data["@id"],E||(E=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(g="native");else{var _=this.getImages();if(_&&_.length){var v=_[0].getResource(),T=v.getServices();if(E||(E=v.getWidth()),T.length){var I=T[0];d=I.id,g=f.Utils.getImageQuality(I.getProfile())}else if(E===v.getWidth())return v.id}if(!d){var C=this.getProperty("thumbnail");if(C){if(typeof C=="string")return C;if(C["@id"])return C["@id"];if(C.length)return C[0].id}}}return s=E+",",d&&d.endsWith("/")&&(d=d.substr(0,d.length-1)),[d,"full",s,0,g+".jpg"].join("/")},p.prototype.getMaxDimensions=function(){var a,s=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(a=this.externalResource.data.profile,Array.isArray(a)&&(a=a.filter(function(d){return d.maxWidth})[0])&&(s=new f.Size(a.maxWidth,a.maxHeight?a.maxHeight:a.maxWidth))),s},p.prototype.getContent=function(){var a=[],s=this.__jsonld.items||this.__jsonld.content;if(!s)return a;var d=null;if(s.length&&(d=new f.AnnotationPage(s[0],this.options)),!d)return a;for(var g=d.getItems(),E=0;E<g.length;E++){var _=g[E],v=new f.Annotation(_,this.options);a.push(v)}return a},p.prototype.getDuration=function(){return this.getProperty("duration")},p.prototype.getImages=function(){var a=[];if(!this.__jsonld.images)return a;for(var s=0;s<this.__jsonld.images.length;s++){var d=this.__jsonld.images[s],g=new f.Annotation(d,this.options);a.push(g)}return a},p.prototype.getIndex=function(){return this.getProperty("index")},p.prototype.getOtherContent=function(){var a=this,s=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter(function(d){return d&&typeof(g=d["@type"])=="string"&&g.toLowerCase()==g.toLowerCase();var g}).map(function(d,g){return new f.AnnotationList(d.label||"Annotation list "+g,d,a.options)}).map(function(d){return d.load()});return Promise.all(s)},p.prototype.getWidth=function(){return this.getProperty("width")},p.prototype.getHeight=function(){return this.getProperty("height")},p}(f.Resource);i.Canvas=c},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(p,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var g in d)d.hasOwnProperty(g)&&(s[g]=d[g])})(p,a)},function(p,a){function s(){this.constructor=p}l(p,a),p.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(1),c=o(0),h=function(p){function a(s,d){var g=p.call(this,s,d)||this;return g.items=[],g._collections=null,g._manifests=null,s.__collection=g,g}return u(a,p),a.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter(function(s){return s.isCollection()})},a.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter(function(s){return s.isManifest()})},a.prototype.getCollectionByIndex=function(s){for(var d,g=this.getCollections(),E=0;E<g.length;E++){var _=g[E];_.index===s&&(d=_)}if(d)return d.options.index=s,d.load();throw new Error("Collection index not found")},a.prototype.getManifestByIndex=function(s){for(var d,g=this.getManifests(),E=0;E<g.length;E++){var _=g[E];_.index===s&&(d=_)}if(d)return d.options.index=s,d.load();throw new Error("Manifest index not found")},a.prototype.getTotalCollections=function(){return this.getCollections().length},a.prototype.getTotalManifests=function(){return this.getManifests().length},a.prototype.getTotalItems=function(){return this.items.length},a.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):f.ViewingDirection.LEFT_TO_RIGHT},a.prototype.getDefaultTree=function(){return p.prototype.getDefaultTree.call(this),this.defaultTree.data.type=c.Utils.normaliseType(c.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),c.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},a.prototype._parseManifests=function(s){if(s.getManifests()&&s.getManifests().length)for(var d=0;d<s.getManifests().length;d++){var g=s.getManifests()[d],E=g.getDefaultTree();E.label=g.parentLabel||c.LanguageMap.getValue(g.getLabel(),this.options.locale)||"manifest "+(d+1),E.navDate=g.getNavDate(),E.data.id=g.id,E.data.type=c.Utils.normaliseType(c.TreeNodeType.MANIFEST),s.defaultTree.addNode(E)}},a.prototype._parseCollections=function(s){if(s.getCollections()&&s.getCollections().length)for(var d=0;d<s.getCollections().length;d++){var g=s.getCollections()[d],E=g.getDefaultTree();E.label=g.parentLabel||c.LanguageMap.getValue(g.getLabel(),this.options.locale)||"collection "+(d+1),E.navDate=g.getNavDate(),E.data.id=g.id,E.data.type=c.Utils.normaliseType(c.TreeNodeType.COLLECTION),s.defaultTree.addNode(E)}},a}(c.IIIFResource);i.Collection=h},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function u(f,c){this.start=f,this.end=c}return u.prototype.getLength=function(){return this.end-this.start},u}();i.Duration=l},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=o(0),u=function(){function f(c){this.defaultLocale=c}return f.prototype.parse=function(c){this.resource=c,this.label=l.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=l.LanguageMap.parse(this.resource.value,this.defaultLocale)},f.prototype.getLabel=function(){return this.label?l.LanguageMap.getValue(this.label,this.defaultLocale):null},f.prototype.setLabel=function(c){var h=this;if(this.label&&this.label.length){var p=this.label.filter(function(a){return a.locale===h.defaultLocale||a.locale===l.Utils.getInexactLocale(h.defaultLocale)})[0];p&&(p.value=c)}},f.prototype.getValue=function(){if(this.value){var c=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(c=this.label[0].locale),l.LanguageMap.getValue(this.value,c)}return null},f.prototype.setValue=function(c){var h=this;if(this.value&&this.value.length){var p=this.value.filter(function(a){return a.locale===h.defaultLocale||a.locale===l.Utils.getInexactLocale(h.defaultLocale)})[0];p&&(p.value=c)}},f}();i.LabelValuePair=u},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Language=function(l,u){Array.isArray(l)?l.length===1?this.value=l[0]:this.value=l.join("<br/>"):this.value=l,this.locale=u}},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(h,p){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var d in s)s.hasOwnProperty(d)&&(a[d]=s[d])})(h,p)},function(h,p){function a(){this.constructor=h}l(h,p),h.prototype=p===null?Object.create(p):(a.prototype=p.prototype,new a)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(0),c=function(h){function p(){return h!==null&&h.apply(this,arguments)||this}return u(p,h),p.parse=function(a,s){var d,g=[];if(!a)return g;if(Array.isArray(a))for(var E=0;E<a.length;E++){var _=a[E];d=typeof _=="string"?new f.Language(_,s):new f.Language(_["@value"],_["@language"]||s),g.push(d)}else{if(typeof a=="string")return d=new f.Language(a,s),g.push(d),g;a["@value"]?(d=new f.Language(a["@value"],a["@language"]||s),g.push(d)):Object.keys(a).forEach(function(v){if(!a[v].length)throw new Error("language must have a value");d=new f.Language(a[v],v),g.push(d)})}return g},p.getValue=function(a,s){if(a.length){if(s){var d=a.filter(function(g){return g.locale===s||f.Utils.getInexactLocale(g.locale)===f.Utils.getInexactLocale(s)})[0];if(d)return d.value}return a[0].value}return null},p}(Array);i.LanguageMap=c},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(p,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var g in d)d.hasOwnProperty(g)&&(s[g]=d[g])})(p,a)},function(p,a){function s(){this.constructor=p}l(p,a),p.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(1),c=o(0),h=function(p){function a(s,d){var g=p.call(this,s,d)||this;if(g.index=0,g._allRanges=null,g.items=[],g._topRanges=[],g.__jsonld.structures&&g.__jsonld.structures.length)for(var E=g._getTopRanges(),_=0;_<E.length;_++){var v=E[_];g._parseRanges(v,String(_))}return g}return u(a,p),a.prototype.getPosterCanvas=function(){var s=this.getProperty("posterCanvas");return s&&(s=new c.Canvas(s,this.options)),s},a.prototype.getBehavior=function(){var s=this.getProperty("behavior");return Array.isArray(s)&&(s=s[0]),s||null},a.prototype.getDefaultTree=function(){if(p.prototype.getDefaultTree.call(this),this.defaultTree.data.type=c.Utils.normaliseType(c.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var s=this.getTopRanges();return s.length&&s[0].getTree(this.defaultTree),c.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},a.prototype._getTopRanges=function(){var s=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var d=0;d<this.__jsonld.structures.length;d++){var g=this.__jsonld.structures[d];g.viewingHint===f.ViewingHint.TOP&&s.push(g)}if(!s.length){var E={};E.ranges=this.__jsonld.structures,s.push(E)}}return s},a.prototype.getTopRanges=function(){return this._topRanges},a.prototype._getRangeById=function(s){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var d=0;d<this.__jsonld.structures.length;d++){var g=this.__jsonld.structures[d];if(g["@id"]===s||g.id===s)return g}return null},a.prototype._parseRanges=function(s,d,g){var E,_=null;if(typeof s=="string"&&(_=s,s=this._getRangeById(_)),s){(E=new c.Range(s,this.options)).parentRange=g,E.path=d,g?g.items.push(E):this._topRanges.push(E);var v=s.items||s.members;if(v)for(var T=0;T<v.length;T++){var I=v[T];if(I["@type"]&&I["@type"].toLowerCase()==="sc:range"||I.type&&I.type.toLowerCase()==="range")this._parseRanges(I,d+"/"+T,E);else if(I["@type"]&&I["@type"].toLowerCase()==="sc:canvas"||I.type&&I.type.toLowerCase()==="canvas"){E.canvases||(E.canvases=[]);var C=I.id||I["@id"];E.canvases.push(C)}}else if(s.ranges)for(T=0;T<s.ranges.length;T++)this._parseRanges(s.ranges[T],d+"/"+T,E)}else console.warn("Range:",_,"does not exist")},a.prototype.getAllRanges=function(){if(this._allRanges!=null)return this._allRanges;this._allRanges=[];for(var s=this.getTopRanges(),d=function(_){var v=s[_];v.id&&g._allRanges.push(v);var T=function(C,O){C.add(O);var R=O.getRanges();return R.length?R.reduce(T,C):C},I=Array.from(v.getRanges().reduce(T,new Set));g._allRanges=g._allRanges.concat(I)},g=this,E=0;E<s.length;E++)d(E);return this._allRanges},a.prototype.getRangeById=function(s){for(var d=this.getAllRanges(),g=0;g<d.length;g++){var E=d[g];if(E.id===s)return E}return null},a.prototype.getRangeByPath=function(s){for(var d=this.getAllRanges(),g=0;g<d.length;g++){var E=d[g];if(E.path===s)return E}return null},a.prototype.getSequences=function(){if(this.items.length)return this.items;var s=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(s)for(var d=0;d<s.length;d++){var g=s[d],E=new c.Sequence(g,this.options);this.items.push(E)}else this.__jsonld.items&&(E=new c.Sequence(this.__jsonld.items,this.options),this.items.push(E));return this.items},a.prototype.getSequenceByIndex=function(s){return this.getSequences()[s]},a.prototype.getTotalSequences=function(){return this.getSequences().length},a.prototype.getManifestType=function(){var s=this.getService(f.ServiceProfile.UI_EXTENSIONS);return s?s.getProperty("manifestType"):c.ManifestType.EMPTY},a.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},a.prototype.isPagingEnabled=function(){var s=this.getViewingHint();if(s)return s===f.ViewingHint.PAGED;var d=this.getBehavior();return!!d&&d===f.Behavior.PAGED},a.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},a.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},a}(c.IIIFResource);i.Manifest=h},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(l){l.EMPTY="",l.MANUSCRIPT="manuscript",l.MONOGRAPH="monograph"}(i.ManifestType||(i.ManifestType={}))},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(p,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var g in d)d.hasOwnProperty(g)&&(s[g]=d[g])})(p,a)},function(p,a){function s(){this.constructor=p}l(p,a),p.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(0),c=o(1),h=function(p){function a(s,d){var g=p.call(this,s,d)||this;return g._ranges=null,g.canvases=null,g.items=[],g}return u(a,p),a.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},a.prototype.getDuration=function(){var s,d;if(this.canvases&&this.canvases.length)for(var g=0;g<this.canvases.length;g++){var E=this.canvases[g],_=f.Utils.getTemporalComponent(E);_&&_.length>1&&(g===0&&(s=Number(_[0])),g===this.canvases.length-1&&(d=Number(_[1])))}else{var v=this.getRanges();for(g=0;g<v.length;g++){var T=v[g].getDuration();T&&(g===0&&(s=T.start),g===v.length-1&&(d=T.end))}}if(s!==void 0&&d!==void 0)return new f.Duration(s,d)},a.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter(function(s){return s.isRange()})},a.prototype.getBehavior=function(){var s=this.getProperty("behavior");return Array.isArray(s)&&(s=s[0]),s||null},a.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},a.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},a.prototype.getTree=function(s){s.data=this,this.treeNode=s;var d=this.getRanges();if(d&&d.length)for(var g=0;g<d.length;g++){var E=d[g],_=new f.TreeNode;s.addNode(_),this._parseTreeNode(_,E)}return f.Utils.generateTreeNodeIds(s),s},a.prototype.spansTime=function(s){var d=this.getDuration();return!!(d&&s>=d.start&&s<=d.end)},a.prototype._parseTreeNode=function(s,d){s.label=f.LanguageMap.getValue(d.getLabel(),this.options.locale),s.data=d,s.data.type=f.Utils.normaliseType(f.TreeNodeType.RANGE),d.treeNode=s;var g=d.getRanges();if(g&&g.length)for(var E=0;E<g.length;E++){var _=g[E];if(_.getBehavior()!==c.Behavior.NO_NAV){var v=new f.TreeNode;s.addNode(v),this._parseTreeNode(v,_)}}},a}(f.ManifestResource);i.Range=h},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(c,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var s in a)a.hasOwnProperty(s)&&(p[s]=a[s])})(c,h)},function(c,h){function p(){this.constructor=c}l(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(i,"__esModule",{value:!0});var f=function(c){function h(p,a){return c.call(this,p,a)||this}return u(h,c),h.prototype.getFormat=function(){return this.getProperty("format")},h}(o(0).ManifestResource);i.Rendering=f},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(p,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var g in d)d.hasOwnProperty(g)&&(s[g]=d[g])})(p,a)},function(p,a){function s(){this.constructor=p}l(p,a),p.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(1),c=o(0),h=function(p){function a(s,d){var g=p.call(this,s,d)||this;return g.items=[],g._thumbnails=null,g}return u(a,p),a.prototype.getCanvases=function(){if(this.items.length)return this.items;var s=this.__jsonld.canvases||this.__jsonld.elements;if(s)for(var d=0;d<s.length;d++){var g=s[d];(E=new c.Canvas(g,this.options)).index=d,this.items.push(E)}else if(this.__jsonld)for(d=0;d<this.__jsonld.length;d++){var E;g=this.__jsonld[d],(E=new c.Canvas(g,this.options)).index=d,this.items.push(E)}return this.items},a.prototype.getCanvasById=function(s){for(var d=0;d<this.getTotalCanvases();d++){var g=this.getCanvasByIndex(d),E=c.Utils.normaliseUrl(g.id);if(c.Utils.normaliseUrl(s)===E)return g}return null},a.prototype.getCanvasByIndex=function(s){return this.getCanvases()[s]},a.prototype.getCanvasIndexById=function(s){for(var d=0;d<this.getTotalCanvases();d++)if(this.getCanvasByIndex(d).id===s)return d;return null},a.prototype.getCanvasIndexByLabel=function(s,d){s=s.trim(),isNaN(s)||(s=parseInt(s,10).toString(),d&&(s+="r"));for(var g,E,_,v=/(\d*)\D+(\d*)/,T=0;T<this.getTotalCanvases();T++){var I=this.getCanvasByIndex(T);if(c.LanguageMap.getValue(I.getLabel(),this.options.locale)===s||(g=v.exec(s))&&(E=g[1],(_=g[2])&&new RegExp("^"+E+"\\D+"+_+"$").test(I.getLabel().toString())))return T}return-1},a.prototype.getLastCanvasLabel=function(s){for(var d=this.getTotalCanvases()-1;d>=0;d--){var g=this.getCanvasByIndex(d),E=c.LanguageMap.getValue(g.getLabel(),this.options.locale);if(s){if(/^[a-zA-Z0-9]*$/.test(E))return E}else if(E)return E}return this.options.defaultLabel},a.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},a.prototype.getNextPageIndex=function(s,d){var g;if(d){var E=this.getPagedIndices(s),_=this.getViewingDirection();g=_&&_===f.ViewingDirection.RIGHT_TO_LEFT?E[0]+1:E[E.length-1]+1}else g=s+1;return g>this.getLastPageIndex()?-1:g},a.prototype.getPagedIndices=function(s,d){var g=[];if(d){g=this.isFirstCanvas(s)||this.isLastCanvas(s)?[s]:s%2?[s,s+1]:[s-1,s];var E=this.getViewingDirection();E&&E===f.ViewingDirection.RIGHT_TO_LEFT&&(g=g.reverse())}else g.push(s);return g},a.prototype.getPrevPageIndex=function(s,d){var g;if(d){var E=this.getPagedIndices(s),_=this.getViewingDirection();g=_&&_===f.ViewingDirection.RIGHT_TO_LEFT?E[E.length-1]-1:E[0]-1}else g=s-1;return g},a.prototype.getStartCanvasIndex=function(){var s=this.getStartCanvas();if(s){for(var d=0;d<this.getTotalCanvases();d++)if(this.getCanvasByIndex(d).id===s)return d}return 0},a.prototype.getThumbs=function(s,d){for(var g=[],E=this.getTotalCanvases(),_=0;_<E;_++){var v=this.getCanvasByIndex(_),T=new c.Thumb(s,v);g.push(T)}return g},a.prototype.getThumbnails=function(){if(this._thumbnails!=null)return this._thumbnails;this._thumbnails=[];for(var s=this.getCanvases(),d=0;d<s.length;d++){var g=s[d].getThumbnail();g&&this._thumbnails.push(g)}return this._thumbnails},a.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},a.prototype.getTotalCanvases=function(){return this.getCanvases().length},a.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},a.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},a.prototype.isCanvasIndexOutOfRange=function(s){return s>this.getTotalCanvases()-1},a.prototype.isFirstCanvas=function(s){return s===0},a.prototype.isLastCanvas=function(s){return s===this.getTotalCanvases()-1},a.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},a.prototype.isPagingEnabled=function(){var s=this.getViewingHint();return!!s&&s===f.ViewingHint.PAGED},a.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},a}(c.ManifestResource);i.Sequence=h},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=o(0),u=function(){function f(){}return f.parse=function(c,h){return typeof c=="string"&&(c=JSON.parse(c)),this.parseJson(c,h)},f.parseJson=function(c,h){var p;if(h&&h.navDate&&!isNaN(h.navDate.getTime())&&(c.navDate=h.navDate.toString()),c["@type"])switch(c["@type"]){case"sc:Collection":p=this.parseCollection(c,h);break;case"sc:Manifest":p=this.parseManifest(c,h);break;default:return null}else switch(c.type){case"Collection":p=this.parseCollection(c,h);break;case"Manifest":p=this.parseManifest(c,h);break;default:return null}return p.isLoaded=!0,p},f.parseCollection=function(c,h){var p=new l.Collection(c,h);return h?(p.index=h.index||0,h.resource&&(p.parentCollection=h.resource.parentCollection)):p.index=0,this.parseCollections(p,h),this.parseManifests(p,h),this.parseItems(p,h),p},f.parseCollections=function(c,h){var p;if(c.__jsonld.collections?p=c.__jsonld.collections:c.__jsonld.items&&(p=c.__jsonld.items.filter(function(d){return d.type.toLowerCase()==="collection"})),p)for(var a=0;a<p.length;a++){h&&(h.index=a);var s=this.parseCollection(p[a],h);s.index=a,s.parentCollection=c,c.items.push(s)}},f.parseManifest=function(c,h){return new l.Manifest(c,h)},f.parseManifests=function(c,h){var p;if(c.__jsonld.manifests?p=c.__jsonld.manifests:c.__jsonld.items&&(p=c.__jsonld.items.filter(function(d){return d.type.toLowerCase()==="manifest"})),p)for(var a=0;a<p.length;a++){var s=this.parseManifest(p[a],h);s.index=a,s.parentCollection=c,c.items.push(s)}},f.parseItem=function(c,h){if(c["@type"]){if(c["@type"].toLowerCase()==="sc:manifest")return this.parseManifest(c,h);if(c["@type"].toLowerCase()==="sc:collection")return this.parseCollection(c,h)}else if(c.type){if(c.type.toLowerCase()==="manifest")return this.parseManifest(c,h);if(c.type.toLowerCase()==="collection")return this.parseCollection(c,h)}return null},f.parseItems=function(c,h){var p=c.__jsonld.members||c.__jsonld.items;if(p)for(var a=function(E){h&&(h.index=E);var _=s.parseItem(p[E],h);return _?c.items.filter(function(v){return v.id===_.id})[0]?"continue":(_.index=E,_.parentCollection=c,void c.items.push(_)):{value:void 0}},s=this,d=0;d<p.length;d++){var g=a(d);if(typeof g=="object")return g.value}},f}();i.Deserialiser=u},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(h,p){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var d in s)s.hasOwnProperty(d)&&(a[d]=s[d])})(h,p)},function(h,p){function a(){this.constructor=h}l(h,p),h.prototype=p===null?Object.create(p):(a.prototype=p.prototype,new a)});Object.defineProperty(i,"__esModule",{value:!0});var f=o(0),c=function(h){function p(a,s){return h.call(this,a,s)||this}return u(p,h),p.prototype.getProfile=function(){var a=this.getProperty("profile");return a||(a=this.getProperty("dcterms:conformsTo")),Array.isArray(a)?a[0]:a},p.prototype.getConfirmLabel=function(){return f.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},p.prototype.getDescription=function(){return f.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},p.prototype.getFailureDescription=function(){return f.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},p.prototype.getFailureHeader=function(){return f.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},p.prototype.getHeader=function(){return f.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},p.prototype.getServiceLabel=function(){return f.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},p.prototype.getInfoUri=function(){var a=this.id;return a.endsWith("/")||(a+="/"),a+"info.json"},p}(f.ManifestResource);i.Service=c},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Size=function(l,u){this.width=l,this.height=u}},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(l){l[l.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",l[l.FORBIDDEN=2]="FORBIDDEN",l[l.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",l[l.RESTRICTED=4]="RESTRICTED"}(i.StatusCode||(i.StatusCode={}))},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=o(0);i.Thumb=function(u,f){this.data=f,this.index=f.index,this.width=u;var c=f.getHeight()/f.getWidth();this.height=c?Math.floor(this.width*c):u,this.uri=f.getCanonicalImageUri(u),this.label=l.LanguageMap.getValue(f.getLabel())}},function(r,i,o){"use strict";var l,u=this&&this.__extends||(l=function(c,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var s in a)a.hasOwnProperty(s)&&(p[s]=a[s])})(c,h)},function(c,h){function p(){this.constructor=c}l(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(i,"__esModule",{value:!0});var f=function(c){function h(p,a){return c.call(this,p,a)||this}return u(h,c),h}(o(0).Resource);i.Thumbnail=f},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=o(0),u=function(){function f(c,h){this.label=c,this.data=h||{},this.nodes=[]}return f.prototype.addNode=function(c){this.nodes.push(c),c.parentNode=this},f.prototype.isCollection=function(){return this.data.type===l.Utils.normaliseType(l.TreeNodeType.COLLECTION)},f.prototype.isManifest=function(){return this.data.type===l.Utils.normaliseType(l.TreeNodeType.MANIFEST)},f.prototype.isRange=function(){return this.data.type===l.Utils.normaliseType(l.TreeNodeType.RANGE)},f}();i.TreeNode=u},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(l){l.COLLECTION="collection",l.MANIFEST="manifest",l.RANGE="range"}(i.TreeNodeType||(i.TreeNodeType={}))},function(r,i,o){r.exports=function(l){var u={};function f(c){if(u[c])return u[c].exports;var h=u[c]={i:c,l:!1,exports:{}};return l[c].call(h.exports,h,h.exports,f),h.l=!0,h.exports}return f.m=l,f.c=u,f.d=function(c,h,p){f.o(c,h)||Object.defineProperty(c,h,{enumerable:!0,get:p})},f.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},f.t=function(c,h){if(1&h&&(c=f(c)),8&h||4&h&&typeof c=="object"&&c&&c.__esModule)return c;var p=Object.create(null);if(f.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:c}),2&h&&typeof c!="string")for(var a in c)f.d(p,a,function(s){return c[s]}.bind(null,a));return p},f.n=function(c){var h=c&&c.__esModule?function(){return c.default}:function(){return c};return f.d(h,"a",h),h},f.o=function(c,h){return Object.prototype.hasOwnProperty.call(c,h)},f.p="",f(f.s=0)}([function(l,u,f){l.exports=f(1)},function(l,u,f){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CONTINUE=100,u.SWITCHING_PROTOCOLS=101,u.PROCESSING=102,u.OK=200,u.CREATED=201,u.ACCEPTED=202,u.NON_AUTHORITATIVE_INFORMATION=203,u.NO_CONTENT=204,u.RESET_CONTENT=205,u.PARTIAL_CONTENT=206,u.MULTI_STATUS=207,u.MULTIPLE_CHOICES=300,u.MOVED_PERMANENTLY=301,u.MOVED_TEMPORARILY=302,u.SEE_OTHER=303,u.NOT_MODIFIED=304,u.USE_PROXY=305,u.TEMPORARY_REDIRECT=307,u.BAD_REQUEST=400,u.UNAUTHORIZED=401,u.PAYMENT_REQUIRED=402,u.FORBIDDEN=403,u.NOT_FOUND=404,u.METHOD_NOT_ALLOWED=405,u.NOT_ACCEPTABLE=406,u.PROXY_AUTHENTICATION_REQUIRED=407,u.REQUEST_TIME_OUT=408,u.CONFLICT=409,u.GONE=410,u.LENGTH_REQUIRED=411,u.PRECONDITION_FAILED=412,u.REQUEST_ENTITY_TOO_LARGE=413,u.REQUEST_URI_TOO_LARGE=414,u.UNSUPPORTED_MEDIA_TYPE=415,u.REQUESTED_RANGE_NOT_SATISFIABLE=416,u.EXPECTATION_FAILED=417,u.IM_A_TEAPOT=418,u.UNPROCESSABLE_ENTITY=422,u.LOCKED=423,u.FAILED_DEPENDENCY=424,u.UNORDERED_COLLECTION=425,u.UPGRADE_REQUIRED=426,u.PRECONDITION_REQUIRED=428,u.TOO_MANY_REQUESTS=429,u.REQUEST_HEADER_FIELDS_TOO_LARGE=431,u.INTERNAL_SERVER_ERROR=500,u.NOT_IMPLEMENTED=501,u.BAD_GATEWAY=502,u.SERVICE_UNAVAILABLE=503,u.GATEWAY_TIME_OUT=504,u.HTTP_VERSION_NOT_SUPPORTED=505,u.VARIANT_ALSO_NEGOTIATES=506,u.INSUFFICIENT_STORAGE=507,u.BANDWIDTH_LIMIT_EXCEEDED=509,u.NOT_EXTENDED=510,u.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(r,i,o){r.exports=window.fetch||(window.fetch=o(3).default||o(3))}])},function(e,t,n){e.exports=function(r){var i={};function o(l){if(i[l])return i[l].exports;var u=i[l]={i:l,l:!1,exports:{}};return r[l].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=r,o.c=i,o.d=function(l,u,f){o.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:f})},o.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.t=function(l,u){if(1&u&&(l=o(l)),8&u||4&u&&typeof l=="object"&&l&&l.__esModule)return l;var f=Object.create(null);if(o.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:l}),2&u&&typeof l!="string")for(var c in l)o.d(f,c,function(h){return l[h]}.bind(null,c));return f},o.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(u,"a",u),u},o.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},o.p="",o(o.s=0)}([function(r,i,o){r.exports=o(1)},function(r,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CONTINUE=100,i.SWITCHING_PROTOCOLS=101,i.PROCESSING=102,i.OK=200,i.CREATED=201,i.ACCEPTED=202,i.NON_AUTHORITATIVE_INFORMATION=203,i.NO_CONTENT=204,i.RESET_CONTENT=205,i.PARTIAL_CONTENT=206,i.MULTI_STATUS=207,i.MULTIPLE_CHOICES=300,i.MOVED_PERMANENTLY=301,i.MOVED_TEMPORARILY=302,i.SEE_OTHER=303,i.NOT_MODIFIED=304,i.USE_PROXY=305,i.TEMPORARY_REDIRECT=307,i.BAD_REQUEST=400,i.UNAUTHORIZED=401,i.PAYMENT_REQUIRED=402,i.FORBIDDEN=403,i.NOT_FOUND=404,i.METHOD_NOT_ALLOWED=405,i.NOT_ACCEPTABLE=406,i.PROXY_AUTHENTICATION_REQUIRED=407,i.REQUEST_TIME_OUT=408,i.CONFLICT=409,i.GONE=410,i.LENGTH_REQUIRED=411,i.PRECONDITION_FAILED=412,i.REQUEST_ENTITY_TOO_LARGE=413,i.REQUEST_URI_TOO_LARGE=414,i.UNSUPPORTED_MEDIA_TYPE=415,i.REQUESTED_RANGE_NOT_SATISFIABLE=416,i.EXPECTATION_FAILED=417,i.IM_A_TEAPOT=418,i.UNPROCESSABLE_ENTITY=422,i.LOCKED=423,i.FAILED_DEPENDENCY=424,i.UNORDERED_COLLECTION=425,i.UPGRADE_REQUIRED=426,i.PRECONDITION_REQUIRED=428,i.TOO_MANY_REQUESTS=429,i.REQUEST_HEADER_FIELDS_TOO_LARGE=431,i.INTERNAL_SERVER_ERROR=500,i.NOT_IMPLEMENTED=501,i.BAD_GATEWAY=502,i.SERVICE_UNAVAILABLE=503,i.GATEWAY_TIME_OUT=504,i.HTTP_VERSION_NOT_SUPPORTED=505,i.VARIANT_ALSO_NEGOTIATES=506,i.INSUFFICIENT_STORAGE=507,i.BANDWIDTH_LIMIT_EXCEEDED=509,i.NOT_EXTENDED=510,i.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(c,h){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var s in a)a.hasOwnProperty(s)&&(p[s]=a[s])})(c,h)},function(c,h){function p(){this.constructor=c}r(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),l=n(5),u=function(c){function h(p){var a=c.call(this,p)||this;return a._data=a.data(),a._data=a.options.data,a._init(),a._resize(),a}return i(h,c),h.prototype._init=function(){c.prototype._init.call(this),this._$element=$(this.el);var p=this;return this._$tree=$('<ul class="tree"></ul>'),this._$element.append(this._$tree),$.templates({pageTemplate:"{^{for nodes}}					{^{tree/}}				{{/for}}",treeTemplate:`<li>						{^{if nodes && nodes.length}}							<div class="toggle" data-link="class{merge:expanded toggle='expanded'}"></div>						{{else}}						<div class="spacer"></div>						{{/if}}						{^{if multiSelectEnabled}}							<input id="tree-checkbox-{{>id}}" type="checkbox" data-link="checked{:multiSelected ? 'checked' : ''}" class="multiSelect" />						{{/if}}						{^{if selected}}							<a id="tree-link-{{>id}}" href="#" title="{{>label}}" class="selected">{{>label}}</a>						{{else}}							<a id="tree-link-{{>id}}" href="#" title="{{>label}}">{{>label}}</a>						{{/if}}				</li>				{^{if expanded}}					<li>							<ul>									{^{for nodes}}										{^{tree/}}									{{/for}}							</ul>					</li>				{{/if}}`}),$.views.tags({tree:{toggleExpanded:function(){var a=this.data;p._setNodeExpanded(a,!a.expanded)},toggleMultiSelect:function(){var a=this.data;if(p._setNodeMultiSelected(a,!a.multiSelected),a.isRange()){var s=p._getMultiSelectState();s&&s.selectRange(a.data,a.multiSelected)}p.fire(f.TREE_NODE_MULTISELECTED,a)},init:function(a,s,d){this.data=a.view.data},onAfterLink:function(){var a=this;a.contents("li").first().on("click",".toggle",function(){a.toggleExpanded()}).on("click","a",function(s){s.preventDefault();var d=a.data;d.nodes.length&&p._data.branchNodesExpandOnClick&&a.toggleExpanded(),d.multiSelectEnabled?a.toggleMultiSelect():d.nodes.length?p._data.branchNodesSelectable&&(p.fire(f.TREE_NODE_SELECTED,d),p.selectNode(d)):(p.fire(f.TREE_NODE_SELECTED,d),p.selectNode(d))}).on("click","input.multiSelect",function(s){a.toggleMultiSelect()})},template:$.templates.treeTemplate}}),!0},h.prototype.set=function(p){var a=this;if(this._data=Object.assign(this._data,p),this._data.helper){this._rootNode=this._data.helper.getTree(this._data.topRangeIndex,this._data.treeSortType),this._flattenedTree=null,this._multiSelectableNodes=null,this._$tree.link($.templates.pageTemplate,this._rootNode);var s=this._getMultiSelectState();if(s)for(var d=function(_){var v=s.ranges[_],T=g._getMultiSelectableNodes().filter(function(I){return I.data.id===v.id})[0];T&&(g._setNodeMultiSelectEnabled(T,v.multiSelectEnabled),g._setNodeMultiSelected(T,v.multiSelected))},g=this,E=0;E<s.ranges.length;E++)d(E);this._data.autoExpand&&this.getAllNodes().forEach(function(_,v){a._setNodeExpanded(_,!0)})}},h.prototype._getMultiSelectState=function(){return this._data.helper?this._data.helper.getMultiSelectState():null},h.prototype.data=function(){return{autoExpand:!1,branchNodesExpandOnClick:!0,branchNodesSelectable:!0,helper:null,topRangeIndex:0,treeSortType:l.TreeSortType.NONE}},h.prototype.allNodesSelected=function(){var p=this._getMultiSelectableNodes(),a=this.getMultiSelectedNodes();return p.length===a.length},h.prototype._getMultiSelectableNodes=function(){var p=this;if(this._multiSelectableNodes)return this._multiSelectableNodes;var a=this.getAllNodes();return a?this._multiSelectableNodes=a.filter(function(s){return p._nodeIsMultiSelectable(s)}):[]},h.prototype._nodeIsMultiSelectable=function(p){return!!(p.data.type===o.TreeNodeType.MANIFEST&&p.nodes&&p.nodes.length>0||p.data.type===o.TreeNodeType.RANGE)},h.prototype.getAllNodes=function(){return this._flattenedTree?this._flattenedTree:this._data.helper?this._flattenedTree=this._data.helper.getFlattenedTree(this._rootNode):[]},h.prototype.getMultiSelectedNodes=function(){var p=this;return this.getAllNodes().filter(function(a){return p._nodeIsMultiSelectable(a)&&a.multiSelected})},h.prototype.getNodeById=function(p){return this.getAllNodes().filter(function(a){return a.id===p})[0]},h.prototype.expandParents=function(p,a){p&&p.parentNode&&(this._setNodeExpanded(p.parentNode,a),this.expandParents(p.parentNode,a))},h.prototype._setNodeSelected=function(p,a){$.observable(p).setProperty("selected",a)},h.prototype._setNodeExpanded=function(p,a){$.observable(p).setProperty("expanded",a)},h.prototype._setNodeMultiSelected=function(p,a){$.observable(p).setProperty("multiSelected",a)},h.prototype._setNodeMultiSelectEnabled=function(p,a){$.observable(p).setProperty("multiSelectEnabled",a)},h.prototype.selectPath=function(p){if(this._rootNode){var a=p.split("/");a.length>=1&&a.shift();var s=this.getNodeByPath(this._rootNode,a);this.selectNode(s)}},h.prototype.deselectCurrentNode=function(){this.selectedNode&&this._setNodeSelected(this.selectedNode,!1)},h.prototype.selectNode=function(p){this._rootNode&&(this.deselectCurrentNode(),this.selectedNode=p,this._setNodeSelected(this.selectedNode,!0))},h.prototype.expandNode=function(p,a){this._rootNode&&this._setNodeExpanded(p,a)},h.prototype.getNodeByPath=function(p,a){if(a.length===0)return p;var s=Number(a.shift()),d=p.nodes[s];return this.getNodeByPath(d,a)},h.prototype.show=function(){this._$element.show()},h.prototype.hide=function(){this._$element.hide()},h.prototype._resize=function(){},h}(n(4).BaseComponent);t.TreeComponent=u;var f=function(){function c(){}return c.TREE_NODE_MULTISELECTED="treeNodeMultiSelected",c.TREE_NODE_SELECTED="treeNodeSelected",c}();t.Events=f},function(e,t,n){"use strict";n.r(t),n.d(t,"BaseComponent",function(){return r});var r=function(){function i(o){this.options=o,this.options.data=Object.assign({},this.data(),o.data)}return i.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},i.prototype.data=function(){return{}},i.prototype.on=function(o,l,u){var f=this._e||(this._e={});(f[o]||(f[o]=[])).push({fn:l,ctx:u})},i.prototype.fire=function(o){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];for(var f=[].slice.call(arguments,1),c=((this._e||(this._e={}))[o]||[]).slice(),h=0,p=c.length;h<p;h++)c[h].fn.apply(c[h].ctx,f)},i.prototype._resize=function(){},i.prototype.set=function(o){},i}()},function(e,t,n){"use strict";n.r(t);var r,i,o,l,u,f,c,h,p,a,s=function(y){this.isVisible=!0;var m=y.on.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/);this.x=Number(m[1]),this.y=Number(m[2]),this.width=Number(m[3]),this.height=Number(m[4]),this.chars=y.resource.chars},d=function(){function y(m,S){this.rects=[],this.canvasIndex=S,this.addRect(m)}return y.prototype.addRect=function(m){var S=new s(m);S.canvasIndex=this.canvasIndex,S.index=this.rects.length,this.rects.push(S),this.rects.sort(function(N,w){return N.index-w.index})},y}(),g=n(0),E=function(){function y(){this.isEnabled=!1,this.ranges=[],this.canvases=[]}return y.prototype.allCanvasesSelected=function(){return this.canvases.length>0&&this.getAllSelectedCanvases().length===this.canvases.length},y.prototype.allRangesSelected=function(){return this.ranges.length>0&&this.getAllSelectedRanges().length===this.ranges.length},y.prototype.allSelected=function(){return this.allRangesSelected()&&this.allCanvasesSelected()},y.prototype.getAll=function(){return this.canvases.concat(this.ranges)},y.prototype.getAllSelectedCanvases=function(){return this.canvases.filter(function(m){return m.multiSelected})},y.prototype.getAllSelectedRanges=function(){return this.ranges.filter(function(m){return m.multiSelected})},y.prototype.getCanvasById=function(m){return this.canvases.filter(function(S){return g.Utils.normaliseUrl(S.id)===g.Utils.normaliseUrl(m)})[0]},y.prototype.getCanvasesByIds=function(m){for(var S=[],N=0;N<m.length;N++){var w=m[N];S.push(this.getCanvasById(w))}return S},y.prototype.getRangeCanvases=function(m){var S=m.getCanvasIds();return this.getCanvasesByIds(S)},y.prototype.selectAll=function(m){this.selectRanges(this.ranges,m),this.selectCanvases(this.canvases,m)},y.prototype.selectCanvas=function(m,S){this.canvases.filter(function(N){return N.id===m.id})[0].multiSelected=S},y.prototype.selectAllCanvases=function(m){this.selectCanvases(this.canvases,m)},y.prototype.selectCanvases=function(m,S){for(var N=0;N<m.length;N++)m[N].multiSelected=S},y.prototype.selectRange=function(m,S){var N=this.ranges.filter(function(A){return A.id===m.id})[0];N.multiSelected=S;var w=this.getRangeCanvases(N);this.selectCanvases(w,S)},y.prototype.selectAllRanges=function(m){this.selectRanges(this.ranges,m)},y.prototype.selectRanges=function(m,S){for(var N=0;N<m.length;N++){var w=m[N];w.multiSelected=S;var A=this.getCanvasesByIds(w.getCanvasIds());this.selectCanvases(A,S)}},y.prototype.setEnabled=function(m){this.isEnabled=m;for(var S=this.getAll(),N=0;N<S.length;N++){var w=S[N];w.multiSelectEnabled=this.isEnabled,m||(w.multiSelected=!1)}},y}(),_=function(){function y(m,S){this.items=[],this.resource=m,this.label=S}return y.prototype.addItem=function(m){this.items.push(m)},y.prototype.addMetadata=function(m,S){S===void 0&&(S=!1);for(var N=0;N<m.length;N++){var w=m[N];w.isRootLevel=S,this.addItem(w)}},y}();(function(y){y.DATE="date",y.NONE="none"})(r||(r={})),function(y){y.BOOKMARKING="oa:bookmarking",y.CLASSIFYING="oa:classifying",y.COMMENTING="oa:commenting",y.DESCRIBING="oa:describing",y.EDITING="oa:editing",y.HIGHLIGHTING="oa:highlighting",y.IDENTIFYING="oa:identifying",y.LINKING="oa:linking",y.MODERATING="oa:moderating",y.PAINTING="sc:painting",y.QUESTIONING="oa:questioning",y.REPLYING="oa:replying",y.TAGGING="oa:tagging",y.TRANSCRIBING="oad:transcribing"}(i||(i={})),function(y){y.AUTO_ADVANCE="auto-advance",y.CONTINUOUS="continuous",y.FACING_PAGES="facing-pages",y.HIDDEN="hidden",y.INDIVIDUALS="individuals",y.MULTI_PART="multi-part",y.NO_NAV="no-nav",y.NON_PAGED="non-paged",y.PAGED="paged",y.REPEAT="repeat",y.SEQUENCE="sequence",y.THUMBNAIL_NAV="thumbnail-nav",y.TOGETHER="together",y.UNORDERED="unordered"}(o||(o={})),function(y){y.CANVAS="canvas",y.CHOICE="choice",y.CONTENT_AS_TEXT="contentastext",y.DATASET="dataset",y.DOCUMENT="document",y.IMAGE="image",y.MODEL="model",y.MOVING_IMAGE="movingimage",y.PDF="pdf",y.PHYSICAL_OBJECT="physicalobject",y.SOUND="sound",y.TEXT="text",y.TEXTUALBODY="textualbody",y.VIDEO="video"}(l||(l={})),function(y){y.ANNOTATION="annotation",y.CANVAS="canvas",y.COLLECTION="collection",y.MANIFEST="manifest",y.RANGE="range",y.SEQUENCE="sequence"}(u||(u={})),function(y){y.AUDIO_MP4="audio/mp4",y.CORTO="application/corto",y.DRACO="application/draco",y.EPUB="application/epub+zip",y.GLTF="model/gltf+json",y.JPG="image/jpeg",y.M3U8="application/vnd.apple.mpegurl",y.MP3="audio/mp3",y.MPEG_DASH="application/dash+xml",y.OBJ="text/plain",y.OPF="application/oebps-package+xml",y.PDF="application/pdf",y.PLY="application/ply",y.THREEJS="application/vnd.threejs+json",y.VIDEO_MP4="video/mp4",y.WEBM="video/webm"}(f||(f={})),function(y){y.DOC="application/msword",y.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",y.PDF="application/pdf"}(c||(c={})),function(y){y.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",y.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",y.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",y.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",y.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",y.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",y.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",y.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",y.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",y.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",y.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",y.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",y.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",y.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",y.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",y.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",y.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",y.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",y.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",y.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",y.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",y.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",y.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",y.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",y.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",y.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",y.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",y.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",y.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",y.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",y.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",y.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",y.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",y.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",y.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",y.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",y.SEARCH_0="http://iiif.io/api/search/0/search",y.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",y.SEARCH_1="http://iiif.io/api/search/1/search",y.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",y.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",y.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",y.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",y.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",y.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",y.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(h||(h={})),function(y){y.BOTTOM_TO_TOP="bottom-to-top",y.LEFT_TO_RIGHT="left-to-right",y.RIGHT_TO_LEFT="right-to-left",y.TOP_TO_BOTTOM="top-to-bottom"}(p||(p={})),function(y){y.CONTINUOUS="continuous",y.INDIVIDUALS="individuals",y.NON_PAGED="non-paged",y.PAGED="paged",y.TOP="top"}(a||(a={}));var v=function(){function y(){}return y.manifestNotLoaded="Manifest has not loaded yet",y}(),T=function(){function y(m){this.options=m,this.iiifResource=this.options.iiifResource,this.manifestUri=this.options.manifestUri,this.manifest=this.options.manifest,this.collectionIndex=this.options.collectionIndex||0,this.manifestIndex=this.options.manifestIndex||0,this.sequenceIndex=this.options.sequenceIndex||0,this.canvasIndex=this.options.canvasIndex||0}return y.prototype.getAutoCompleteService=function(){var m=this.getSearchService(),S=null;return m&&((S=m.getService(h.SEARCH_0_AUTO_COMPLETE))||(S=m.getService(h.SEARCH_1_AUTO_COMPLETE))),S},y.prototype.getAttribution=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var m=this.manifest.getAttribution();return m?g.LanguageMap.getValue(m,this.options.locale):null},y.prototype.getCanvases=function(){return this.getCurrentSequence().getCanvases()},y.prototype.getCanvasById=function(m){return this.getCurrentSequence().getCanvasById(m)},y.prototype.getCanvasesById=function(m){for(var S=[],N=0;N<m.length;N++){var w=m[N],A=this.getCanvasById(w);A&&S.push(A)}return S},y.prototype.getCanvasByIndex=function(m){return this.getCurrentSequence().getCanvasByIndex(m)},y.prototype.getCanvasIndexById=function(m){return this.getCurrentSequence().getCanvasIndexById(m)},y.prototype.getCanvasIndexByLabel=function(m){var S=this.getManifestType()===g.ManifestType.MANUSCRIPT;return this.getCurrentSequence().getCanvasIndexByLabel(m,S)},y.prototype.getCanvasRange=function(m,S){var N=this.getCanvasRanges(m);if(S){for(var w=0;w<N.length;w++){var A=N[w];if(A.path===S)return A}return null}return N[0]},y.prototype.getCanvasRanges=function(m){if(!this.manifest)throw new Error(v.manifestNotLoaded);return m.ranges||(m.ranges=this.manifest.getAllRanges().filter(function(S){return S.getCanvasIds().some(function(N){return g.Utils.normaliseUrl(N)===g.Utils.normaliseUrl(m.id)})})),m.ranges},y.prototype.getCollectionIndex=function(m){if(!m.parentCollection||m.parentCollection.parentCollection)return m.parentCollection?m.parentCollection.index:void 0},y.prototype.getCurrentCanvas=function(){return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex)},y.prototype.getCurrentSequence=function(){return this.getSequenceByIndex(this.sequenceIndex)},y.prototype.getDescription=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var m=this.manifest.getDescription();return m?g.LanguageMap.getValue(m,this.options.locale):null},y.prototype.getLabel=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var m=this.manifest.getLabel();return m?g.LanguageMap.getValue(m,this.options.locale):null},y.prototype.getLastCanvasLabel=function(m){return this.getCurrentSequence().getLastCanvasLabel(m)},y.prototype.getFirstPageIndex=function(){return 0},y.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},y.prototype.getLicense=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getLicense()},y.prototype.getLogo=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getLogo()},y.prototype.getManifestType=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var m=this.manifest.getManifestType();return m===g.ManifestType.EMPTY&&(m=g.ManifestType.MONOGRAPH),m},y.prototype.getMetadata=function(m){if(!this.manifest)throw new Error(v.manifestNotLoaded);var S=[],N=this.manifest.getMetadata(),w=new _(this.manifest),A=this.options.locale;N&&N.length&&w.addMetadata(N,!0),this.manifest.getDescription().length&&((U=new g.LabelValuePair(A)).label=[new g.Language("description",A)],U.value=this.manifest.getDescription(),U.isRootLevel=!0,w.addItem(U)),this.manifest.getAttribution().length&&((U=new g.LabelValuePair(A)).label=[new g.Language("attribution",A)],U.value=this.manifest.getAttribution(),U.isRootLevel=!0,w.addItem(U));var P=this.manifest.getLicense();if(P){var k={label:"license",value:m&&m.licenseFormatter?m.licenseFormatter.format(P):P};(U=new g.LabelValuePair(A)).parse(k),U.isRootLevel=!0,w.addItem(U)}if(this.manifest.getLogo()){var U;k={label:"logo",value:'<img src="'+this.manifest.getLogo()+'"/>'},(U=new g.LabelValuePair(A)).parse(k),U.isRootLevel=!0,w.addItem(U)}return S.push(w),m?this._parseMetadataOptions(m,S):S},y.prototype.getRequiredStatement=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var m=this.manifest.getRequiredStatement();return m?{label:m.getLabel(),value:m.getValue()}:null},y.prototype._parseMetadataOptions=function(m,S){var N=this.getCurrentSequence(),w=N.getMetadata();if(w&&w.length){var A=new _(N);A.addMetadata(w),S.push(A)}if(m.range){var P=this._getRangeMetadata([],m.range);P=P.reverse(),S=S.concat(P)}if(m.canvases&&m.canvases.length)for(var k=0;k<m.canvases.length;k++){var U=m.canvases[k],Z=U.getMetadata();if(Z&&Z.length){var Ee=new _(U);Ee.addMetadata(U.getMetadata()),S.push(Ee)}for(var Qe=U.getImages(),Dt=0;Dt<Qe.length;Dt++){var Ar=Qe[Dt],ro=Ar.getMetadata();if(ro&&ro.length){var xs=new _(Ar);xs.addMetadata(ro),S.push(xs)}}}return S},y.prototype._getRangeMetadata=function(m,S){var N=S.getMetadata();if(N&&N.length){var w=new _(S);w.addMetadata(N),m.push(w)}else if(S.parentRange)return this._getRangeMetadata(m,S.parentRange);return m},y.prototype.getMultiSelectState=function(){return this._multiSelectState||(this._multiSelectState=new E,this._multiSelectState.ranges=this.getRanges().slice(0),this._multiSelectState.canvases=this.getCurrentSequence().getCanvases().slice(0)),this._multiSelectState},y.prototype.getCurrentRange=function(){return this.rangeId?this.getRangeById(this.rangeId):null},y.prototype.getPosterCanvas=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getPosterCanvas()},y.prototype.getPosterImage=function(){var m=this.getPosterCanvas();if(m){var S=m.getContent();if(S&&S.length)return S[0].getBody()[0].id}return null},y.prototype.getPreviousRange=function(m){var S=null;if(S=m||this.getCurrentRange()){var N=this.getFlattenedTree();if(N)for(var w=0;w<N.length;w++){var A=N[w];if(A&&A.data.id===S.id){for(;w>0;)return N[--w].data;break}}}return null},y.prototype.getNextRange=function(m){var S=null;if(S=m||this.getCurrentRange()){var N=this.getFlattenedTree();if(N)for(var w=0;w<N.length;w++){var A=N[w];if(A&&A.data.id===S.id){for(;w<N.length-1;){var P=N[++w];if(P.data.canvases&&P.data.canvases.length)return P.data}break}}}return null},y.prototype.getFlattenedTree=function(m){var S=null;return(S=m||this.getTree())?this._flattenTree(S,"nodes"):null},y.prototype._flattenTree=function(m,S){var N=this,w=[m];return m[S]&&m[S].length>0?w.concat(m[S].map(function(A){return N._flattenTree(A,S)}).reduce(function(A,P){return A.concat(P)},[])):w},y.prototype.getRanges=function(){return this.manifest.getAllRanges()},y.prototype.getRangeByPath=function(m){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getRangeByPath(m)},y.prototype.getRangeById=function(m){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getRangeById(m)},y.prototype.getRangeCanvases=function(m){var S=m.getCanvasIds();return this.getCanvasesById(S)},y.prototype.getRelated=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getRelated()},y.prototype.getSearchService=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var m=this.manifest.getService(h.SEARCH_0);return m||(m=this.manifest.getService(h.SEARCH_1)),m},y.prototype.getSeeAlso=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getSeeAlso()},y.prototype.getSequenceByIndex=function(m){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getSequenceByIndex(m)},y.prototype.getShareServiceUrl=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var m=null,S=this.manifest.getService(h.SHARE_EXTENSIONS);return S&&(S.length&&(S=S[0]),m=S.__jsonld.shareUrl),m},y.prototype._getSortedTreeNodesByDate=function(m,S){var N=this.getFlattenedTree(S);if(N){var w=N.filter(function(A){return A.data.type===g.TreeNodeType.MANIFEST});this.createDecadeNodes(m,N),this.sortDecadeNodes(m),this.createYearNodes(m,N),this.sortYearNodes(m),this.createMonthNodes(m,w),this.sortMonthNodes(m),this.createDateNodes(m,w),this.pruneDecadeNodes(m)}},y.prototype.getStartCanvasIndex=function(){return this.getCurrentSequence().getStartCanvasIndex()},y.prototype.getThumbs=function(m,S){return this.getCurrentSequence().getThumbs(m,S)},y.prototype.getTopRanges=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getTopRanges()},y.prototype.getTotalCanvases=function(){return this.getCurrentSequence().getTotalCanvases()},y.prototype.getTrackingLabel=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getTrackingLabel()},y.prototype._getTopRanges=function(){return this.iiifResource.getTopRanges()},y.prototype.getTree=function(m,S){if(m===void 0&&(m=0),S===void 0&&(S=r.NONE),!this.iiifResource)return null;var N;if(this.iiifResource.isCollection())N=this.iiifResource.getDefaultTree();else{var w=this._getTopRanges(),A=new g.TreeNode;if(A.label="root",A.data=this.iiifResource,!w.length)return A;N=w[m].getTree(A)}var P=new g.TreeNode;switch(S.toString()){case r.DATE.toString():if(this.treeHasNavDates(N)){this._getSortedTreeNodesByDate(P,N);break}default:P=N}return P},y.prototype.treeHasNavDates=function(m){var S=this.getFlattenedTree(m);return!!S&&S.some(function(N){return!isNaN(N.navDate)})},y.prototype.getViewingDirection=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var m=this.getCurrentSequence().getViewingDirection();return m||(m=this.manifest.getViewingDirection()),m},y.prototype.getViewingHint=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var m=this.getCurrentSequence().getViewingHint();return m||(m=this.manifest.getViewingHint()),m},y.prototype.hasParentCollection=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return!!this.manifest.parentCollection},y.prototype.hasRelatedPage=function(){var m=this.getRelated();return!!m&&(m.length&&(m=m[0]),m.format==="text/html")},y.prototype.hasResources=function(){return this.getCurrentCanvas().getResources().length>0},y.prototype.isBottomToTop=function(){var m=this.getViewingDirection();return!!m&&m===p.BOTTOM_TO_TOP},y.prototype.isCanvasIndexOutOfRange=function(m){return this.getCurrentSequence().isCanvasIndexOutOfRange(m)},y.prototype.isContinuous=function(){var m=this.getViewingHint();return!!m&&m===a.CONTINUOUS},y.prototype.isFirstCanvas=function(m){return m!==void 0?this.getCurrentSequence().isFirstCanvas(m):this.getCurrentSequence().isFirstCanvas(this.canvasIndex)},y.prototype.isHorizontallyAligned=function(){return this.isLeftToRight()||this.isRightToLeft()},y.prototype.isLastCanvas=function(m){return m!==void 0?this.getCurrentSequence().isLastCanvas(m):this.getCurrentSequence().isLastCanvas(this.canvasIndex)},y.prototype.isLeftToRight=function(){var m=this.getViewingDirection();return!!m&&m===p.LEFT_TO_RIGHT},y.prototype.isMultiCanvas=function(){return this.getCurrentSequence().isMultiCanvas()},y.prototype.isMultiSequence=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.isMultiSequence()},y.prototype.isPaged=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var m=this.getViewingHint();return m?m===a.PAGED:this.manifest.isPagingEnabled()},y.prototype.isPagingAvailable=function(){return this.isPagingEnabled()&&this.getTotalCanvases()>2},y.prototype.isPagingEnabled=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.isPagingEnabled()||this.getCurrentSequence().isPagingEnabled()},y.prototype.isRightToLeft=function(){var m=this.getViewingDirection();return!!m&&m===p.RIGHT_TO_LEFT},y.prototype.isTopToBottom=function(){var m=this.getViewingDirection();return!!m&&m===p.TOP_TO_BOTTOM},y.prototype.isTotalCanvasesEven=function(){return this.getCurrentSequence().isTotalCanvasesEven()},y.prototype.isUIEnabled=function(m){if(!this.manifest)throw new Error(v.manifestNotLoaded);var S=this.manifest.getService(h.UI_EXTENSIONS);if(S){var N=S.getProperty("disableUI");if(N&&(N.indexOf(m)!==-1||N.indexOf(m.toLowerCase())!==-1))return!1}return!0},y.prototype.isVerticallyAligned=function(){return this.isTopToBottom()||this.isBottomToTop()},y.prototype.createDateNodes=function(m,S){for(var N=0;N<S.length;N++){var w=S[N],A=this.getNodeYear(w),P=this.getNodeMonth(w),k=new g.TreeNode;k.id=w.id,k.label=this.getNodeDisplayDate(w),k.data=w.data,k.data.type=g.TreeNodeType.MANIFEST,k.data.year=A,k.data.month=P;var U=this.getDecadeNode(m,A);if(U){var Z=this.getYearNode(U,A);if(Z){var Ee=this.getMonthNode(Z,P);Ee&&Ee.addNode(k)}}}},y.prototype.createDecadeNodes=function(m,S){for(var N=0;N<S.length;N++){var w=S[N];if(w.navDate){var A=this.getNodeYear(w),P=Number(A.toString().substr(0,3)+"9");if(!this.getDecadeNode(m,A)){var k=new g.TreeNode;k.label=A+" - "+P,k.navDate=w.navDate,k.data.startYear=A,k.data.endYear=P,m.addNode(k)}}}},y.prototype.createMonthNodes=function(m,S){for(var N=0;N<S.length;N++){var w=S[N];if(w.navDate){var A=this.getNodeYear(w),P=this.getNodeMonth(w),k=this.getDecadeNode(m,A),U=null;if(k&&(U=this.getYearNode(k,A)),k&&U&&!this.getMonthNode(U,P)){var Z=new g.TreeNode;Z.label=this.getNodeDisplayMonth(w),Z.navDate=w.navDate,Z.data.year=A,Z.data.month=P,U.addNode(Z)}}}},y.prototype.createYearNodes=function(m,S){for(var N=0;N<S.length;N++){var w=S[N];if(w.navDate){var A=this.getNodeYear(w),P=this.getDecadeNode(m,A);if(P&&!this.getYearNode(P,A)){var k=new g.TreeNode;k.label=A.toString(),k.navDate=w.navDate,k.data.year=A,P.addNode(k)}}}},y.prototype.getDecadeNode=function(m,S){for(var N=0;N<m.nodes.length;N++){var w=m.nodes[N];if(S>=w.data.startYear&&S<=w.data.endYear)return w}return null},y.prototype.getMonthNode=function(m,S){for(var N=0;N<m.nodes.length;N++){var w=m.nodes[N];if(S===this.getNodeMonth(w))return w}return null},y.prototype.getNodeDisplayDate=function(m){return m.navDate.toDateString()},y.prototype.getNodeDisplayMonth=function(m){return["January","February","March","April","May","June","July","August","September","October","November","December"][m.navDate.getMonth()]},y.prototype.getNodeMonth=function(m){return m.navDate.getMonth()},y.prototype.getNodeYear=function(m){return m.navDate.getFullYear()},y.prototype.getYearNode=function(m,S){for(var N=0;N<m.nodes.length;N++){var w=m.nodes[N];if(S===this.getNodeYear(w))return w}return null},y.prototype.pruneDecadeNodes=function(m){for(var S=[],N=0;N<m.nodes.length;N++){var w=m.nodes[N];w.nodes.length||S.push(w)}for(var A=0;A<S.length;A++){var P=S[A],k=m.nodes.indexOf(P);k>-1&&m.nodes.splice(k,1)}},y.prototype.sortDecadeNodes=function(m){m.nodes=m.nodes.sort(function(S,N){return S.data.startYear-N.data.startYear})},y.prototype.sortMonthNodes=function(m){for(var S=this,N=0;N<m.nodes.length;N++)for(var w=m.nodes[N],A=0;A<w.nodes.length;A++){var P=w.nodes[A];P.nodes=P.nodes.sort(function(k,U){return S.getNodeMonth(k)-S.getNodeMonth(U)})}},y.prototype.sortYearNodes=function(m){for(var S=this,N=0;N<m.nodes.length;N++){var w=m.nodes[N];w.nodes=w.nodes.sort(function(A,P){return S.getNodeYear(A)-S.getNodeYear(P)})}},y}(),I=function(){function y(m){this._options=m,this._options.locale=this._options.locale||"en-GB"}return y.prototype.bootstrap=function(m,S){var N=this;return new Promise(function(w,A){m&&S&&(w=m,A=S),g.Utils.loadManifest(N._options.manifestUri).then(function(P){N._loaded(N,P,w,A)})})},y.prototype._loaded=function(m,S,N,w){var A=g.Utils.parseManifest(S,{locale:m._options.locale});if(A){m._options.iiifResource||(m._options.iiifResource=A);var P=m._options.collectionIndex,k=m._options.manifestIndex;if(A.getIIIFResourceType()===u.COLLECTION){var U=A.getManifests(),Z=A.getCollections();U.length||P!==void 0||(P=0),P!==void 0&&Z&&Z.length?A.getCollectionByIndex(P).then(function(Qe){Qe||w("Collection index not found"),Qe.getTotalManifests()===0&&k===0&&Qe.getTotalCollections()>0?(m._options.collectionIndex=0,m._options.manifestUri=Qe.id,m.bootstrap(N,w)):k!==void 0&&Qe.getManifestByIndex(k).then(function(Dt){m._options.manifest=Dt;var Ar=new T(m._options);N(Ar)})}):A.getManifestByIndex(m._options.manifestIndex).then(function(Qe){m._options.manifest=Qe;var Dt=new T(m._options);N(Dt)})}else{m._options.manifest=A;var Ee=new T(m._options);N(Ee)}}else console.error("Unable to load IIIF resource")},y}(),C=n(1),O=function(){function y(m,S){this.authHoldingPage=null,this.clickThroughService=null,this.externalService=null,this.isProbed=!1,this.isResponseHandled=!1,this.kioskService=null,this.loginService=null,this.logoutService=null,this.probeService=null,this.restrictedService=null,this.tokenService=null,m.externalResource=this,this.dataUri=this._getDataUri(m),this.index=m.index,this.authAPIVersion=S.authApiVersion,this._parseAuthServices(m),this._parseCanvasDimensions(m)}return y.prototype._getImageServiceDescriptor=function(m){for(var S=null,N=0;N<m.length;N++){var w=m[N],A=w.id;A.endsWith("/")||(A+="/"),g.Utils.isImageProfile(w.getProfile())&&(S=A+"info.json")}return S},y.prototype._getDataUri=function(m){var S=m.getContent(),N=m.getImages(),w=null;if(S&&S.length){var A=S[0].getBody();return A.length?(P=A[0].getServices()).length&&(w=this._getImageServiceDescriptor(P))?w:A[0].id:null}if(N&&N.length){var P,k=N[0].getResource();return(P=k.getServices()).length&&(w=this._getImageServiceDescriptor(P))?w:k.id}var U=m.getService(h.IXIF);return U?U.getInfoUri():m.id},y.prototype._parseAuthServices=function(m){if(this.authAPIVersion===.9)this.clickThroughService=g.Utils.getService(m,h.AUTH_0_CLICK_THROUGH),this.loginService=g.Utils.getService(m,h.AUTH_0_LOGIN),this.restrictedService=g.Utils.getService(m,h.AUTH_0_RESTRICTED),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(h.AUTH_0_LOGOUT),this.tokenService=this.clickThroughService.getService(h.AUTH_0_TOKEN)):this.loginService?(this.logoutService=this.loginService.getService(h.AUTH_0_LOGOUT),this.tokenService=this.loginService.getService(h.AUTH_0_TOKEN)):this.restrictedService&&(this.logoutService=this.restrictedService.getService(h.AUTH_0_LOGOUT),this.tokenService=this.restrictedService.getService(h.AUTH_0_TOKEN));else{if(m.isCanvas!==void 0&&m.isCanvas()){var S=m.getContent();if(S&&S.length){var N=S[0].getBody();N&&N.length&&(m=N[0])}}this.clickThroughService=g.Utils.getService(m,h.AUTH_1_CLICK_THROUGH),this.loginService=g.Utils.getService(m,h.AUTH_1_LOGIN),this.externalService=g.Utils.getService(m,h.AUTH_1_EXTERNAL),this.kioskService=g.Utils.getService(m,h.AUTH_1_KIOSK),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(h.AUTH_1_LOGOUT),this.tokenService=this.clickThroughService.getService(h.AUTH_1_TOKEN),this.probeService=this.clickThroughService.getService(h.AUTH_1_PROBE)):this.loginService?(this.logoutService=this.loginService.getService(h.AUTH_1_LOGOUT),this.tokenService=this.loginService.getService(h.AUTH_1_TOKEN),this.probeService=this.loginService.getService(h.AUTH_1_PROBE)):this.externalService?(this.logoutService=this.externalService.getService(h.AUTH_1_LOGOUT),this.tokenService=this.externalService.getService(h.AUTH_1_TOKEN),this.probeService=this.externalService.getService(h.AUTH_1_PROBE)):this.kioskService&&(this.logoutService=this.kioskService.getService(h.AUTH_1_LOGOUT),this.tokenService=this.kioskService.getService(h.AUTH_1_TOKEN),this.probeService=this.kioskService.getService(h.AUTH_1_PROBE))}},y.prototype._parseCanvasDimensions=function(m){var S=m.getImages();if(S&&S.length){var N=S[0].getResource();this.width=N.getWidth(),this.height=N.getHeight()}else if((S=m.getContent()).length){var w=S[0].getBody();w.length&&(this.width=w[0].getWidth(),this.height=w[0].getHeight())}},y.prototype._parseDescriptorDimensions=function(m){m.width!==void 0&&(this.width=m.width),m.height!==void 0&&(this.height=m.height)},y.prototype.isAccessControlled=function(){return!!(this.clickThroughService||this.loginService||this.externalService||this.kioskService||this.probeService)},y.prototype.hasServiceDescriptor=function(){return!!this.dataUri&&this.dataUri.endsWith("info.json")},y.prototype.getData=function(m){var S=this;return S.data={},new Promise(function(N,w){if(S.dataUri)if(S.probeService){S.isProbed=!0;var A=new XMLHttpRequest;A.open("GET",S.probeService.id,!0),A.withCredentials=!0,A.onload=function(){var U=JSON.parse(A.responseText);unescape(U.contentLocation)!==S.dataUri?S.status=C.MOVED_TEMPORARILY:S.status=C.OK,N(S)},A.onerror=function(){S.status=A.status,N(S)},A.send()}else{var P="GET";if(!S.hasServiceDescriptor()){if(!S.isAccessControlled())return S.status=C.OK,void N(S);P="HEAD"}var k=new XMLHttpRequest;k.open(P,S.dataUri,!0),m&&k.setRequestHeader("Authorization","Bearer "+m.accessToken),k.onload=function(){var U=JSON.parse(k.responseText);if(U){var Z=unescape(U["@id"]);S.data=U,S._parseAuthServices(S.data),S._parseDescriptorDimensions(S.data),Z.endsWith("/info.json")&&(Z=Z.substr(0,Z.lastIndexOf("/")));var Ee=S.dataUri;Ee&&Ee.endsWith("/info.json")&&(Ee=Ee.substr(0,Ee.lastIndexOf("/"))),Z!==Ee&&S.loginService?S.status=C.MOVED_TEMPORARILY:S.status=C.OK,N(S)}else S.status=C.OK,N(S)},k.onerror=function(){S.status=k.status,k.responseText&&S._parseAuthServices(JSON.parse(k.responseText)),N(S)},k.send()}else w("There is no dataUri to fetch")})},y}(),R=function(){},M=function(){},D=function(y,m){this.value=y,this.locale=m},V=function(){function y(m){this.labels=m}return y.prototype.format=function(m){return m.indexOf("<a")!=-1?m:'<a href="'+m+'">'+(this.labels[m]?this.labels[m]:m)+"</a>"},y}();n.d(t,"loadManifest",function(){return he}),n.d(t,"AnnotationGroup",function(){return d}),n.d(t,"AnnotationRect",function(){return s}),n.d(t,"Bootstrapper",function(){return I}),n.d(t,"ExternalResource",function(){return O}),n.d(t,"Helper",function(){return T}),n.d(t,"ILabelValuePair",function(){return R}),n.d(t,"MetadataGroup",function(){return _}),n.d(t,"MetadataOptions",function(){return M}),n.d(t,"MultiSelectState",function(){return E}),n.d(t,"Translation",function(){return D}),n.d(t,"TreeSortType",function(){return r}),n.d(t,"UriLabeller",function(){return V});var he=function(y){return new I(y).bootstrap()}}])})});var eo=class{constructor(t){this.value=t}toString(){return this.value}},Ir=eo;Ir.image=new eo("image"),Ir.page=new eo("page");var Wf=nt(Zt()),Qf=nt(mf());var ye=nt(Zt());var _f;(function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"})(_f||(_f={}));var yf;(function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"})(yf||(yf={}));var Ef;(function(e){e.CANVAS="canvas",e.CHOICE="choice",e.OA_CHOICE="oa:choice",e.CONTENT_AS_TEXT="contentastext",e.DATASET="dataset",e.DOCUMENT="document",e.IMAGE="image",e.MODEL="model",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXT="text",e.TEXTUALBODY="textualbody",e.VIDEO="video"})(Ef||(Ef={}));var Tf;(function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"})(Tf||(Tf={}));var Sf;(function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DICOM="application/dicom",e.DRACO="application/draco",e.EPUB="application/epub+zip",e.GIRDER="image/vnd.kitware.girder",e.GLB="model/gltf-binary",e.GLTF="model/gltf+json",e.IIIF_PRESENTATION_2='application/ld+json;profile="http://iiif.io/api/presentation/2/context.json"',e.IIIF_PRESENTATION_3='application/ld+json;profile="http://iiif.io/api/presentation/3/context.json"',e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.OPF="application/oebps-package+xml",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.USDZ="model/vnd.usd+zip",e.VIDEO_MP4="video/mp4",e.WAV="audio/wav",e.WEBM="video/webm"})(Sf||(Sf={}));var Nf;(function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"})(Nf||(Nf={}));var If;(function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.DOWNLOAD_EXTENSIONS="http://universalviewer.io/download-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"})(If||(If={}));var Of;(function(e){e.IMAGE_SERVICE_2="ImageService2",e.IMAGE_SERVICE_3="ImageService3"})(Of||(Of={}));var Jt;(function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"})(Jt||(Jt={}));var Or;(function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"})(Or||(Or={}));var et=nt(Zt()),Cf=nt(Zt());function Os(){return Os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Os.apply(this,arguments)}function ph(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Cs(e,t)}function Cs(e,t){return Cs=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Cs(e,t)}function dh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var ws=new Map,to=new WeakMap,wf=0,hh=void 0;function gh(e){return e?(to.has(e)||(wf+=1,to.set(e,wf.toString())),to.get(e)):"0"}function vh(e){return Object.keys(e).sort().filter(function(t){return e[t]!==void 0}).map(function(t){return t+"_"+(t==="root"?gh(e.root):e[t])}).toString()}function mh(e){var t=vh(e),n=ws.get(t);if(!n){var r=new Map,i,o=new IntersectionObserver(function(l){l.forEach(function(u){var f,c=u.isIntersecting&&i.some(function(h){return u.intersectionRatio>=h});e.trackVisibility&&typeof u.isVisible=="undefined"&&(u.isVisible=c),(f=r.get(u.target))==null||f.forEach(function(h){h(c,u)})})},e);i=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:r},ws.set(t,n)}return n}function Lf(e,t,n,r){if(n===void 0&&(n={}),r===void 0&&(r=hh),typeof window.IntersectionObserver=="undefined"&&r!==void 0){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var o=mh(n),l=o.id,u=o.observer,f=o.elements,c=f.get(e)||[];return f.has(e)||f.set(e,c),c.push(t),u.observe(e),function(){c.splice(c.indexOf(t),1),c.length===0&&(f.delete(e),u.unobserve(e)),f.size===0&&(u.disconnect(),ws.delete(l))}}var _h=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function Af(e){return typeof e.children!="function"}var Rf=function(e){ph(t,e);function t(r){var i;return i=e.call(this,r)||this,i.node=null,i._unobserveCb=null,i.handleNode=function(o){i.node&&(i.unobserve(),!o&&!i.props.triggerOnce&&!i.props.skip&&i.setState({inView:!!i.props.initialInView,entry:void 0})),i.node=o||null,i.observeNode()},i.handleChange=function(o,l){o&&i.props.triggerOnce&&i.unobserve(),Af(i.props)||i.setState({inView:o,entry:l}),i.props.onChange&&i.props.onChange(o,l)},i.state={inView:!!r.initialInView,entry:void 0},i}var n=t.prototype;return n.componentDidUpdate=function(i){(i.rootMargin!==this.props.rootMargin||i.root!==this.props.root||i.threshold!==this.props.threshold||i.skip!==this.props.skip||i.trackVisibility!==this.props.trackVisibility||i.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},n.componentWillUnmount=function(){this.unobserve(),this.node=null},n.observeNode=function(){if(!(!this.node||this.props.skip)){var i=this.props,o=i.threshold,l=i.root,u=i.rootMargin,f=i.trackVisibility,c=i.delay,h=i.fallbackInView;this._unobserveCb=Lf(this.node,this.handleChange,{threshold:o,root:l,rootMargin:u,trackVisibility:f,delay:c},h)}},n.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},n.render=function(){if(!Af(this.props)){var i=this.state,o=i.inView,l=i.entry;return this.props.children({inView:o,entry:l,ref:this.handleNode})}var u=this.props,f=u.children,c=u.as,h=dh(u,_h);return et.createElement(c||"div",Os({ref:this.handleNode},h),f)},t}(et.Component);Rf.displayName="InView";Rf.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function Mf(e){var t=e===void 0?{}:e,n=t.threshold,r=t.delay,i=t.trackVisibility,o=t.rootMargin,l=t.root,u=t.triggerOnce,f=t.skip,c=t.initialInView,h=t.fallbackInView,p=et.useRef(),a=et.useState({inView:!!c}),s=a[0],d=a[1],g=et.useCallback(function(_){p.current!==void 0&&(p.current(),p.current=void 0),!f&&_&&(p.current=Lf(_,function(v,T){d({inView:v,entry:T}),T.isIntersecting&&u&&p.current&&(p.current(),p.current=void 0)},{root:l,rootMargin:o,threshold:n,trackVisibility:i,delay:r},h))},[Array.isArray(n)?n.toString():n,l,o,u,f,i,h,r]);(0,Cf.useEffect)(function(){!p.current&&s.entry&&!u&&!f&&d({inView:!!c})});var E=[g,s.inView,s.entry];return E.ref=E[0],E.inView=E[1],E.entry=E[2],E}var Ls=nt(xf()),yh=({first:e,onClick:t,paged:n,selected:r,thumb:i,viewingDirection:o})=>{let[l,u]=Mf({threshold:0,rootMargin:"0px 0px 0px 0px",triggerOnce:!0});return ye.default.createElement("div",{onClick:()=>t(i),className:(0,Ls.default)("thumb",{first:e,placeholder:!i.uri,twoCol:n&&(o===Jt.LEFT_TO_RIGHT||o===Jt.RIGHT_TO_LEFT),oneCol:!n,selected:r}),tabIndex:0},ye.default.createElement("div",{ref:l,className:"wrap",style:{height:i.height+8+"px"}},u&&ye.default.createElement("img",{src:i.uri,alt:i.label})),ye.default.createElement("div",{className:"info"},ye.default.createElement("span",{className:"label",title:i.label},i.label,"\xA0"),i.data.searchResults&&ye.default.createElement("span",{className:"searchResults"},i.data.searchResults)))},Eh=({onClick:e,paged:t,selected:n,thumbs:r,viewingDirection:i})=>{let o=(0,ye.useRef)(null);(0,ye.useEffect)(()=>{let c=o.current?.querySelector(`#thumb-${n[0]}`)?.offsetTop;o.current?.parentElement.scrollTo({top:c,left:0,behavior:"smooth"})},[n]);function l(f,c,h){return c===Or.NON_PAGED?!0:f?(h-1)%2!=0:!0}let u=r.findIndex(f=>f.viewingHint!==Or.NON_PAGED);return ye.default.createElement("div",{ref:o,className:(0,Ls.default)("thumbs",{"left-to-right":i===Jt.LEFT_TO_RIGHT,"right-to-left":i===Jt.RIGHT_TO_LEFT,paged:t})},r.map((f,c)=>ye.default.createElement("span",{key:`thumb-${c}`,id:`thumb-${c}`},ye.default.createElement(yh,{first:c===u,onClick:e,paged:t,selected:n.includes(c),thumb:f,viewingDirection:i}),l(t,f.viewingHint,c)&&ye.default.createElement("div",{className:"separator"}))))},Pf=Eh;var Yf=nt(ks());var kf;(function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"})(kf||(kf={}));var Df;(function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"})(Df||(Df={}));var Vf;(function(e){e.CANVAS="canvas",e.CHOICE="choice",e.CONTENT_AS_TEXT="contentastext",e.DOCUMENT="document",e.IMAGE="image",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXTUALBODY="textualbody",e.VIDEO="video"})(Vf||(Vf={}));var Uf;(function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"})(Uf||(Uf={}));var Gf;(function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DRACO="application/draco",e.GLTF="model/gltf+json",e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"})(Gf||(Gf={}));var Ff;(function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"})(Ff||(Ff={}));var jf;(function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"})(jf||(jf={}));var Cr;(function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"})(Cr||(Cr={}));var Hf;(function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"})(Hf||(Hf={}));var bf=function(){function e(t){this.options=t,this.options.data=Object.assign({},this.data(),t.data)}return e.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},e.prototype.data=function(){return{}},e.prototype.on=function(t,n,r){var i=this._e||(this._e={});(i[t]||(i[t]=[])).push({fn:n,ctx:r})},e.prototype.fire=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=[].slice.call(arguments,1),o=((this._e||(this._e={}))[t]||[]).slice(),l=0,u=o.length;for(l;l<u;l++)o[l].fn.apply(o[l].ctx,i)},e.prototype._resize=function(){},e.prototype.set=function(t){},e}();var Th=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bf=function(e){Th(t,e);function t(n){var r=e.call(this,n)||this;return r._data=r.data(),r._data=r.options.data,r._init(),r._resize(),r}return t.prototype._init=function(){var n=this;e.prototype._init.call(this),this._$element=$(this.el),this._$header=$('<div class="header"></div>'),this._$element.append(this._$header),this._$leftOptions=$('<div class="left"></div>'),this._$header.append(this._$leftOptions),this._$rightOptions=$('<div class="right"></div>'),this._$header.append(this._$rightOptions),this._$sizeDownButton=$('<input class="btn btn-default size-down" type="button" value="-" />'),this._$leftOptions.append(this._$sizeDownButton),this._$sizeRange=$('<input type="range" name="size" min="1" max="10" value="'+this.options.data.initialZoom+'" />'),this._$leftOptions.append(this._$sizeRange),this._$sizeUpButton=$('<input class="btn btn-default size-up" type="button" value="+" />'),this._$leftOptions.append(this._$sizeUpButton),this._$multiSelectOptions=$('<div class="multiSelectOptions"></div>'),this._$rightOptions.append(this._$multiSelectOptions),this._$selectAllButton=$('<div class="multiSelectAll"><input id="multiSelectAll" type="checkbox" tabindex="0" /><label for="multiSelectAll">'+this.options.data.content.selectAll+"</label></div>"),this._$multiSelectOptions.append(this._$selectAllButton),this._$selectAllButtonCheckbox=$(this._$selectAllButton.find("input:checkbox")),this._$selectButton=$('<a class="select" href="#">'+this.options.data.content.select+"</a>"),this._$multiSelectOptions.append(this._$selectButton),this._$main=$('<div class="main"></div>'),this._$element.append(this._$main),this._$thumbs=$('<div class="thumbs"></div>'),this._$main.append(this._$thumbs),this._$sizeDownButton.on("click",function(){var i=Number(n._$sizeRange.val())-1;i>=Number(n._$sizeRange.attr("min"))&&(n._$sizeRange.val(i.toString()),n._$sizeRange.trigger("change"),n.fire(wr.DECREASE_SIZE))}),this._$sizeUpButton.on("click",function(){var i=Number(n._$sizeRange.val())+1;i<=Number(n._$sizeRange.attr("max"))&&(n._$sizeRange.val(i.toString()),n._$sizeRange.trigger("change"),n.fire(wr.INCREASE_SIZE))}),this._$sizeRange.on("change",function(){n._updateThumbs(),n._scrollToThumb(n._getSelectedThumbIndex())}),this._$selectAllButton.checkboxButton(function(i){var o=n._getMultiSelectState();o&&(i?o.selectAll(!0):o.selectAll(!1)),n.set(n.options.data)}),this._$selectButton.on("click",function(){var i=n._getMultiSelectState();if(i){var o=i.getAllSelectedCanvases().map(function(l){return l.id});n.fire(wr.MULTISELECTION_MADE,o)}}),this._setRange(),$.templates({galleryThumbsTemplate:`				<div class="{{:~galleryThumbClassName()}}" data-src="{{>uri}}" data-index="{{>index}}" data-visible="{{>visible}}" data-width="{{>width}}" data-height="{{>height}}" data-initialwidth="{{>initialWidth}}" data-initialheight="{{>initialHeight}}">						<div class="wrap" style="width:{{>initialWidth}}px; height:{{>initialHeight}}px" data-link="class{merge:multiSelected toggle='multiSelected'}">						{^{if multiSelectEnabled}}								<input id="thumb-checkbox-{{>id}}" type="checkbox" data-link="checked{:multiSelected ? 'checked' : ''}" class="multiSelect" />						{{/if}}						</div>						<div class="info">								<span class="index" style="width:{{>initialWidth}}px">{{:#index + 1}}</span>								<span class="label" style="width:{{>initialWidth}}px" title="{{>label}}">{{>label}}&nbsp;</span>								<span class="searchResults" title="{{:~galleryThumbSearchResultsTitle()}}">{{>data.searchResults}}</span>						</div>				</div>`});var r=this;return $.views.helpers({galleryThumbClassName:function(){var i="thumb preLoad";return this.data.index===0&&(i+=" first"),this.data.uri||(i+=" placeholder"),i},galleryThumbSearchResultsTitle:function(){var i=Number(this.data.data.searchResults);return i?i>1?io.format(r.options.data.content.searchResults,i.toString()):io.format(r.options.data.content.searchResult,i.toString()):null}}),this._$main.on("scroll",function(){n._updateThumbs()},this.options.data.scrollStopDuration),this.options.data.sizingEnabled||this._$sizeRange.hide(),!0},t.prototype.data=function(){return{chunkedResizingThreshold:400,content:{searchResult:"{0} search result",searchResults:"{0} search results",select:"Select",selectAll:"Select All"},debug:!1,helper:null,imageFadeInDuration:300,initialZoom:6,minLabelWidth:20,pageModeEnabled:!1,scrollStopDuration:100,searchResults:[],sizingEnabled:!0,thumbHeight:320,thumbLoadPadding:3,thumbWidth:200,viewingDirection:Cr.LEFT_TO_RIGHT}},t.prototype.set=function(n){if(this._data=Object.assign(this._data,n),this._data.helper&&this._data.thumbWidth!==void 0&&this._data.thumbHeight!==void 0&&(this._thumbs=this._data.helper.getThumbs(this._data.thumbWidth,this._data.thumbHeight)),this._data.viewingDirection&&(this._data.viewingDirection===Cr.BOTTOM_TO_TOP&&this._thumbs.reverse(),this._$thumbs.addClass(this._data.viewingDirection)),this._data.searchResults&&this._data.searchResults.length)for(var r=0;r<this._data.searchResults.length;r++){var i=this._data.searchResults[r],o=this._thumbs.filter(function(a){return a.index===i.canvasIndex})[0],l=$.extend(!0,{},o.data);l.searchResults=i.rects.length,o.data=l}this._thumbsCache=null,this._createThumbs(),this._data.helper&&this.selectIndex(this._data.helper.canvasIndex);var u=this._getMultiSelectState();if(u&&u.isEnabled){this._$multiSelectOptions.show(),this._$thumbs.addClass("multiSelect");for(var r=0;r<u.canvases.length;r++){var f=u.canvases[r],o=this._getThumbByCanvas(f);this._setThumbMultiSelected(o,f.multiSelected)}for(var r=0;r<u.ranges.length;r++)for(var c=u.ranges[r],h=this._getThumbsByRange(c),p=0;p<h.length;p++){var o=h[p];this._setThumbMultiSelected(o,c.multiSelected)}}else this._$multiSelectOptions.hide(),this._$thumbs.removeClass("multiSelect")},t.prototype._update=function(){var n=this._getMultiSelectState();if(n&&n.isEnabled){this._$selectAllButtonCheckbox.prop("checked",n.allSelected());var r=n.getAll().filter(function(i){return i.multiSelected}).length>0;r?this._$selectButton.show():this._$selectButton.hide()}},t.prototype._getMultiSelectState=function(){return this._data.helper?this._data.helper.getMultiSelectState():null},t.prototype._createThumbs=function(){var n=this;if(!!this._thumbs){this._$thumbs.undelegate(".thumb","click"),this._$thumbs.empty();for(var r=this._getMultiSelectState(),i=[],o=0;o<this._thumbs.length;o++){var l=this._thumbs[o],u=l.width,f=l.height;l.initialWidth=u,i.push(f),l.multiSelectEnabled=r?r.isEnabled:!1}for(var c=Rr.median(i),h=0;h<this._thumbs.length;h++){var l=this._thumbs[h];l.initialHeight=c}if(this._$thumbs.link($.templates.galleryThumbsTemplate,this._thumbs),r&&!r.isEnabled)this._$thumbs.delegate(".thumb","click",function(g){g.preventDefault();var E=$.view(this).data;n.fire(wr.THUMB_SELECTED,E)});else for(var p=this._$thumbs.find(".thumb"),a=function(){var g=s,E=$(p[d]);E.checkboxButton(function(_){var v=$.view(this).data;g._setThumbMultiSelected(v,!v.multiSelected);var T=g.options.data.helper.getCanvasRange(v.data),I=g._getMultiSelectState();I&&(T?I.selectRange(T,v.multiSelected):I.selectCanvas(v.data,v.multiSelected)),g._update(),g.fire(wr.THUMB_MULTISELECTED,v)})},s=this,d=0;d<p.length;d++)a()}},t.prototype._getThumbByCanvas=function(n){return this._thumbs.filter(function(r){return r.data.id===n.id})[0]},t.prototype._sizeThumb=function(n){var r=n.data().initialwidth,i=n.data().initialheight,o=Number(r),l=Number(i),u=Math.floor(o*this._range),f=Math.floor(l*this._range),c=n.find(".wrap"),h=n.find(".label"),p=n.find(".index"),a=n.find(".searchResults"),s=u;this._data.searchResults&&this._data.searchResults.length&&(a.show(),s=u-a.outerWidth(),this._data.minLabelWidth!==void 0&&s<this._data.minLabelWidth?(a.hide(),s=u):a.show()),this._data.pageModeEnabled?(p.hide(),h.show()):(p.show(),h.hide()),c.outerWidth(u),c.outerHeight(f),p.outerWidth(s),h.outerWidth(s)},t.prototype._loadThumb=function(n,r){var i=n.find(".wrap");if(!(i.hasClass("loading")||i.hasClass("loaded"))){n.removeClass("preLoad");var o=n.attr("data-visible"),l=this._data.imageFadeInDuration||0;if(o!=="false"){i.addClass("loading");var u=n.attr("data-src"),f=$('<img class="thumbImage" src="'+u+'" />');f.hide(),f.on("load",function(){$(this).fadeIn(l,function(){$(this).parent().switchClass("loading","loaded")})}),i.prepend(f),r&&r(f)}else i.addClass("hidden")}},t.prototype._getThumbsByRange=function(n){var r=[];if(!this._data.helper)return r;for(var i=0;i<this._thumbs.length;i++){var o=this._thumbs[i],l=o.data,u=this._data.helper.getCanvasRange(l,n.path);u&&u.id===n.id&&r.push(o)}return r},t.prototype._updateThumbs=function(){var n=!!this._data.debug;this._setRange();var r=this._$main.scrollTop(),i=this._$main.height(),o=r+i;n&&console.log("scrollTop %s, scrollBottom %s",r,o);for(var l=this._getAllThumbs(),u=0,f=0;f<l.length;f++){var c=$(l[f]),h=c.position().top,p=c.outerHeight(),a=h+p,s=p*this._data.thumbLoadPadding;h<=o+s&&a>=r-s?(u+=1,this._sizeThumb(c),c.addClass("insideScrollArea"),this._loadThumb(c)):c.removeClass("insideScrollArea")}n&&console.log("number of thumbs to update: "+u)},t.prototype._getSelectedThumbIndex=function(){return Number(this._$selectedThumb.data("index"))},t.prototype._getAllThumbs=function(){return this._thumbsCache||(this._thumbsCache=this._$thumbs.find(".thumb")),this._thumbsCache},t.prototype._getThumbByIndex=function(n){return this._$thumbs.find('[data-index="'+n+'"]')},t.prototype._scrollToThumb=function(n){var r=this._getThumbByIndex(n);this._$main.scrollTop(r.position().top)},t.prototype.selectIndex=function(n){!this._thumbs||!this._thumbs.length||(this._getAllThumbs().removeClass("selected"),this._$selectedThumb=this._getThumbByIndex(n),this._$selectedThumb.addClass("selected"),this._scrollToThumb(n),this._updateThumbs())},t.prototype._setRange=function(){var n=Rr.normalise(Number(this._$sizeRange.val()),0,10);this._range=Rr.clamp(n,.05,1)},t.prototype._setThumbMultiSelected=function(n,r){$.observable(n).setProperty("multiSelected",r)},t.prototype._resize=function(){},t}(bf);var wr=function(){function e(){}return e.DECREASE_SIZE="decreaseSize",e.INCREASE_SIZE="increaseSize",e.MULTISELECTION_MADE="multiSelectionMade",e.THUMB_SELECTED="thumbSelected",e.THUMB_MULTISELECTED="thumbMultiSelected",e}();var Sh=window.$,As=class extends Mr{constructor(t){super(t,!0,!0);this.isOpen=!1}create(){this.setConfig("contentLeftPanel"),super.create(),this.$gallery=Sh('<div class="iiif-gallery-component"></div>'),this.$element.append(this.$gallery)}setup(){let t=this;this.galleryComponent=new Bf({target:this.$gallery[0]}),this.galleryComponent.on("thumbSelected",function(n){t.extensionHost.publish(B.GALLERY_THUMB_SELECTED,n),t.extensionHost.publish(B.THUMB_SELECTED,n)},!1),this.galleryComponent.on("decreaseSize",function(){t.extensionHost.publish(B.GALLERY_DECREASE_SIZE)},!1),this.galleryComponent.on("increaseSize",function(){t.extensionHost.publish(B.GALLERY_INCREASE_SIZE)},!1)}databind(){this.galleryComponent.options.data=this.galleryData,this.galleryComponent.set(this.galleryData),this.resize()}show(){this.isOpen=!0,this.$element.show(),setTimeout(()=>{this.galleryComponent.selectIndex(this.extension.helper.canvasIndex)},10)}hide(){this.isOpen=!1,this.$element.hide()}resize(){super.resize();let t=this.$gallery.find(".main"),n=this.$gallery.find(".header");t.height(this.$element.height()-n.height())}};var zf=nt($f()),Nh=window.$,Ms=class extends Mr{constructor(t){super(t,!0,!0);this.isOpen=!1}create(){this.setConfig("contentLeftPanel"),super.create(),this.$tree=Nh('<div class="iiif-tree-component"></div>'),this.$element.append(this.$tree)}setup(){let t=this;this.treeComponent=new zf.TreeComponent({target:this.$tree[0],data:this.treeData}),this.treeComponent.on("treeNodeSelected",function(n){t.extensionHost.publish(B.TREE_NODE_SELECTED,n)},!1),this.treeComponent.on("treeNodeMultiSelected",function(n){t.extensionHost.publish(B.TREE_NODE_MULTISELECTED,n)},!1)}databind(){this.treeComponent.set(this.treeData),this.resize()}show(){this.isOpen=!0,this.$element.show()}hide(){this.isOpen=!1,this.$element.hide()}selectNode(t){if(!this.treeComponent.selectedNode){this.treeComponent.expandParents(t,!0);let n=this.$tree.find("#tree-link-"+t.id)[0]}this.treeComponent.selectNode(t)}expandNode(t,n){this.treeComponent.expandNode(t,n)}getAllNodes(){return this.treeComponent.getAllNodes()}deselectCurrentNode(){this.treeComponent.deselectCurrentNode()}getNodeById(t){return this.treeComponent.getNodeById(t)}resize(){super.resize()}};var Rn=nt(Kf());var re=window.$,Ih=ks().ViewingDirection,Oh=class extends Ds{constructor(t){super(t);this.expandFullEnabled=!1;this.isThumbsViewOpen=!1;this.isTreeViewOpen=!1;this.treeSortType=Mn.NONE}create(){this.setConfig("contentLeftPanel"),super.create(),this.extensionHost.subscribe(B.SETTINGS_CHANGE,()=>{this.render()}),this.extensionHost.subscribe(B.CANVAS_INDEX_CHANGE,()=>{this.render()}),this.extensionHost.subscribe(B.GALLERY_THUMB_SELECTED,()=>{this.collapseFull()}),this.extensionHost.subscribe(B.METRIC_CHANGE,()=>{this.extension.isDesktopMetric()||this.isFullyExpanded&&this.collapseFull()}),this.extensionHost.subscribe(B.ANNOTATIONS,()=>{this.renderThumbs(),this.renderGallery()}),this.extensionHost.subscribe(B.ANNOTATIONS_CLEARED,()=>{this.renderThumbs(),this.renderGallery()}),this.extensionHost.subscribe(B.ANNOTATIONS_EMPTY,()=>{this.renderThumbs(),this.renderGallery()}),this.extensionHost.subscribe(B.CANVAS_INDEX_CHANGE,()=>{this.isFullyExpanded&&this.collapseFull(),this.selectCurrentTreeNode(),this.updateTreeTabBySelection()}),this.extensionHost.subscribe(B.RANGE_CHANGE,()=>{this.isFullyExpanded&&this.collapseFull(),this.selectCurrentTreeNode(),this.updateTreeTabBySelection()}),this.$tabs=re('<div class="tabs"></div>'),this.$main.append(this.$tabs),this.$treeButton=re('<a class="index tab" tabindex="0">'+this.content.index+"</a>"),this.$tabs.append(this.$treeButton),this.$thumbsButton=re('<a class="thumbs tab" tabindex="0">'+this.content.thumbnails+"</a>"),this.$tabs.append(this.$thumbsButton),this.$tabsContent=re('<div class="tabsContent"></div>'),this.$main.append(this.$tabsContent),this.$options=re('<div class="options"></div>'),this.$tabsContent.append(this.$options),this.$topOptions=re('<div class="top"></div>'),this.$options.append(this.$topOptions),this.$treeSelect=re('<select aria-label="'+this.content.manifestRanges+'"></select>'),this.$topOptions.append(this.$treeSelect),this.$bottomOptions=re('<div class="bottom"></div>'),this.$options.append(this.$bottomOptions),this.$leftOptions=re('<div class="left"></div>'),this.$bottomOptions.append(this.$leftOptions),this.$rightOptions=re('<div class="right"></div>'),this.$bottomOptions.append(this.$rightOptions),this.$treeViewOptions=re('<div class="treeView"></div>'),this.$leftOptions.append(this.$treeViewOptions),this.$sortByLabel=re('<span class="sort">'+this.content.sortBy+"</span>"),this.$treeViewOptions.append(this.$sortByLabel),this.$sortButtonGroup=re('<div class="btn-group"></div>'),this.$treeViewOptions.append(this.$sortButtonGroup),this.$sortByDateButton=re('<button class="btn" tabindex="0">'+this.content.date+"</button>"),this.$sortButtonGroup.append(this.$sortByDateButton),this.$sortByVolumeButton=re('<button class="btn" tabindex="0">'+this.content.volume+"</button>"),this.$sortButtonGroup.append(this.$sortByVolumeButton),this.$views=re('<div class="views"></div>'),this.$tabsContent.append(this.$views),this.$treeView=re('<div class="treeView"></div>'),this.$views.append(this.$treeView),this.$thumbsView=re('<div class="thumbsView" tabindex="-1"></div>'),this.$views.append(this.$thumbsView),this.$galleryView=re('<div class="galleryView"></div>'),this.$views.append(this.$galleryView),this.$treeSelect.hide(),this.$treeSelect.change(()=>{this.renderTree(),this.selectCurrentTreeNode(),this.updateTreeTabBySelection()}),this.$sortByDateButton.on("click",()=>{this.sortByDate()}),this.$sortByVolumeButton.on("click",()=>{this.sortByVolume()}),this.$treeViewOptions.hide(),this.onAccessibleClick(this.$treeButton,()=>{this.openTreeView()}),this.onAccessibleClick(this.$thumbsButton,()=>{this.openThumbsView()}),this.setTitle(this.content.title),this.$sortByVolumeButton.addClass("on");var t=this.options.tabOrder;if(t){t=t.toLowerCase(),t=t.replace(/ /g,"");var n=t.split(",");n[0]==="thumbs"?(this.$treeButton.before(this.$thumbsButton),this.$thumbsButton.addClass("first")):this.$treeButton.addClass("first")}}createTreeView(){this.treeView=new Ms(this.$treeView),this.treeView.treeData=this.getTreeData(),this.treeView.setup(),this.renderTree();let t=this.extension.helper.getTopRanges();if(t.length>1)for(let n=0;n<t.length;n++){let r=t[n];this.$treeSelect.append('<option value="'+r.id+'">'+Rn.LanguageMap.getValue(r.getLabel())+"</option>")}this.updateTreeViewOptions()}render(){this.renderThumbs(),this.renderTree(),this.renderGallery()}updateTreeViewOptions(){let t=this.getTree();!t||(this.isCollection()&&this.extension.helper.treeHasNavDates(t)?this.$treeViewOptions.show():this.$treeViewOptions.hide(),this.$treeSelect.find("option").length?this.$treeSelect.show():this.$treeSelect.hide())}sortByDate(){this.treeSortType=Mn.DATE,this.treeView.treeData=this.getTreeData(),this.treeView.databind(),this.selectCurrentTreeNode(),this.$sortByDateButton.addClass("on"),this.$sortByVolumeButton.removeClass("on"),this.resize()}sortByVolume(){this.treeSortType=Mn.NONE,this.treeView.treeData=this.getTreeData(),this.treeView.databind(),this.selectCurrentTreeNode(),this.$sortByDateButton.removeClass("on"),this.$sortByVolumeButton.addClass("on"),this.resize()}isCollection(){var t=this.getTree();if(t)return t.data.type===Rn.TreeNodeType.COLLECTION;throw new Error("Tree not available")}renderTree(){!this.treeView||(this.treeView.treeData=this.getTreeData(),this.treeView.databind(),this.selectCurrentTreeNode())}getTreeData(){return{autoExpand:this._isTreeAutoExpanded(),branchNodesExpandOnClick:rt.getBool(this.config.options.branchNodesExpandOnClick,!0),branchNodesSelectable:rt.getBool(this.config.options.branchNodesSelectable,!1),helper:this.extension.helper,topRangeIndex:this.getSelectedTopRangeIndex(),treeSortType:this.treeSortType}}_isTreeAutoExpanded(){let t=rt.getBool(this.config.options.autoExpandTreeEnabled,!1),n=this.config.options.autoExpandTreeIfFewerThan||0;if(t){let r=this.extension.helper.getFlattenedTree();if(r&&r.length<n)return!0}return!1}updateTreeTabByCanvasIndex(){let t=this.extension.helper.getTopRanges();if(t.length>1){let n=this.getCurrentCanvasTopRangeIndex();if(n===-1)return;let r=t[n];this.setTreeTabTitle(Rn.LanguageMap.getValue(r.getLabel()))}else this.setTreeTabTitle(this.content.index)}setTreeTabTitle(t){this.$treeButton.text(t)}updateTreeTabBySelection(){let t=null,n=this.extension.helper.getTopRanges();n.length>1&&(this.treeView?t=this.getSelectedTree().text():t=Rn.LanguageMap.getValue(n[0].getLabel())),t?this.setTreeTabTitle(t):this.setTreeTabTitle(this.content.index)}getViewingHint(){return this.extension.helper.getViewingHint()}getViewingDirection(){return this.extension.helper.getViewingDirection()}createThumbsRoot(){this.thumbsRoot||(this.thumbsRoot=(0,Qf.createRoot)(this.$thumbsView[0])),this.renderThumbs()}renderThumbs(){if(!this.thumbsRoot)return;let t=this.getViewingDirection(),n=this.extension.helper.getThumbs(90);t&&t===Ih.BOTTOM_TO_TOP&&n.reverse();let r=this.extension.annotations;if(r&&r.length)for(let l=0;l<r.length;l++){let u=r[l],f=n.filter(c=>c.index===u.canvasIndex)[0];if(f){let c=Object.assign({},f.data);c.searchResults=u.rects.length,f.data=c}}let i=!!this.extension.getSettings().pagingEnabled&&this.extension.helper.isPaged(),o=this.extension.getPagedIndices(this.extension.helper.canvasIndex);this.thumbsRoot.render((0,Wf.createElement)(Pf,{thumbs:n,paged:i,viewingDirection:t||Yf.ViewingDirection.LEFT_TO_RIGHT,selected:o,onClick:l=>{this.extensionHost.publish(B.THUMB_SELECTED,l)}}))}createGalleryView(){this.galleryView=new As(this.$galleryView),this.galleryView.galleryData=this.getGalleryData(),this.galleryView.setup(),this.renderGallery()}renderGallery(){!this.galleryView||(this.galleryView.galleryData=this.getGalleryData(),this.galleryView.databind())}getGalleryData(){return{helper:this.extension.helper,chunkedResizingThreshold:this.config.options.galleryThumbChunkedResizingThreshold,content:this.config.content,debug:!1,imageFadeInDuration:300,initialZoom:6,minLabelWidth:20,pageModeEnabled:this.isPageModeEnabled(),scrollStopDuration:100,searchResults:this.extension.annotations,sizingEnabled:!0,thumbHeight:this.config.options.galleryThumbHeight,thumbLoadPadding:this.config.options.galleryThumbLoadPadding,thumbWidth:this.config.options.galleryThumbWidth,viewingDirection:this.getViewingDirection()}}isPageModeEnabled(){return typeof this.extension.getMode=="function"?rt.getBool(this.config.options.pageModeEnabled,!0)&&this.extension.getMode().toString()===Ir.page.toString():rt.getBool(this.config.options.pageModeEnabled,!0)}getSelectedTree(){return this.$treeSelect.find(":selected")}getSelectedTopRangeIndex(){let t=this.getSelectedTree().index();return t===-1&&(t=0),t}getTree(){let t=this.getSelectedTopRangeIndex();return this.extension.helper.getTree(t,Mn.NONE)}toggleFinish(){if(super.toggleFinish(),this.isUnopened){let t=rt.getBool(this.config.options.treeEnabled,!0),n=rt.getBool(this.config.options.thumbsEnabled,!0),r=this.getTree();(!r||!r.nodes.length)&&(t=!1),(!t||!n)&&this.$tabs.hide(),n&&this.defaultToThumbsView()?this.openThumbsView():t&&this.openTreeView()}}defaultToThumbsView(){let t=rt.getBool(this.config.options.defaultToTreeEnabled,!1),n=this.config.options.defaultToTreeIfGreaterThan||0,r=this.getTree();return!(t&&r&&r.nodes.length>n)}expandFullStart(){super.expandFullStart(),this.extensionHost.publish(B.LEFTPANEL_EXPAND_FULL_START)}expandFullFinish(){super.expandFullFinish(),this.$treeButton.hasClass("on")?this.openTreeView():this.$thumbsButton.hasClass("on")&&this.openThumbsView(),this.extensionHost.publish(B.LEFTPANEL_EXPAND_FULL_FINISH)}collapseFullStart(){super.collapseFullStart(),this.extensionHost.publish(B.LEFTPANEL_COLLAPSE_FULL_START)}collapseFullFinish(){super.collapseFullFinish(),this.$thumbsButton.hasClass("on")&&this.openThumbsView(),this.extensionHost.publish(B.LEFTPANEL_COLLAPSE_FULL_FINISH)}openTreeView(){this.isTreeViewOpen=!0,this.isThumbsViewOpen=!1,this.treeView||this.createTreeView(),this.$treeButton.addClass("on"),this.$thumbsButton.removeClass("on"),this.treeView.show(),this.$thumbsView&&this.$thumbsView.hide(),this.galleryView&&this.galleryView.hide(),this.updateTreeViewOptions(),this.selectCurrentTreeNode(),this.resize(),this.treeView.resize(),this.extensionHost.publish(B.OPEN_TREE_VIEW)}openThumbsView(){this.isTreeViewOpen=!1,this.isThumbsViewOpen=!0,this.createThumbsRoot(),this.isFullyExpanded&&!this.galleryView&&this.createGalleryView(),this.$treeButton.removeClass("on"),this.$thumbsButton.addClass("on"),this.treeView&&this.treeView.hide(),this.$treeSelect.hide(),this.$treeViewOptions.hide(),this.resize(),this.isFullyExpanded?(this.$thumbsView.hide(),this.galleryView&&this.galleryView.show(),this.galleryView&&this.galleryView.resize()):(this.galleryView&&this.galleryView.hide(),this.$thumbsView.show(),this.$thumbsView.resize()),this.extensionHost.publish(B.OPEN_THUMBS_VIEW)}selectTopRangeIndex(t){this.$treeSelect.prop("selectedIndex",t)}getCurrentCanvasTopRangeIndex(){let t=-1,n=this.extension.getCurrentCanvasRange();return n&&(t=Number(n.path.split("/")[0])),t}selectCurrentTreeNode(){this.extension.type?.name==="uv-openseadragon-extension"?this.selectCurrentTreeNodeByCanvas():this.selectCurrentTreeNodeByRange()}selectCurrentTreeNodeByRange(){if(this.treeView){let t=this.extension.helper.getCurrentRange(),n=null;t&&t.treeNode&&(n=this.treeView.getNodeById(t.treeNode.id)),n?this.treeView.selectNode(n):this.selectTreeNodeByManifest()}}selectCurrentTreeNodeByCanvas(){if(this.treeView){let t=null,n=this.getCurrentCanvasTopRangeIndex(),r=this.getSelectedTopRangeIndex(),i=n===r,o=null;n!==-1&&(o=this.extension.getCurrentCanvasRange(),o&&o.treeNode&&(t=this.treeView.getNodeById(o.treeNode.id))),t&&i?this.treeView.selectNode(t):(o=this.extension.helper.getCurrentRange(),o&&o.treeNode&&(t=this.treeView.getNodeById(o.treeNode.id)),t?this.treeView.selectNode(t):this.selectTreeNodeByManifest())}}selectTreeNodeByManifest(){let t=this.extension.helper.collectionIndex,n=this.extension.helper.manifestIndex,r=this.treeView.getAllNodes(),i=!1;r.map(o=>{o.isCollection()&&o.data.index===t&&(this.treeView.selectNode(o),this.treeView.expandNode(o,!0),i=!0),o.isManifest()&&o.data.index===n&&(this.treeView.selectNode(o),i=!0)}),i||this.treeView.deselectCurrentNode()}resize(){super.resize(),this.$tabsContent.height(this.$main.height()-(Ps(this.$tabs)?this.$tabs.height():0)-this.$tabsContent.verticalPadding()),this.$views.height(this.$tabsContent.height()-this.$options.outerHeight())}};export{bf as a,Zt as b,mf as c,Jt as d,xf as e,Bf as f,Ir as g,Oh as h};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
